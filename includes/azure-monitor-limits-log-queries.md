---
title: включить файл
description: включить файл
services: azure-monitor
author: rboucher
tags: azure-service-management
ms.topic: include
ms.date: 07/22/2019
ms.author: bwren
ms.custom: include file
ms.openlocfilehash: 83754842eeb4b5d609596045c11451e898960b9a
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "90064853"
---
### <a name="general-query-limits"></a>Общие ограничения запросов

| Ограничение | Описание |
|:---|:---|
| Язык запросов | Azure Monitor использует тот же [язык запросов Kusto](/azure/kusto/query/), что и Azure Data Explorer. Элементы языка KQL, которые не поддерживаются в Azure Monitor, см. в статье [Различия в языках запросов журнала Azure Monitor](../articles/azure-monitor/log-query/data-explorer-difference.md). |
| Регионы Azure | При выполнении запросов журналов может возникать чрезмерная нагрузка, если данные охватывают рабочие области Log Analytics в нескольких регионах Azure. См. раздел [Ограничения на запросы](../articles/azure-monitor/log-query/scope.md#query-limits). |
| Запросы между несколькими ресурсами | Максимальное число ресурсов Application Insights и рабочих областей Log Analytics в одном запросе ограничено 100.<br>Запросы между несколькими ресурсами не поддерживаются в конструкторе представлений.<br>Запрос между разными ресурсами в оповещениях журнала поддерживается в новом API правил запросов по расписанию.<br>См. раздел [Ограничения запросов между ресурсами](../articles/azure-monitor/log-query/cross-workspace-query.md#cross-resource-query-limits). |

### <a name="user-query-throttling"></a>Регулирование запросов пользователей
Azure Monitor имеет несколько ограничений на регулирование для защиты от пользователей, отправляющих слишком много запросов. Такое поведение может привести к чрезмерной нагрузке на внутренние ресурсы системы и ухудшить скорость реагирования службы. Следующие ограничения предназначены для защиты клиентов от перерывов в работе и обеспечения согласованного обслуживания. Регулирование и ограничения для пользователей рассчитаны только на применение в экстремальных сценариях и не имеют большого значения в типичных сценариях использования.


| Measure | Ограничение на пользователя | Описание |
|:---|:---|:---|
| Параллельные запросы | 5 | Если для пользователя уже выполняется пять запросов, новые запросы помещаются в очередь параллельной обработки для каждого пользователя. Когда выполнение одного из запросов завершается, из очереди извлекается и запускается следующий запрос. Это не относится к запросам от правил генерации оповещений.
| Время в очереди параллельной обработки | 3 минуты | Если запрос находится в очереди более трех минут, в течение которых он не выполняется, он будет завершен с ответом об ошибке HTTP с кодом 429. |
| Всего запросов в очереди параллельной обработки | 200 | Если число запросов в очереди достигнет 200, все дополнительные запросы будут отклонены с кодом ошибки HTTP 429. Это число запросов в дополнение к описанным выше пяти запросам, которые могут выполняться одновременно. |
| Частота запросов | 200 запросов в течение 30 секунд | Это общая скорость, с которой запросы могут отправляться одним пользователем во все рабочие области.  Это ограничение применяется к программным запросам или запросам, которые инициируются такими компонентами визуализации, как панели мониторинга Azure и страница сводки рабочей области Log Analytics. |

- См. статью [Оптимизация запросов журналов в Azure Monitor](../articles/azure-monitor/log-query/query-optimization.md).
- Панели мониторинга и книги могут содержать несколько запросов в одном представлении, что увеличивает число запросов при каждой операции загрузки или обновления. Попробуйте разделить их на несколько представлений, загружаемых по запросу. 
- Кроме того, в Power BI можно извлекать только агрегированные результаты, а не необработанные журналы.
