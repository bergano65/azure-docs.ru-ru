---
title: включить файл
description: включить файл
services: storage
author: normesta
ms.service: storage
ms.topic: include
ms.date: 02/03/2021
ms.author: normesta
ms.custom: include file
ms.openlocfilehash: c5c98d7a067107673b4dafd1897f56804085a297
ms.sourcegitcommit: 227b9a1c120cd01f7a39479f20f883e75d86f062
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/18/2021
ms.locfileid: "100654471"
---
## <a name="best-practices"></a>Рекомендации

В этом разделе приведены рекомендации по рекурсивной настройке списков управления доступом. 

#### <a name="handling-runtime-errors"></a>Обработка ошибок времени выполнения

Ошибка времени выполнения может возникать по многим причинам (например, в случае сбоя или проблемы с подключением клиента). При возникновении ошибки во время выполнения перезапустите процесс рекурсивного ACL. Списки управления доступом можно повторно применить к элементам, не вызывая негативного воздействия. 

#### <a name="handling-permission-errors-403"></a>Обработка ошибок разрешений (403)

Если при выполнении рекурсивного процесса ACL возникает исключение управления доступом, возможно, [субъект безопасности](/azure/role-based-access-control/overview#security-principal) Active Directory не имеет достаточных разрешений для применения ACL к одному или нескольким дочерним элементам в иерархии каталогов. При возникновении ошибки в разрешении процесс останавливается и предоставляется маркер продолжения. Устраните проблему с разрешениями, а затем используйте токен продолжения для обработки оставшегося набора данных. Каталоги и файлы, которые уже были успешно обработаны, не должны обрабатываться повторно. Можно также выбрать перезапуск процесса рекурсивного ACL. Списки управления доступом можно повторно применить к элементам, не вызывая негативного воздействия. 

#### <a name="credentials"></a>Учетные данные 

Рекомендуется подготавливать субъект безопасности Azure AD, которому назначена роль [владельца данных BLOB-объекта хранилища](/azure/role-based-access-control/built-in-roles#storage-blob-data-owner) , в области целевой учетной записи хранения или контейнера. 

#### <a name="performance"></a>Производительность 

Чтобы сократить задержку, рекомендуется запустить процесс рекурсивного ACL на виртуальной машине Azure, расположенной в том же регионе, что и учетная запись хранения. 

#### <a name="acl-limits"></a>Ограничения ACL

Максимальное число списков управления доступом, которое можно применить к каталогу или файлу, — 32 ACL для доступа к таблицам ACL и по умолчанию 32. Дополнительные сведения см. в статье [Контроль доступа в Azure Data Lake Storage 2-го поколения](/azure/storage/blobs/data-lake-storage-access-control).