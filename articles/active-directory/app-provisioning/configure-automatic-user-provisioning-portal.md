---
title: Управление подготовкой пользователей для корпоративных приложений в Azure AD
description: Узнайте, как управлять подготовкой учетных записей пользователя для корпоративных приложений в Azure Active Directory.
services: active-directory
documentationcenter: ''
author: kenwith
manager: celestedg
ms.service: active-directory
ms.subservice: app-provisioning
ms.topic: how-to
ms.workload: identity
ms.date: 11/25/2019
ms.author: kenwith
ms.reviewer: arvinh
ms.openlocfilehash: 9c42a83b4f7f3c6b5ff501525a04ebd96c2a692a
ms.sourcegitcommit: 3bf69c5a5be48c2c7a979373895b4fae3f746757
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2020
ms.locfileid: "88234845"
---
# <a name="managing-user-account-provisioning-for-enterprise-apps-in-the-azure-portal"></a>Управление подготовкой учетных записей пользователей для корпоративных приложений на портале Azure

В этой статье описываются общие действия по управлению автоматической подготовкой и удалением учетных записей пользователей в приложениях, которые поддерживают эту функциональность. *Подготовка учетной записи пользователя* — это создание, обновление или отключение записей для учетных записей пользователя в локальном хранилище профилей пользователей. В большинстве облачных приложений и приложений SaaS разрешения и роли пользователей хранятся в собственном локальном хранилище профилей пользователя, и для настройки единого входа и доступа *необходимо* наличие такой записи о пользователе в этом хранилище. Дополнительные сведения об автоматической подготовке учетных записей пользователей см. в статье [Автоматическая подготовка пользователей и ее отзыв для приложений SaaS в Azure Active Directory](user-provisioning.md).

> [!IMPORTANT]
> В Azure Active Directory (Azure AD) есть коллекция, содержащая тысячи предварительно интегрированных приложений с включенной функцией автоматической подготовки с помощью Azure AD. Для начала выберите учебник по настройке подготовки для своего приложения на странице [Список учебников по интеграции приложений SaaS с Azure Active Directory](../saas-apps/tutorial-list.md). Скорее всего, вы найдете пошаговые инструкции по настройке как приложения, так и Azure AD для создания подключения подготовки.

## <a name="finding-your-apps-in-the-portal"></a>Поиск приложений на портале

На портале Azure Active Directory можно просматривать все приложения, которые настроены для использования единого входа в каталог, а также управлять ими. Корпоративные приложения — это приложения, развертываемые и используемые в вашей организации. Для просмотра корпоративных приложений и управления ими выполните указанные ниже действия.

1. Откройте [портал Azure Active Directory](https://aad.portal.azure.com).
1. В области слева выберите **Корпоративные приложения**. Отобразится список всех настроенных приложений, включая приложения, добавленные из коллекции.
1. Выберите любое приложение, чтобы загрузить его область ресурсов, в которой можно просматривать отчеты и управлять параметрами приложения.
1. Выберите **Подготовка**, чтобы управлять параметрами подготовки учетных записей пользователей для выбранного приложения.

   ![Экран подготовки для управления параметрами подготовки учетных записей пользователей](./media/configure-automatic-user-provisioning-portal/enterprise-apps-provisioning.png)

## <a name="provisioning-modes"></a>Режимы подготовки

В области **Подготовка** сначала отображается меню **Режим**, в котором показаны режимы подготовки, поддерживаемые корпоративным приложением. Здесь их можно настроить. Доступны следующие параметры.

* **Автоматически**. Этот параметр отображается, если Azure AD поддерживает автоматическую подготовку и отзыв учетных записей пользователей на основе API для этого приложения. Выберите этот режим для вывода интерфейса, позволяющего администраторам выполнять следующие действия:

  * настраивать Azure AD для подключения к API управления пользователями приложения;
  * создавать сопоставления учетных записей и рабочие процессы, определяющие то, как данные учетных записей пользователей должны передаваться между Azure AD и приложением;
  * управлять службой подготовки Azure AD.

* **Вручную**. Этот параметр отображается, если Azure AD не поддерживает автоматическую подготовку учетных записей пользователей для этого приложения. В этом случае управление сведениями об учетных записях, хранящимися в приложении, должно осуществляться с помощью внешнего процесса на основе возможностей управления пользователями и их подготовки, предоставляемых соответствующим приложением (к ним может относиться JIT-подготовка SAML).

## <a name="configuring-automatic-user-account-provisioning"></a>Настройка автоматической подготовки учетных записей пользователей

Выберите параметр **Автоматически**, чтобы указать параметры для учетных данных администратора, сопоставлений, запуска, остановки и синхронизации.

### <a name="admin-credentials"></a>Учетные данные администратора

Разверните раздел **Учетные данные администратора**, чтобы ввести учетные данные, необходимые для подключения Azure AD к API управления пользователями приложения. Требуемые входные данные зависят от приложения. Дополнительные сведения о типах учетных данных и требованиях для конкретных приложений см. в [руководстве по конфигурации для конкретного приложения](user-provisioning.md).

Нажмите кнопку **Проверить подключение**, чтобы проверить определенные учетные данные. В ходе этой проверки осуществляется попытка подключения Azure AD к приложению для подготовки приложения.

### <a name="mappings"></a>Сопоставления

Разверните раздел **Сопоставления** для просмотра и изменения атрибутов пользователей, которыми Azure AD и целевое приложение обмениваются при подготовке и обновлении учетных записей пользователей.

Есть набор предварительно настроенных сопоставлений между объектами пользователей Azure AD и каждого приложения SaaS. Некоторые приложения управляют другими типами объектов, такими как группы или контакты. Выберите сопоставление в таблице, и справа отобразится редактор сопоставлений, где их можно просмотреть и настроить.

![Экран "Сопоставление атрибутов"](./media/configure-automatic-user-provisioning-portal/enterprise-apps-provisioning-mapping.png)

Поддерживаемые настройки

* Включение и отключение сопоставлений для определенных объектов, например между объектом пользователя Azure AD и приложения SaaS.
* Изменение атрибутов, поступающих из объекта пользователя Azure AD к объекту пользователя приложения. Дополнительные сведения о сопоставлении атрибутов см. в разделе [Основные сведения о типах сопоставления атрибутов](customize-application-attributes.md#understanding-attribute-mapping-types).
* Фильтрация действий подготовки, выполняемых Azure AD в целевом приложении. Вместо полной синхронизации объектов Azure AD вы можете ограничить выполняемые действия.

  Например, если выбрать только вариант **Обновить**, Azure AD только обновит имеющиеся учетные записи пользователей в приложении и не будет создавать новые. Если выбрать только вариант **Создать**, Azure создаст учетные записи пользователей, но не обновит имеющиеся. Благодаря этой функции администраторы могут создавать различные сопоставления для рабочих процессов создания и обновления учетных записей.

* Добавление нового сопоставления атрибутов. В нижней части области **Сопоставление атрибутов** выберите команду **Добавить новое сопоставление**. Заполните форму **Изменить атрибут** и нажмите кнопку **ОК**, чтобы добавить новое сопоставление в список.

### <a name="settings"></a>Настройки

Вы можете запускать и останавливать службу подготовки Azure AD для выбранного приложения в области **Параметры** экрана **Подготовка**. Вы также можете очищать кэш подготовки и перезапускать службу.

Если подготовка включается для приложения впервые, то включите службу, переместив переключатель **Состояние подготовки** в положение **Вкл**. Это изменение приводит к тому, что служба подготовки Azure AD выполняет начальный цикл. При этом считываются пользователи, назначенные в разделе **Пользователи и группы**, запрашивается целевое приложение для них, а затем выполняются действия по подготовке, определенные в разделе **Сопоставления** Azure AD. Во время этого процесса служба подготовки сохраняет кэшированные данные об управляемых учетных записях, поэтому операции отзыва не влияют на неуправляемые учетные записи в целевых приложениях, назначение которых не планировалось. После начального цикла служба подготовки автоматически синхронизирует объекты пользователей и групп с сорокаминутным интервалом.

Чтобы приостановить работу службы подготовки, измените значение **состояния подготовки** на **Выкл**. В этом состоянии Azure не создает, не обновляет и не удаляет объекты пользователей или групп в приложении. Измените значение состояния обратно на **Вкл.** , и служба продолжит работу с места остановки.

Команда **Очистить текущее состояние и перезапустить синхронизацию** запускает начальный цикл. Затем служба снова оценивает всех пользователей в исходной системе и определяет, находятся ли они в области для подготовки. Это может быть полезно, если приложение находится на карантине или необходимо внести изменение в сопоставления атрибутов. Обратите внимание, что начальный цикл занимает больше времени, чем обычный добавочный цикл, из-за количества объектов, которые необходимо оценить. Дополнительные сведения о производительности начального и добавочного циклов см. [здесь](application-provisioning-when-will-provisioning-finish-specific-user.md).