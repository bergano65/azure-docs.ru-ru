---
title: Добавление приложения в коллекцию приложений Azure Active Directory | Документация Майкрософт
description: Узнайте, как добавить приложение, поддерживающее единый вход, в коллекцию приложений Azure Active Directory.
services: active-directory
author: rwike77
manager: CelesteDG
ms.assetid: 820acdb7-d316-4c3b-8de9-79df48ba3b06
ms.service: active-directory
ms.subservice: develop
ms.topic: conceptual
ms.workload: identity
ms.date: 12/06/2019
ms.author: ryanwi
ms.reviewer: jeedes
ms.custom: aaddev, seoapril2019
ms.collection: M365-identity-device-management
ms.openlocfilehash: 54c51a10f950fb5381ab29968a866772dcaec78c
ms.sourcegitcommit: a5ebf5026d9967c4c4f92432698cb1f8651c03bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2019
ms.locfileid: "74918017"
---
# <a name="list-your-application-in-the-azure-active-directory-application-gallery"></a>Добавление приложения в коллекцию приложений Azure Active Directory

В этой статье показано, как составить список приложений в коллекции приложений Azure Active Directory (Azure AD), реализовать единый вход (SSO) и управлять списком.

## <a name="what-is-the-azure-ad-application-gallery"></a>Что такое коллекция приложений Azure AD?

- Клиенты получают самый удобный способ единого входа.
- Конфигурация приложения будет простой и минимально необходимой.
- Ваше приложение можно будет найти в коллекции с помощью быстрого поиска.
- Эту интеграцию могут использовать все клиенты Azure AD категорий "Бесплатный", "Базовый" и "Премиум".
- Нашим общим клиентам предлагается пошаговое руководство по настройке.
- Клиенты, использующие систему для управления идентификаторами в разных доменах ([scim](https://techcommunity.microsoft.com/t5/Identity-Standards-Blog/Provisioning-with-SCIM-getting-started/ba-p/880010)), могут использовать подготовку для одного и того же приложения.

## <a name="prerequisites"></a>Технические условия

- Для федеративных приложений (Open ID и SAML/WS-подача) приложение должно поддерживать модель SaaS (программное обеспечение как услуга) для получения списка в коллекции приложений Azure AD. Приложения из коллекции предприятия должны поддерживать несколько пользовательских конфигураций, а не конкретных клиентов.
- Для Open ID Connect приложение должно быть многоклиентским, а [инфраструктура согласия Azure AD](consent-framework.md) должна быть правильно реализована для приложения. Пользователь может отправить запрос на вход в общую конечную точку, чтобы любой клиент мог предоставить согласие для приложения. Доступом пользователей можно управлять на основе идентификатора клиента и имени участника-пользователя, которые передаются в маркере.
- Для SAML 2.0/WS-подача приложение должно иметь возможность выполнять интеграцию единого входа SAML/WS-подач в режиме SP или IDP. Перед отправкой запроса убедитесь, что эта функция работает правильно.
- Для единого входа с помощью пароля убедитесь, что приложение поддерживает проверку подлинности с помощью форм, чтобы обеспечить возможность единого входа для работы в соответствии с ожиданиями.
- Вам потребуется постоянная учетная запись для тестирования по крайней мере двух зарегистрированных пользователей.

**Как получить Azure AD для разработчиков?**

Вы можете получить бесплатную тестовую учетную запись со всеми функциями Azure AD уровня "Премиум" (90 дней) бесплатно и продлить до тех пор, пока разработка работает с ней: https://docs.microsoft.com/office/developer-program/office-365-developer-program

## <a name="submit-the-request-in-the-portal"></a>Отправка запроса на портале

После того как вы проверили, что интеграция приложений работает с Azure AD, отправьте запрос на доступ на [портале сети приложений](https://microsoft.sharepoint.com/teams/apponboarding/Apps). Если у вас есть учетная запись Office 365, используйте ее для входа на этот портал. В противном случае для входа используйте учетная запись Майкрософт, например Outlook или Hotmail.

Если после входа появится следующая страница, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>). Укажите учетную запись электронной почты, которую вы хотите использовать для отправки запроса. Команда Azure AD добавит учетную запись на портале сети приложений Майкрософт.

![Сообщение запроса доступа на портале SharePoint](./media/howto-app-gallery-listing/errorimage.png)

После добавления учетной записи можно войти на портал сети приложений Майкрософт.

Если после входа в систему появится следующая страница, укажите коммерческое обоснование для доступа в текстовом поле. Затем выберите **запросить доступ**.

  ![Поле делового обоснования на портале SharePoint](./media/howto-app-gallery-listing/accessrequest.png)

Наша команда рассмотрит указанные сведения и предоставит доступ соответствующим образом. После утверждения запроса можно войти на портал и отправить запрос, щелкнув плитку **Отправить запрос (ISV)** на домашней странице.

![Плитка отправки запроса (ISV) на домашней странице](./media/howto-app-gallery-listing/homepage.png)

## <a name="issues-on-logging-into-portal"></a>Проблемы при входе на портал

Если эта ошибка возникает при входе в систему, то здесь приведены подробные сведения о данной неполадке. это можно исправить.

* Если вход был заблокирован, как показано ниже:

  ![проблемы с разрешением приложения в коллекции](./media/howto-app-gallery-listing/blocked.png)

**Что происходит:**

Гостевой пользователь является федеративным для домашнего клиента, который также является Azure AD. Гостевой пользователь имеет высокий уровень риска. Корпорация Майкрософт не позволяет пользователям с высоким уровнем риска получать доступ к своим ресурсам. Все пользователи с высоким риском (сотрудники или гости/поставщики) должны исправлять или закрывать свои риски для доступа к ресурсам Майкрософт. Для гостевых пользователей этот риск поступает от домашнего клиента, а политика — из клиента ресурсов (в данном случае корпорация Майкрософт).
 
**Безопасные решения:**

* Зарегистрированные гостевые пользователи MFA устраняют свои риски. Это может сделать гостевой пользователь, выполняющий защищенное изменение или сброс пароля (https://aka.ms/sspr) в своем домашнем клиенте (это требует MFA и SSPR в домашнем клиенте). Защищенное изменение или сброс пароля должно быть инициировано в Azure AD, а не в локальной системе.

* У гостевых пользователей есть свои риски. В этом случае администратор выполнит сброс пароля (создание временного пароля). Для этого не требуется защита идентификации. Администратор гостевого пользователя может войти в https://aka.ms/RiskyUsers и щелкнуть "Сброс пароля".

* Пользователи с гостевой учетной записью имеют возможность закрыть или закрыть свои риски. Опять же, для этого не требуется защита идентификации. Администратор может войти в https://aka.ms/RiskyUsers и щелкнуть "закрыть риск пользователя". Однако администратор должен выполнить комплексную проверку, чтобы убедиться, что это было ложным положительным риском, прежде чем закрывать риск для пользователя. В противном случае они помещают свои ресурсы и Майкрософт под угрозу, отключая оценку рисков без расследования.

> [!NOTE]
> Если у вас возникли проблемы с доступом, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>).

## <a name="implement-sso-by-using-the-federation-protocol"></a>Реализация единого входа с помощью протокола Федерации

Чтобы включить приложение в коллекцию Azure AD, сначала необходимо реализовать один из следующих протоколов федерации, поддерживаемых Azure AD. Кроме того, необходимо принять условия и условия для коллекции приложений Azure AD. Ознакомьтесь с условиями коллекции приложений Azure AD на [этом веб-сайте](https://azure.microsoft.com/support/legal/active-directory-app-gallery-terms/).

- **OpenID Connect Connect**: чтобы интегрировать приложение с Azure AD с помощью протокола Open ID Connect, следуйте [инструкциям для разработчиков](v1-authentication-scenarios.md).

    ![Перечисление приложения OpenID Connect Connect в коллекции](./media/howto-app-gallery-listing/openid.png)

    * Если вы хотите добавить приложение в список в коллекции с помощью OpenID Connect Connect, выберите **OpenID Connect connect & OAuth 2,0** , как показано ниже.
    * Если у вас возникли проблемы с доступом, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>).

- **Saml 2,0** или **WS-подач**. если приложение поддерживает SAML 2,0, его можно интегрировать непосредственно с клиентом Azure AD, следуя [инструкциям по добавлению пользовательского приложения](../active-directory-saas-custom-apps.md).

  ![Перечисление приложения SAML 2,0 или WS-подач в коллекции](./media/howto-app-gallery-listing/saml.png)

  * Если вы хотите добавить приложение в список в коллекции с помощью **saml 2,0** или **WS-подач**, выберите **SAML 2.0/WS-подача** , как показано ниже.

  * Если у вас возникли проблемы с доступом, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>).

## <a name="implement-sso-by-using-the-password-sso"></a>Реализация единого входа с помощью единого входа

Создайте веб-приложение с HTML-страницей входа, чтобы настроить [единый вход на основе пароля](../manage-apps/what-is-single-sign-on.md). Единый вход с помощью пароля (хранение пароля в хранилище) позволяет управлять доступом и паролями для веб-приложений, которые не поддерживают федерацию удостоверений. Это также полезно для сценариев, в которых несколько пользователей должны совместно использовать одну учетную запись, например учетные записи приложения социальных сетей в вашей организации.

![Перечисление приложения единого входа с помощью пароля в коллекции](./media/howto-app-gallery-listing/passwordsso.png)

* Если вы хотите добавить приложение в список в коллекции с помощью единого входа с использованием пароля, выберите параметр **единый вход с паролем** , как показано ниже.
* Если у вас возникли проблемы с доступом, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>).

## <a name="request-for-user-provisioning"></a>Запрос на подготовку пользователей

Выполните процедуру, показанную на следующем рисунке, чтобы запросить подготовку пользователей.

   ![Запрос на подготовку пользователей](./media/howto-app-gallery-listing/user-provisioning.png)

## <a name="update-or-remove-an-existing-listing"></a>Обновление или удаление существующего списка

Чтобы обновить или удалить существующее приложение в коллекции приложений Azure AD, сначала необходимо отправить запрос на [портале сети приложений](https://microsoft.sharepoint.com/teams/apponboarding/Apps). Если у вас есть учетная запись Office 365, используйте ее для входа на этот портал. В противном случае для входа используйте учетная запись Майкрософт, например Outlook или Hotmail.

- Выберите соответствующий параметр, как показано на следующем рисунке.

    ![Перечисление приложения SAML в коллекции](./media/howto-app-gallery-listing/updateorremove.png)

    * Чтобы обновить существующее приложение, выберите соответствующий параметр в соответствии с вашими требованиями.
    * Чтобы удалить существующее приложение из коллекции приложений Azure AD, выберите **удалить список приложений из коллекции**.
    * Если у вас возникли проблемы с доступом, обратитесь к [группе интеграции единого входа Azure AD](<mailto:SaaSApplicationIntegrations@service.microsoft.com>).

## <a name="list-requests-by-customers"></a>Вывод списка запросов по клиентам

Клиенты могут отправить запрос на перечисление приложения, выбрав **запросы приложения клиентами** > **отправки нового запроса**.

![Отображает плитку запрошенные пользователем приложения](./media/howto-app-gallery-listing/customer-submit-request.png)

Ниже приведен поток приложений, запрошенных клиентом.

![Показывает поток приложений, запрошенных клиентом](./media/howto-app-gallery-listing/customer-request.png)

## <a name="timelines"></a>График выполнения процессов

Временная шкала для процесса перечисления приложения SAML 2,0 или WS-подач в коллекции составляет от 7 до 10 рабочих дней.

  ![Временная шкала для перечисления приложения SAML в коллекции](./media/howto-app-gallery-listing/timeline.png)

Временная шкала для процесса перечисления приложения OpenID Connect Connect в коллекции составляет от 2 до 5 рабочих дней.

  ![Временная шкала для перечисления приложения OpenID Connect Connect в коллекции](./media/howto-app-gallery-listing/timeline2.png)

## <a name="escalations"></a>Эскалация вопросов

Для любых укрупнений отправьте сообщение электронной почты [группе интеграции единого входа Azure AD](mailto:SaaSApplicationIntegrations@service.microsoft.com) по адресу SaaSApplicationIntegrations@service.microsoft.com, и мы будем отвечать как можно скорее.
