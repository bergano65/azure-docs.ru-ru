---
title: Изменение учетных записей приложений, зарегистрированных на платформе удостоверений Майкрософт | Azure
description: Настройте приложение, зарегистрированное с помощью платформы удостоверений Майкрософт, чтобы изменить пользователей или учетные записи, которые могут работать с приложением.
services: active-directory
author: rwike77
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: quickstart
ms.workload: identity
ms.date: 05/08/2019
ms.author: ryanwi
ms.custom: aaddev
ms.reviewer: aragra, lenalepa, sureshja
ms.collection: M365-identity-device-management
ms.openlocfilehash: 439d2c06f05aa8824afa4a4aec3990ecba1aa8da
ms.sourcegitcommit: a5ebf5026d9967c4c4f92432698cb1f8651c03bb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2019
ms.locfileid: "74921349"
---
# <a name="quickstart-modify-the-accounts-supported-by-an-application"></a>Краткое руководство. Изменение учетных записей, поддерживаемых приложением

При регистрации приложения на платформе удостоверений Майкрософт вам может потребоваться предоставить доступ к этому приложению только пользователям в вашей организации. Кроме того, вы также можете сделать свои приложения доступными для пользователей во внешних организациях или пользователей, которые не являются частью организации (личные учетные записи).

В этом кратком руководстве вы узнаете, как изменить конфигурацию приложения, чтобы изменить пользователей или учетные записи, которые могут работать с приложением.

## <a name="prerequisites"></a>Предварительные требования

Чтобы приступить к работе, выполните следующие предварительные требования:

* Ознакомьтесь с общими сведениями о поддерживаемых [разрешениях и согласии](v2-permissions-and-consent.md). Для создания приложений, которые будут использовать другие пользователи или приложения, это важно понимать.
* Установите клиент, содержащий зарегистрированные приложения.
  * Если у вас нет зарегистрированных приложений, [ознакомьтесь со сведениями о регистрации приложений с помощью платформы удостоверений Майкрософт](quickstart-register-app.md).

## <a name="sign-in-to-the-azure-portal-and-select-the-app"></a>Войдите на портал Azure и выберите приложение.

Чтобы настроить приложение, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com) с помощью личной учетной записи Майкрософт либо рабочей или учебной учетной записи.
1. Если учетная запись предоставляет доступ нескольким клиентам, выберите свою учетную запись в правом верхнем углу и нужный клиент Azure AD для этого сеанса портала.
1. В области навигации слева выберите службу **Azure Active Directory**, а затем выберите **Регистрация приложений**.
1. Найдите и выберите приложение, которое нужно настроить. После выбора приложения появится страница **Обзор** приложения или главная страница регистрации.
1. Сделайте следующее для [изменения регистрации предложения, чтобы обеспечить поддержку различных учетных записей](#change-the-application-registration-to-support-different-accounts).
1. Если у вас есть одностраничное приложение, [включите неявное предоставление разрешения OAuth 2.0](#enable-oauth-20-implicit-grant-for-single-page-applications).

## <a name="change-the-application-registration-to-support-different-accounts"></a>Изменение регистрации предложения для поддержки различных учетных записей

Если вы создаете приложение, которое будет доступно для сторонних клиентов или партнеров, следует обновить определение приложения на портале Azure.

> [!IMPORTANT]
> Для Azure AD необходимо, чтобы универсальный код ресурса (URI) идентификатора приложения для мультитенантных приложений был глобально уникальным. URI кода приложения является одним из способов идентификации приложения в сообщениях протокола. Для приложения с одним клиентом достаточно, чтобы URI идентификатора приложения был уникальным в рамках клиента. Для мультитенантного приложения он должен быть глобально уникальным, чтобы служба Azure AD могла найти приложение по всем клиентам. Глобальная уникальность обеспечивается за счет требования, чтобы URI кода приложения имел имя узла, соответствующее проверенному домену клиента Azure AD. Например, если имя клиента — contoso.onmicrosoft.com, то допустимым URI идентификатора приложения будет https://contoso.onmicrosoft.com/myapp. Если у клиента есть проверенный домен contoso.com, тогда допустимый URI идентификатора приложения также будет https://contoso.com/myapp. Если URI идентификатора приложения не соответствует этому шаблону, вы не сможете сделать приложение мультитенантным.

### <a name="to-change-who-can-access-your-application"></a>Изменение пользователей, имеющих доступ к приложению

1. На странице **Обзор** приложения выберите раздел **Аутентификация** и измените значение, выбранное в разделе **Поддерживаемые типы учетных записей**.
    * Выберите **Accounts in this directory only** (Только учетные записи в этом каталоге), если вы создаете бизнес-приложение. Этот параметр недоступен, если вы не зарегистрированы в каталоге.
    * Выберите **Учетные записи в любом каталоге организации**, если хотите сделать целью все предприятия и учебные заведения.
    * Выберите **Accounts in any organizational directory and personal Microsoft accounts** (Учетные записи в любом каталоге организации и личные учетные записи Майкрософт), чтобы охватить широкий набор клиентов.
1. Щелкните **Сохранить**.

## <a name="enable-oauth-20-implicit-grant-for-single-page-applications"></a>Включение неявного предоставления разрешения OAuth 2.0 для одностраничных приложений

Одностраничные приложения (SPA) обычно включают интерфейсную часть, написанную на JavaScript и выполняемую в браузере, который вызывает серверную часть веб-API приложения для выполнения своих операций бизнес-логики. Для одностраничных приложений, размещенных в Azure AD, проверка подлинности пользователя в Azure AD выполняется с помощью протокола OAuth 2.0 Implicit Grant. После этого пользователь получает маркер, который можно использовать для безопасных вызовов серверного веб-API из клиентского кода JavaScript приложения.

После того как пользователь предоставил свое согласие, этот же протокол проверки подлинности можно использовать для получения маркеров для защиты вызовов между клиентом и другими ресурсами веб-API, которые настроены для приложения. Дополнительные сведения о процессе неявного предоставления авторизации и его совместимости с вашим приложением см. в статье [Общие сведения о неявном потоке предоставления v1 в Azure Active Directory (AD)](v1-oauth2-implicit-grant-flow.md) и [Протоколы приложений версии 2.0. Одностраничные приложения с использованием неявного потока](v2-oauth2-implicit-grant-flow.md).

По умолчанию неявное предоставление разрешений OAuth 2.0 для приложений отключено. Неявное предоставление разрешений OAuth 2.0 для приложения можно включить, выполнив следующие действия.

### <a name="to-enable-oauth-20-implicit-grant"></a>Чтобы включить неявное предоставление авторизации OAuth 2.0, выполните следующие действия.

1. На странице **Обзор** выберите раздел **Проверка подлинности**.
1. В разделе **Расширенные параметры** найдите раздел **Неявное разрешение**.
1. Выберите **Токен идентификатора**, **Маркеры доступа** или и то, и другое.
1. Щелкните **Сохранить**.

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о других кратких руководствах по управлению приложениями см. в следующих ресурсах:

* [Краткое руководство: регистрация приложения с помощью платформы удостоверений Майкрософт (предварительная версия)](quickstart-register-app.md)
* [Настройка клиентского приложения для доступа к веб-API](quickstart-configure-app-access-web-apis.md)
* [Краткое руководство. Настройка приложения для доступа к веб-API (предварительная версия)](quickstart-configure-app-expose-web-apis.md)
* [Краткое руководство. Удаление приложения, зарегистрированного с помощью платформы удостоверений Майкрософт (предварительная версия)](quickstart-remove-app.md)

Дополнительные сведения о двух объектах Azure AD, представляющих зарегистрированное приложение, и о взаимосвязи между ними см. в разделе [Объекты приложения и субъекта-службы в Azure Active Directory (Azure AD)](app-objects-and-service-principals.md).

Дополнительные сведения о фирменной символике, которой следует пользоваться при разработке приложений в среде Azure Active Directory (Azure AD) см. в разделе [Рекомендации по фирменной символике для приложений](howto-add-branding-in-azure-ad-apps.md).
