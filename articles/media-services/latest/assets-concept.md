---
title: Ресурсы в Службах мультимедиа Azure | Документация Майкрософт
description: В этой статье приведены общие сведения о ресурсах и их использовании в Службах мультимедиа Azure.
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: ''
ms.topic: article
ms.date: 10/15/2018
ms.author: juliako
ms.openlocfilehash: 62cc4634a0f76b0562d5b3c1355a7442fc5cf989
ms.sourcegitcommit: c2c279cb2cbc0bc268b38fbd900f1bac2fd0e88f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2018
ms.locfileid: "49985239"
---
# <a name="assets"></a>Активы

Сущность **Ресурс** содержит цифровые файлы (в том числе видео, аудио, изображения, коллекции эскизов, текстовые дорожки и файлы скрытых титров), а также метаданные об этих файлах. После загрузки цифровых файлов в ресурс их можно использовать в рабочих процессах кодирования и потоковой передачи служб мультимедиа.

Ресурс сопоставляется с контейнером больших двоичных объектов в [учетной записи хранения Azure](storage-account-concept.md). Файлы ресурса хранятся в этом контейнере как блочные BLOB-объекты. Вы можете работать с файлами ресурсов в контейнерах с помощью клиентских пакетов SDK службы хранилища.

Если в учетной записи используется хранилище общего назначения версии 2 (GPv2), Службы мультимедиа Azure поддерживают уровни больших двоичных объектов. Это хранилище позволяет перемещать файлы в хранилище холодного уровня или автономное неструктурированное защищенное хранилище. Автономное неструктурированное защищенное хранилище подходит для архивации ненужных исходных файлов (например, после шифрования).

В Службах мультимедиа версии 3 входные данные задания можно создавать из ресурсов или URL-адреса HTTP (HTTPS). Сведения о создании ресурса, который можно использовать в качестве входных данных задания, см. в статье [Создание входных данных задания из локального файла](job-input-from-local-file-how-to.md).

Кроме того, прочтите об [учетных записях хранения в Службах мультимедиа](storage-account-concept.md), а также о [преобразованиях и заданиях](transform-concept.md).

## <a name="asset-definition"></a>Определение ресурса

В следующей таблице представлены свойства ресурса и их определения.

|ИМЯ|type|ОПИСАНИЕ|
|---|---|---|
|id|строка|Полный идентификатор ресурса.|
|name|строка|Имя ресурса.|
|properties.alternateId |строка|Альтернативный идентификатор ресурса.|
|properties.assetId |строка|Идентификатор ресурса.|
|properties.container |строка|Имя контейнера больших двоичных объектов ресурса.|
|properties.created |строка|Дата создания ресурса.|
|properties.description |строка|Описание ресурса.|
|properties.lastModified |строка|Дата последнего изменения ресурса.|
|properties.storageAccountName |строка|Имя учетной записи хранения.|
|properties.storageEncryptionFormat |AssetStorageEncryptionFormat |Формат шифрования ресурса. Не указан или MediaStorageEncryption.|
|Тип|строка|Тип ресурса.|

Полное определение см. в статье о [ресурсах](https://docs.microsoft.com/rest/api/media/assets).

## <a name="filtering-ordering-paging"></a>Фильтрации, упорядочивание, разбиение по страницам

Службы мультимедиа поддерживают следующие параметры запроса OData для ресурсов: 

* $filter 
* $orderby 
* $top 
* $skiptoken 

Описание оператора:

* Eq = равно.
* Ne = не равно.
* Ge = больше или равно.
* Le = меньше или равно.
* Gt = больше чем.
* Lt = меньше чем.

### <a name="filteringordering"></a>Фильтрация и упорядочение

В следующей таблице показано, как эти параметры могут быть применены к свойствам ресурса: 

|ИМЯ|Фильтр|Порядок|
|---|---|---|
|id|||
|name|Поддерживает Eq, Gt, Lt|Поддерживает по возрастанию и убыванию|
|properties.alternateId |Поддерживает Eq||
|properties.assetId |Поддерживает Eq||
|properties.container |||
|properties.created|Поддерживает Eq, Gt, Lt| Поддерживает по возрастанию и убыванию|
|properties.description |||
|properties.lastModified |||
|properties.storageAccountName |||
|properties.storageEncryptionFormat | ||
|Тип|||

В следующем примере C# выполняется фильтрация по дате создания:

```csharp
var odataQuery = new ODataQuery<Asset>("properties/created lt 2018-05-11T17:39:08.387Z");
var firstPage = await MediaServicesArmClient.Assets.ListAsync(CustomerResourceGroup, CustomerAccountName, odataQuery);
```

### <a name="pagination"></a>Разбиение на страницы

Для каждого из четырех порядков сортировки поддерживается разбиение на страницы. Сейчас размер страницы составляет 1000.

> [!TIP]
> Для перечисления коллекции всегда нужно использовать следующую ссылку, которая не зависит от конкретного размера страницы.

Если ответ на запрос содержит большое количество элементов, служба возвращает свойство \@odata.nextLink, чтобы получить следующую страницу результатов. Это можно использовать для просмотра всего результирующего набора. Вы не можете настроить размер страницы. 

Если ресурсы создаются или удаляются во время разбивки коллекции на страницы, изменения отражаются в возвращаемых результатах (если эти изменения находятся в той части коллекции, которая не была загружена). 

В следующем примере C# показано перечисление всех ресурсов в учетной записи.

```csharp
var firstPage = await MediaServicesArmClient.Assets.ListAsync(CustomerResourceGroup, CustomerAccountName);

var currentPage = firstPage;
while (currentPage.NextPageLink != null)
{
    currentPage = await MediaServicesArmClient.Assets.ListNextAsync(currentPage.NextPageLink);
}
```

Примеры REST для перечисления ресурсов см. в [этой статье](https://docs.microsoft.com/rest/api/media/assets/list).

## <a name="storage-side-encryption"></a>Шифрование на стороне хранилища

Чтобы защитить неактивные ресурсы, их нужно зашифровать на стороне хранилища. В следующей таблице показано, как происходит шифрование на стороне хранилища в Службах мультимедиа.

|Вариант шифрования|ОПИСАНИЕ|Службы мультимедиа версии 2|Службы мультимедиа версии 3|
|---|---|---|---|
|Шифрование хранилища Служб мультимедиа|Шифрование AES-256. Ключами управляют Службы мультимедиа|Поддерживается<sup>(1)</sup>|Не поддерживается<sup>(2)</sup>|
|[Шифрование службы хранилища для неактивных данных](https://docs.microsoft.com/azure/storage/common/storage-service-encryption)|Шифрование на стороне сервера, предоставляемое службой хранилища Azure. Ключами управляет Azure или клиент|Поддерживаются|Поддерживаются|
|[Шифрование хранилища на стороне клиента](https://docs.microsoft.com/azure/storage/common/storage-client-side-encryption)|Шифрование на стороне клиента, предоставляемое службой хранилища Azure. Ключами управляет клиент в Key Vault|Не поддерживается|Не поддерживается|

<sup>1</sup>Хотя Службы мультимедиа поддерживают обработку содержимого в чистом, незашифрованном виде, мы не рекомендуем ее использовать.

<sup>2</sup>В Службах мультимедиа версии 3 для обратной совместимости поддерживается шифрование хранилища (шифрование AES-256), только если ресурсы созданы с помощью Служб мультимедиа версии 2. То есть версия 3 работает с существующими зашифрованными ресурсами хранилища, но создание новых ресурсов не поддерживается.

## <a name="next-steps"></a>Дополнительная информация

[Краткое руководство по потоковой передаче видеофайлов — .NET](stream-files-dotnet-quickstart.md)
