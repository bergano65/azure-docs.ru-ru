---
title: Часто задаваемые вопросы о Службах мультимедиа Azure версии 3 | Документация Майкрософт
description: В этой статье предоставлены ответы на часто задаваемые вопросы о Службах мультимедиа Azure версии 3
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: ''
ms.topic: article
ms.date: 02/20/2019
ms.author: juliako
ms.openlocfilehash: 5b49db8d7e8360837dc209e98123eeccd5542769
ms.sourcegitcommit: 2d0fb4f3fc8086d61e2d8e506d5c2b930ba525a7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/18/2019
ms.locfileid: "57837751"
---
# <a name="azure-media-services-v3-frequently-asked-questions"></a>Часто задаваемые вопросы о Службах мультимедиа Azure версии 3

В этой статье предоставлены ответы на часто задаваемые вопросы о Службах мультимедиа Azure (AMS) версии 3.

## <a name="v3-apis"></a>Интерфейсы API версии 3

### <a name="how-do-i-configure-media-reserved-units"></a>Как настроить зарезервированные единицы мультимедиа?

Для заданий анализа аудио и видео, которые активируют Службы мультимедиа версии 3 или Индексатор видео, настоятельно рекомендуется подготовить к работе вашу учетную запись с помощью 10 единиц MRU S3. Если вам требуется более 10 единиц MRU S3, отправьте запрос в службу поддержки с помощью [портала Azure](https://portal.azure.com/).

Дополнительные сведения см. в разделе [Масштабирование при обработке мультимедиа](media-reserved-units-cli-how-to.md).

### <a name="what-is-the-recommended-method-to-process-videos"></a>Что такое рекомендуемый метод для обработки видео?

[Преобразования](https://docs.microsoft.com/rest/api/media/transforms) можно использовать для настройки общих задач кодирования или анализа видеоматериалов. Каждое **преобразование** описывает набор инструкций (или рабочий процесс задач) для обработки видео- и аудиофайлов. Объект [задания](https://docs.microsoft.com/rest/api/media/jobs) является фактический запрос служб мультимедиа для применения **преобразования** заданного входного видео или аудио содержимым. После создания преобразования можно отправлять задания с помощью API Служб мультимедиа или любого из опубликованных пакетов SDK. Дополнительные сведения см. в статье [Преобразования и задания](transforms-jobs-concept.md).

### <a name="how-does-pagination-work"></a>Как работает разбиение на страницы?

При использовании разбиения на страницы для перечисления коллекции всегда нужно использовать следующую ссылку, которая не зависит от конкретного размера страницы. Дополнительные сведения и примеры см. в [этой статье о фильтрации, упорядочении и разбиении на страницы](entities-overview.md).

## <a name="live-streaming"></a>Потоковая передача в реальном времени 

###  <a name="how-to-insert-breaksvideos-and-image-slates-during-live-stream"></a>Как вставлять паузы, видео или баннеры во время передачи динамического потока?

Функция кодирования в реальном времени в Службах мультимедиа версии 3 не поддерживает вставку видео или баннеров во время передачи динамического потока. 

Можно использовать [локальный динамический кодировщик](recommended-on-premises-live-encoders.md), чтобы переключать исходное видео. Многие приложения дают возможность переключения источников, включая Telestream Wirecast, Switcher Studio (в iOS), OBS Studio (бесплатное приложение) и многие другие.

## <a name="content-protection"></a>Защита содержимого

### <a name="how-and-where-to-get-jwt-token-before-using-it-to-request-license-or-key"></a>Где и как получить токен JWT, чтобы использовать его для запроса лицензии или ключа?

1. Для рабочей среды необходимо иметь службу токенов безопасности (STS) (веб-службу), которая выдает токен JWT по HTTPS-запросу. Для тестирования можно использовать код, показанный в методе **GetTokenAsync**, который определен в файле [Program.cs](https://github.com/Azure-Samples/media-services-v3-dotnet-tutorials/blob/master/AMSV3Tutorials/EncryptWithDRM/Program.cs).
2. После выполнения проверки подлинности пользователя проигрывателю необходимо будет выполнить запрос к службе безопасности токенов на получение такого токена и присвоить его как значение токена. Можно использовать [API решения "Проигрыватель мультимедиа Azure"](https://amp.azure.net/libs/amp/latest/docs/).

* Пример запуска службы безопасности токенов с симметричным и асимметричным ключом см. на странице [https://aka.ms/jwt](https://aka.ms/jwt). 
* Пример проигрывателя на базе Проигрывателя мультимедиа Azure, в котором используется такой токен JWT, см. на странице [https://aka.ms/amtest](https://aka.ms/amtest) (разверните ссылку player_settings, чтобы увидеть входные данные токена).

### <a name="how-do-you-authorize-requests-to-stream-videos-with-aes-encryption"></a>Как вы авторизуете запросы на потоковую передачу видео с помощью шифрования AES?

Правильный подход заключается в использовании STS (службы токенов безопасности).

В службе токенов безопасности, в зависимости от профиля пользователя, добавьте разные утверждения (например, "Пользователь (ценовая категория "Премиум")", "Пользователь (ценовая категория "Базовый")", "Пользователь бесплатной пробной версии"). С различными утверждениями в JWT пользователь может видеть разное содержимое. Конечно, для разного содержимого или ресурса параметр ContentKeyPolicyRestriction будет иметь соответствующие утверждения RequiredClaims.

Использование API служб мультимедиа Azure для настройки лицензий и ключа доставки и шифрования ресурсов-контейнеров (как показано в [в этом примере](https://github.com/Azure-Samples/media-services-v3-dotnet-tutorials/blob/master/AMSV3Tutorials/EncryptWithAES/Program.cs)).

Дополнительные сведения можно найти в разделе 

- [Обзор системы защиты содержимого](content-protection-overview.md)
- [Проектирование системы для защиты содержимого с несколькими подсистемами DRM и управлением доступом](design-multi-drm-system-with-access-control.md)

## <a name="media-services-v2-vs-v3"></a>Сравнение версий 2 и 3 Служб мультимедиа 

### <a name="can-i-use-the-azure-portal-to-manage-v3-resources"></a>Могу ли я использовать портал Azure для управления ресурсами версии 3?

Пока нет. Вы можете использовать один из поддерживаемых пакетов SDK. Ознакомьтесь с руководствами и примерами в этом наборе документов.

### <a name="is-there-an-assetfile-concept-in-v3"></a>Существует элемент AssetFile в версии 3?

Элементы AssetFiles были удалены из API AMS, чтобы отделить Службы мультимедиа от зависимости пакета SDK службы хранилища. Теперь служба хранилища, а не службы мультимедиа, сохраняет данные, которые относятся к службе хранилища. 

Дополнительные сведения см. в разделе [Руководство по миграции из версии 2 в версию 3 Служб мультимедиа](migrate-from-v2-to-v3.md).

### <a name="where-did-client-side-storage-encryption-go"></a>Где происходит шифрование хранилища на стороне клиента?

Сейчас рекомендуется использовать шифрование хранилища на стороне сервера (которое включено по умолчанию). Дополнительные сведения см. в статье [Шифрование службы хранилища Azure для неактивных данных (предварительная версия)](https://docs.microsoft.com/azure/storage/common/storage-service-encryption).

## <a name="next-steps"></a>Дальнейшие действия

[Что такое Службы мультимедиа Azure версии 3?](media-services-overview.md)
