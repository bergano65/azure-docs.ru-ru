---
title: Терминология и изменения сущностей между службами мультимедиа Azure версии 2 и v3 | Документация Майкрософт
description: В этой статье описываются различия в терминологии между службами мультимедиа Azure версии 2 и 3.
services: media-services
author: IngridAtMicrosoft
manager: femila
ms.service: media-services
ms.devlang: multiple
ms.topic: conceptual
ms.tgt_pltfrm: multiple
ms.workload: media
ms.date: 1/14/2020
ms.author: inhenkel
ms.openlocfilehash: 9f657b853298cf0065da931835ea56ef2e0e0fe7
ms.sourcegitcommit: b39cf769ce8e2eb7ea74cfdac6759a17a048b331
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98690599"
---
# <a name="terminology-and-entity-changes-between-media-services-v2-and-v3"></a>Терминология и изменения сущностей между службами мультимедиа версии 2 и v3

![логотип с руководством по миграции](./media/migration-guide/azure-media-services-logo-migration-guide.svg)

<hr color="#5ea0ef" size="10">

![шаги миграции 2](./media/migration-guide/steps-2.svg)

В этой статье описываются различия в терминологии между службами мультимедиа Azure версии 2 и 3.

## <a name="naming-conventions"></a>Соглашения об именах

Ознакомьтесь с соглашениями об именовании, которые применяются к ресурсам служб мультимедиа v3. Также проверьте [именованные BLOB-объекты](assets-concept.md#naming)

## <a name="terminology-changes"></a>Изменения в терминологии

- *Указатель* теперь называется *указателем потоковой передачи*.
- *Канал* теперь называется *интерактивным событием*.
- *Программа* теперь называется *динамическим выходом*.
- *Задача* теперь называется *жобаутпут*, которая является частью задания.

## <a name="entity-changes"></a>Изменения сущностей
| **V2 сущность**<!-- row --> | **Сущность v3** | **Руководство** | **Доступно для v3** | **Обновлено с версии v3** |
|--|--|--|--|--|
| `AccessPolicy`<!-- row --> | <!-- empty --> |  Сущность `AccessPolicies` не существует в версии 3. | Нет | Нет |
| `Asset`<!-- row --> | `Asset` | <!-- empty --> | Да | Да |
| `AssetDeliveryPolicy`<!-- row --> | `StreamingPolicy` | <!-- empty --> | Да | Нет |
| `AssetFile`<!-- row --> | <!-- empty --> |Сущность `AssetFiles` не существует в версии 3. Хотя отправляемые файлы (BLOB-объекты хранилища) все еще считаются файлами.<br/><br/> Используйте API-интерфейсы службы хранилища Azure для перечисления больших двоичных объектов в контейнере. Существует два способа применения преобразования к файлам с заданием.<br/><br/>Файлы, уже отправленные в хранилище: универсальный код ресурса (URI) будет включать идентификатор ресурса для заданий, выполняемых в ресурсах в учетной записи хранения.<br/><br/>Файлы, которые будут переданы в процессе преобразования и задания: ресурс создается в хранилище, возвращается URL-адрес SAS, файлы отправляются в хранилище, а затем к файлам применяется преобразование. | Нет | Нет |
| `Channel`<!-- row --> | `LiveEvent` | Динамические события заменяют каналы из API v2. Они используют большинство функций и имеют больше новых функций, таких как интерактивные транскрипции, режим "в режиме" и поддержка приема РТМПС. <br/><br/>Просмотр [событий Live в реальном времени на основе сценария](migrate-v-2-v-3-migration-scenario-based-live-streaming.md) | Нет | Нет |
| `ContentKey`<!-- row --> | <!-- empty --> | `ContentKeys` больше не является сущностью, теперь она является свойством указателя потоковой передачи.<br/><br/>  В версии 3 данные ключа содержимого либо связываются с `StreamingLocator` (для шифрования вывода), либо самого ресурса (для шифрования хранилища на стороне клиента). | Да | Нет |
| `ContentKeyAuthorizationPolicy`<!-- row --> | `ContentKeyPolicy` | <!-- empty --> | Да | Нет |
| `ContentKeyAuthorizationPolicyOption` <!-- row --> | <!-- empty --> |  `ContentKeyPolicyOptions` включены в `ContentKeyPolicy` . | Да | Нет |
| `IngestManifest`<!-- row --> | <!-- empty --> | Сущность `IngestManifests` не существует в версии 3. Для отправки файлов в версии 3 используется API службы хранилища Azure. Сначала создаются ресурсы, а затем файлы отправляются в связанный контейнер хранилища. Существует много способов получить данные в контейнер службы хранилища Azure, который можно использовать вместо этого. `JobInputHttp` также предоставляет способ загрузки входных данных задания с указанного URL-адреса при необходимости. | Нет | Нет |
| `IngestManifestAsset`<!-- row --> | <!-- empty --> | Существует много способов получить данные в контейнер службы хранилища Azure, который можно использовать вместо этого. `JobInputHttp` также предоставляет способ загрузки входных данных задания с указанного URL-адреса при необходимости. | Нет | Нет |
| `IngestManifestFile`<!-- row --> | <!-- empty --> | Существует много способов получить данные в контейнер службы хранилища Azure, который можно использовать вместо этого. `JobInputHttp` также предоставляет способ загрузки входных данных задания с указанного URL-адреса при необходимости. | Нет | Нет |
| `Job`<!-- row --> | `Job` | Создайте `Transform` перед созданием `Job` . | Нет | Нет |
| `JobTemplate`<!-- row --> | `Transform` | Используйте `Transform` вместо него. Преобразование — это отдельная сущность из задания, которая может быть повторно доступна для использования. | Нет | Нет |
| `Locator`<!-- row --> | `StreamingLocator` | <!--empty --> | Да | Нет |
| `MediaProcessor`<!-- row --> | <!-- empty --> | Вместо поиска в `MediaProcessor` для использования по имени используйте нужную предустановку при определении преобразования. Используемая Предустановка определяет обработчик мультимедиа, используемый системой заданий. См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md). <!--Probably needs a link to its own article so customers know Indexerv1 maps to AudioAnalyzerPreset in basic mode, etc.--> | Нет | НД (ReadOnly в v2) |
| `NotificationEndPoint`<!-- row --> | <!--empty --> | Уведомления в v3 обрабатываются через службу "Сетка событий Azure". Объект `NotificationEndpoint` заменяется регистрацией подписки на сетку событий, который также инкапсулирует конфигурацию для получения типов уведомлений (которые в версии 2 обрабатывались в `JobNotificationSubscription` задании, а также в `TaskNotificationSubscription` задаче и телеметрии `ComponentMonitoringSetting` ). Данные телеметрии v2 были разбиты между службой "Сетка событий Azure" и Azure Monitor в соответствии с улучшениями в составе более крупной экосистемы Azure. | Нет | Нет |
| `Program`<!-- row --> | `LiveOutput` | Динамические выходные данные теперь заменяют программы в API V3.  | Нет | Нет |
| `StreamingEndpoint`<!-- row --> | `StreamingEndpoint` | Конечные точки потоковой передачи остаются в основном. Они используются для динамической упаковки, шифрования и доставки HLS и ШТРИХового содержимого как в режиме реального времени, так и в потоковой передаче по запросу либо непосредственно из источника, либо через сеть CDN. Новые функции включают поддержку лучшей Azure Monitor интеграции и построения диаграмм. |  Да | Да |
| `Task`<!-- row --> | `JobOutput` | Заменяется на `JobOutput` (который больше не является отдельной сущностью в API).  См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md). | Нет | Нет |
| `TaskTemplate`<!-- row --> | `TransformOutput` | Заменяется на `TransformOutput` (который больше не является отдельной сущностью в API). См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md). | Нет | Нет |
| `Inputs`<!-- row --> | `Inputs` | Входные и выходные данные теперь находятся на уровне задания. См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md) | Нет | Нет |
| `Outputs`<!-- row --> | `Outputs` | Входные и выходные данные теперь находятся на уровне задания.  В версии 3 формат метаданных изменился с XML на JSON.  Выходные данные потоковой трансляции запускаются при создании и останавливаются при удалении. См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md) | Нет | Нет |


| **Другие изменения** | **Шаблон**  | **Том** |
|---|---|---|
| **Хранилище** <!--new row --> |||
| Хранение <!--new row --> | | Пакеты SDK версии 3 теперь отделены от пакета SDK для службы хранилища, что обеспечивает более полный контроль над версией пакета SDK для службы хранилища, которую вы хотите использовать, и позволяет избежать проблем с управлением версиями.                      |
| **Кодирование** <!--new row --> |||
| Скорость кодирования битов <!--new row --> | скорость в кбит/с, например: 128 (кбит/с)| бит в секунду, например: 128000 (бит/сек)|
| Кодирование FairPlay DRM <!--new row --> | В службах мультимедиа версии 2 можно указать вектор инициализации (IV). | В службах мультимедиа v3 не может быть указан FairPlay IV.|
| Кодировщик Premium <!--new row --> | Кодировщик Premium и устаревший индексатор| [Кодировщик Premium](https://docs.microsoft.com/azure/media-services/previous/media-services-encode-asset) и устаревшие [обработчики мультимедиа-аналитики](https://docs.microsoft.com/azure/media-services/previous/legacy-components) (индексатор служб мультимедиа Azure 2 Preview, лицо redactor и т. д.) недоступны через v3. Мы добавили поддержку сопоставления звуковых каналов со стандартным кодировщиком.  См. статью о [звуках в документации по параметрам кодирования служб мультимедиа Swagger](https://github.com/Azure/azure-rest-api-specs/blob/master/specification/mediaservices/resource-manager/Microsoft.Media/stable/2020-05-01/Encoding.json).  | См. разделы по кодированию в [кодировке на основе сценариев](migrate-v-2-v-3-migration-scenario-based-encoding.md) |
| **Преобразования и задания** <!--new row -->|||
| Обработка HTTPS на основе заданий <!--new row --> |<!-- empty -->| Для обработки заданий на основе файлов в качестве входных данных можно использовать URL-адрес HTTPS. Вам не нужно, чтобы содержимое уже хранилось в Azure, а также не нужно создавать ресурсы. |
| Шаблоны ARM для заданий <!--new row --> | Шаблоны ARM не существовали в версии 2. | Преобразование можно использовать для построения повторно используемых конфигураций, создания шаблонов Azure Resource Manager и изоляции параметров обработки между несколькими клиентами или клиентами. |
| **События Live** <!--new row --> |||
| конечная точка потоковой передачи <!--new row --> | Конечная точка потоковой передачи представляет собой службу потоковой передачи, которая может доставлять содержимое непосредственно в клиентское приложение проигрывателя или в сеть доставки содержимого (CDN) для дальнейшего распространения. | Конечные точки потоковой передачи остаются в основном. Они используются для динамической упаковки, шифрования и доставки HLS и ШТРИХового содержимого как в режиме реального времени, так и в потоковой передаче по запросу либо непосредственно из источника, либо через сеть CDN.  Новые функции включают поддержку лучшей Azure Monitor интеграции и построения диаграмм. |
| Каналы событий Live <!--new row --> | Каналы отвечают за обработку содержимого потоковой передачи в реальном времени. Канал предоставляет входную конечную точку, которая затем передается динамическому кодировщику. Канал получает входные потоки из динамической перекодирования и делает его доступным для потоковой передачи через одну или несколько конечных точек потоковой передачи. Каналы также предоставляют конечную точку предварительного просмотра (URL-адрес предварительного просмотра), используемого для предварительного просмотра и проверки вашего потока перед дальнейшей обработкой и доставкой.| Динамические события заменяют каналы из API v2. Они используют большинство функций и имеют больше новых функций, таких как интерактивные транскрипции, режим "в режиме" и поддержка приема РТМПС. |
| Программы Live Event <!--new row --> | Программа позволяет управлять публикацией и хранением сегментов в динамическом потоке. Каналы управляют программами. Отношение между каналом и программой похоже на традиционные мультимедиа, где канал передает постоянный поток контента, а программа ограничена временным событием на этом канале. Можно указать количество часов, в течение которых должно оставаться записанное содержимое программы, задав `ArchiveWindowLength` свойство. Это значение может быть задано в диапазоне от 5 минут до 25 часов.| Динамические выходные данные теперь заменяют программы в API V3. |
| Длительность прямой трансляции событий <!--new row --> |<!-- empty -->| Вы можете передавать динамические события 24/7 при использовании служб мультимедиа для перекодирования канала вклада с одной скоростью в поток вывода с несколькими скоростями.|
| Задержка событий Live <!--new row --> |<!-- empty -->| Новая поддержка потоковой передачи с низкой задержкой для событий в реальном времени. |
| Предварительная версия интерактивных событий <!--new row --> |<!-- empty -->| Предварительная версия событий потоковой трансляции поддерживает динамическую упаковку и динамическое шифрование. Это включает защиту содержимого в предварительной версии, а также упаковки DASH и HLS. |
| РТМПС события Live <!--new row --> |<!-- empty-->| Улучшенная поддержка РТМПС с повышенной стабильностью и поддержкой исходного кодировщика. |
| Безопасное получение РТМПС события Live <!--new row --> | | При создании интерактивного события вы получаете 4 приема URL-адресов. 4 принимаемые URL-адреса практически идентичны, имеют одинаковый токен потоковой передачи `AppId` , а только часть номера порта отличается. Два из этих URL-адресов являются первичным и резервным для RTMPS.| 
| Транскрипция событий Live <!--new row --> |<!-- empty--> | Служба мультимедиа Azure доставляет видео, аудио и текст в разные протоколы. Когда вы публикуете динамический поток с помощью MPEG-ТИРЕ или HLS/КМАФ, а также видео и аудио, наша служба доставляет текст расшифрованной в ИМСК 1.1, совместимом с TTML.|
| Режим ожидания прямых событий <!--new row --> | Режим ожидания для V2 не был. | Режим "в режиме" — это новая функция v3, которая помогает управлять горячими пулами активных событий. Теперь клиенты могут начать интерактивное событие в режиме "в сети" с меньшими затратами, прежде чем перевести его в состояние выполнения. Это улучшает время запуска канала и сокращает затраты на горячее хранение рабочих пулов для ускорения запуска. |
| Выставление счетов за прямые мероприятия <!--new row --> | <!-- empty-->| Выставление счетов за интерактивные мероприятия основано на счетчиках Live Channel. |
| Выходные данные в реальном времени <!--new row --> | Программы должны были запускаться после создания. | Выходные данные потоковой трансляции запускаются при создании и останавливаются при удалении. |

## <a name="next-steps"></a>Следующие шаги

[!INCLUDE [migration guide next steps](./includes/migration-guide-next-steps.md)]
