---
title: Коды ошибок динамических событий служб мультимедиа Azure
description: В этой статье перечислены коды динамических событий.
author: IngridAtMicrosoft
manager: femila
editor: ''
services: media-services
documentationcenter: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: error-reference
ms.date: 02/12/2020
ms.author: inhenkel
ms.openlocfilehash: b3be465c488bdd3c5dbd62f757733939d1bee393
ms.sourcegitcommit: d4734bc680ea221ea80fdea67859d6d32241aefc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100393519"
---
# <a name="media-services-live-event-error-codes"></a>Коды ошибок динамических событий служб мультимедиа

[!INCLUDE [media services api v3 logo](./includes/v3-hr.md)]

В следующих таблицах перечислены коды [динамических событий](live-events-outputs-concept.md) .

## <a name="liveeventconnectionrejected"></a>LiveEventConnectionRejected;

При оформлении подписки на события [сетки событий](../../event-grid/index.yml) для события в реальном времени может появиться одна из следующих ошибок события [лививентконнектионрежектед](media-services-event-schemas.md\#liveeventconnectionrejected) .
> [!div class="mx-tdCol2BreakAll"]
>| Ошибка | Сведения |
>|--|--|
>|**MPE_RTMP_APPID_AUTH_FAILURE** ||
>|Описание | Неправильный URL-адрес приема. |
>|Предлагаемое решение| APPID — это токен GUID в URL-адресе приема RTMP. Убедитесь, что он соответствует URL-адресу приема из API. |
>|**MPE_INGEST_ENCODER_CONNECTION_DENIED** ||
>| Описание |IP-адрес кодировщика отсутствует в настроенном списке разрешений IP-адресов |
>| Предлагаемое решение| Убедитесь, что IP-адрес кодировщика находится в списке разрешенных IP-адресов. Чтобы задать правильное значение, используйте интерактивное средство, такое как калькулятор *вхоисмип* или *CIDR* .  Убедитесь, что кодировщик может связаться с сервером перед фактическим событием прямой трансляции. |
>|**MPE_INGEST_RTMP_SETDATAFRAME_NOT_RECEIVED** ||
>| Описание|Кодировщик RTMP не отправил `setDataFrame` команду. |
>| Предлагаемое решение|Большинство коммерческих кодировщиков отправляют метаданные потока. Для кодировщика, который отправляет односкоростную скорость приема, это может не быть проблемой. Лививент может вычислить входящую скорость при отсутствии метаданных потока.  Для многоскоростного приема для канала PassThru или сценария двойной отправки можно попытаться добавить строку запроса с помощью "видеодатарате" и "аудиодатарате" в URL-адрес приема. Приближенное значение может работать. Единица находится в кбит. Например,  `rtmp://hostname:1935/live/GUID_APPID/streamname?videodatarate=5000&audiodatarate=192` |
>|**MPE_INGEST_CODEC_NOT_SUPPORTED** ||
>| Описание|Указанный кодек не поддерживается.|
>| Предлагаемое решение| Лививент получил неподдерживаемый кодек. Например, принимающий RTMP, Лививент получил видеокодек, не поддерживающий AVC.  Проверьте предустановку кодировщика. |
>|**MPE_INGEST_DESCRIPTION_INFO_NOT_RECEIVED** ||
>| Описание |Сведения о описании носителя не были получены до доставки фактических данных мультимедиа. |
>| Предлагаемое решение|Лививент не получает описание потока (тег Header или FLV) из кодировщика. Это нарушение протокола. Обратитесь к поставщику кодировщика. |
>|**MPE_INGEST_MEDIA_QUALITIES_EXCEEDED** ||
>| Описание|Число качеств для типа звука или видео превысило максимально допустимое значение. |
>| Предлагаемое решение|Если в режиме реального времени используется кодирование в реальном времени, кодировщику следует передавать одну скорость видео и аудио.  Обратите внимание, что допускается избыточная отправка с той же скоростью. Проверьте настройки кодировщика или выходные параметры, чтобы убедиться в том, что он выводит один поток с скоростью. |
>|**MPE_INGEST_BITRATE_AGGREGATED_EXCEEDED** ||
>| Описание|Общая скорость входящей скорости в интерактивной службе событий или канала превысила максимально допустимый предел. |
>| Предлагаемое решение|Кодировщик превысил максимальную входящую скорость. Это ограничение объединяет все входящие данные из участвующего кодировщика. Проверьте предустановки кодировщика или параметры вывода, чтобы снизить скорость. |
>|**MPE_RTMP_FLV_TAG_TIMESTAMP_INVALID** ||
>| Описание|Метка времени для видео-или аудио Флвтаг не является допустимой из кодировщика RTMP. |
>| Предлагаемое решение|Не рекомендуется. |
>|**MPE_INGEST_FRAMERATE_EXCEEDED** ||
>| Описание|Входящий поток, принимающий потоки с частотой кадров, превысил максимально допустимый 30 кадров в секунду для кодирования динамических событий и каналов. |
>| Предлагаемое решение|Проверьте предустановку кодировщика, чтобы снизить частоту кадров до 36 кадров/с. |
>|**MPE_INGEST_VIDEO_RESOLUTION_NOT_SUPPORTED** ||
>| Описание|Поток входящих потоков, принимающих входящие кодировщики, превысил следующие допустимые разрешения: 1920x1088 для кодирования динамических событий и каналов и 4096 x 2160 для сквозных динамических событий и каналов. |
>| Предлагаемое решение|Проверьте предустановку кодировщика, чтобы уменьшить разрешение видео, чтобы оно не превышало ограничение. |
>|**MPE_INGEST_RTMP_TOO_LARGE_UNPROCESSED_FLV** |
>| Описание|Интерактивное событие получило большой объем звуковых данных за один раз или большой объем видеоданных без ключевых кадров. Мы отключили кодировщик, чтобы дать ему возможность повторить попытку с правильными данными. |
>| Предлагаемое решение|Убедитесь, что кодировщик отправляет ключевой кадр для каждого интервала кадров ключа (GOP).  Включите такие параметры, как "постоянная скорость (CBR)" или "выровняйте ключевые кадры". Иногда может помочь сброс кодировщика. Если это не поможет, обратитесь к поставщику кодировщика. |

## <a name="liveeventencoderdisconnected"></a>LiveEventEncoderDisconnected.

Может появиться одна из следующих ошибок события [лививентенкодердисконнектед](media-services-event-schemas.md\#liveeventencoderdisconnected) .

> [!div class="mx-tdCol2BreakAll"]
>| Ошибка | Сведения |
>|--|--|
>|**MPE_RTMP_SESSION_IDLE_TIMEOUT** |
>| Описание|Превышено время ожидания сеанса RTMP после простоя в течение допустимого ограничения времени. |
>|Предлагаемое решение|Обычно это происходит, когда кодировщик прекращает получать входной поток, чтобы сеанс стал бездействующим, так как отсутствуют данные для отправки. Проверьте, находится ли состояние кодировщика или канала ввода в работоспособном состоянии. |
>|**MPE_RTMP_FLV_TAG_TIMESTAMP_INVALID** |
>|Описание| Метка времени для видео-или аудио Флвтаг недопустима в кодировщике RTMP. |
>| Предлагаемое решение| Не рекомендуется. |
>|**MPE_CAPACITY_LIMIT_REACHED** |
>| Описание|Кодировщик отправляет данные слишком быстро. |
>| Предлагаемое решение|Это происходит, когда кодировщик выполняет большой набор фрагментов в течение короткого периода.  Это теоретически может произойти, когда кодировщику не удается отправить данные в течение определенного времени из-за проблемы в сети и при доступе к сети происходит передача данных. Найдите причину из журнала кодировщика или системного журнала. |
>|**Неизвестные коды ошибок** |
>| Описание| Эти коды ошибок могут варьироваться от ошибки памяти до дублирования записей в карте хэшей. |

## <a name="other-error-codes"></a>Другие коды ошибок

> [!div class="mx-tdCol2BreakAll"]
>| Ошибка | Сведения |Событие "отклонено/отключено"|
>|--|--|--|
>|**ERROR_END_OF_MEDIA** ||Да|
>| Описание|Это общая ошибка. ||
>|Предлагаемое решение| Нет.||
>|**MPI_SYSTEM_MAINTENANCE** ||Да|
>| Описание|Кодировщик отключился из-за обновления службы или обслуживания системы. ||
>|Предлагаемое решение|Убедитесь, что кодировщик включает "автоматическое подключение". Это функция кодировщика для восстановления неожиданного отключения сеанса. ||
>|**MPE_BAD_URL_SYNTAX** ||Да|
>| Описание|URL-адрес приема имеет неправильный формат. ||
>|Предлагаемое решение|Убедитесь, что URL-адрес приема имеет правильный формат. Для RTMP должно быть `rtmp[s]://hostname:port/live/GUID_APPID/streamname` ||
>|**MPE_CLIENT_TERMINATED_SESSION** ||Да|
>| Описание|Кодировщик отключил сеанс.  ||
>|Предлагаемое решение|Это не ошибка. Это тот случай, когда кодировщик инициирует отключение, включая мягкое отключение. Если это неожиданное отключение, проверьте журнал кодировщика или системный журнал. |
>|**MPE_INGEST_BITRATE_NOT_MATCH** ||Нет|
>| Описание|Скорость входящих данных не совпадает с ожидаемой скоростью. ||
>|Предлагаемое решение|Это предупреждение возникает, если скорость входящих данных слишком медленная или высокая. Проверьте журнал кодировщика или системный журнал.||
>|**MPE_INGEST_DISCONTINUITY** ||Нет|
>| Описание| В входящих данных есть дисконтинути.||
>|Предлагаемое решение| Это предупреждение, что кодировщик удаляет данные из-за проблемы с сетью или проблемы с системным ресурсом. Проверьте журнал кодировщика или системный журнал. Также следует наблюдать за системным ресурсом (ЦП, памятью или сетью). Если системный процессор слишком высокий, попробуйте уменьшить скорость или используйте параметр кодировщика H/W на системной графической карте.||

## <a name="see-also"></a>См. также раздел

[Коды ошибок конечной точки потоковой передачи (исходного кода)](streaming-endpoint-error-codes.md)

## <a name="next-steps"></a>Следующие шаги

[Руководство по Потоковая трансляция в реальном времени с помощью Служб мультимедиа](stream-live-tutorial-with-api.md)
