---
title: Типы функций в Устойчивые функции расширении функций Azure
description: Сведения о типах функций и ролей, которые поддерживают обмен данными между функциями в Устойчивые функции оркестрации в функциях Azure.
author: cgillum
ms.topic: conceptual
ms.date: 08/22/2019
ms.author: azfuncdf
ms.openlocfilehash: 7a485f31ed7e112745cf3b45bbfe348e6a2e0fd3
ms.sourcegitcommit: d6b68b907e5158b451239e4c09bb55eccb5fef89
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "74232770"
---
# <a name="durable-functions-types-and-features-azure-functions"></a>Типы и функции Устойчивые функции (функции Azure)

Устойчивые функции — это расширение [Функций Azure](../functions-overview.md). Устойчивые функции можно использовать для согласования состояния выполнения функций. Устойчивое приложение-функция — это решение, которое состоит из различных функций Azure. Функции могут играть различные роли в устойчивой функции оркестрации. 

В функциях Azure в настоящее время существует четыре типа устойчивых функций: Activity, Orchestrator, Entity и Client. В оставшейся части этого раздела приводятся дополнительные сведения о типах функций, участвующих в оркестрации.

## <a name="orchestrator-functions"></a>Функции оркестратора

Функции Orchestrator описывают выполнение действий и порядок выполнения действий. Функции Orchestrator описывают согласование в коде (C# или JavaScript), как показано в [устойчивые функции шаблонах приложений](durable-functions-overview.md#application-patterns). Оркестрации может иметь множество различных типов действий, включая [функции действий](#activity-functions), [подсистемы взаимодействия](durable-functions-orchestrations.md#sub-orchestrations), [ожидание внешних событий](durable-functions-orchestrations.md#external-events), [http](durable-functions-http-features.md)и [таймеров](durable-functions-orchestrations.md#durable-timers). Функции Orchestrator также могут взаимодействовать с [функциями сущностей](#entity-functions).

> [!NOTE]
> Функции Orchestrator пишутся с помощью обычного кода, но существуют и некоторые требования к написанию кода. В частности, код функции Orchestrator должен быть *детерминированным*. Несоблюдение этих требований к детерминированным данным может привести к сбою в работе функций Orchestrator. Подробные сведения об этих требованиях и способах их решения можно найти в разделе [ограничения кода](durable-functions-code-constraints.md) .

Более подробные сведения о функциях Orchestrator и их функциях см. в статье [согласование устойчивых оркестрации](durable-functions-orchestrations.md) .

## <a name="activity-functions"></a>Функции действий

Функции действий — это базовая единица работы в устойчивой функции оркестрации. Функции действий — это функции и задачи, управляемые в процессе. Например, вы можете создать функцию Orchestrator для обработки заказа. Задачи подразумевают проверку запасов, оплату клиента и создание отгрузки. Каждая задача будет отдельной функцией действия. Эти функции действий могут выполняться последовательно, параллельно или в любом сочетании.

В отличие от функций Orchestrator, функции действий не ограничиваются типом работы, которую можно выполнять в них. Функции действий часто используются для выполнения сетевых вызовов или запуска ресурсоемких операций. Функция действия также может вернуть данные обратно в функцию Orchestrator. Платформа устойчивых задач гарантирует, что каждая вызванная функция действия будет выполняться *по крайней мере один раз* во время выполнения оркестрации.

> [!NOTE]
> Поскольку функции действий гарантируют только *однократное* выполнение, мы рекомендуем сделать логику функции действия *идемпотентными* по возможности.

Используйте [триггер действия](durable-functions-bindings.md#activity-trigger) для определения функции действия. Функции .NET получают `DurableActivityContext` в качестве параметра. Можно также привязать триггер к любому другому сериализуемым в JSON объекту для передачи входных данных функции. В JavaScript можно получить доступ к входным данным через свойство `<activity trigger binding name>` [объекта`context.bindings`](../functions-reference-node.md#bindings). Функциям действий может быть передано только одно значение. Для передачи нескольких значений необходимо использовать кортежи, массивы или сложные типы.

> [!NOTE]
> Функцию действия можно активировать только из функции Orchestrator.

## <a name="entity-functions"></a>Функции сущностей

Функции сущностей определяют операции чтения и обновления мелких частей состояния. Мы часто будем ссылаться на эти сущности с отслеживанием состояния как на *устойчивые сущности*. Как и функции оркестратора, функции сущностей — это функции с особым типом триггера, *триггером сущности*. Они также могут вызываться из клиентских функций или из функций Orchestrator. В отличие от функций Orchestrator, функции сущностей не имеют конкретных ограничений кода. Функции сущностей также управляют состоянием явным образом, а не неявно представляют состояние с помощью потока управления.

> [!NOTE]
> Функции сущностей и связанные функции доступны только в Устойчивых функциях версии 2.0 и более поздних версиях.

Дополнительные сведения о функциях сущностей см. в статье о [устойчивых сущностях](durable-functions-entities.md) .

## <a name="client-functions"></a>Клиентские функции

Функции Orchestrator запускаются с помощью [привязки триггера оркестрации](durable-functions-bindings.md#orchestration-trigger) , а функции сущностей вызываются [привязкой триггера сущности](durable-functions-bindings.md#entity-trigger). Оба триггера работают путем реагирования на сообщения, которые ставятся в очередь в [Центр задач](durable-functions-task-hubs.md). Основным способом доставки этих сообщений является использование [привязки клиента Orchestrator](durable-functions-bindings.md#orchestration-client) или [привязки клиента сущности](durable-functions-bindings.md#entity-client) в *клиентской функции*. Любая функция, не относящаяся к Orchestrator, может быть *клиентской функцией*. Например, вы можете активировать Orchestrator из функции, активируемой HTTP, функции, активируемой концентратором событий Azure, и т. д. Функция, которая делает функцию *клиентской* , использует выходную привязку долговременного клиента.

> [!NOTE]
> В отличие от других типов функций, Orchestrator и функции сущностей нельзя активировать напрямую с помощью кнопок на портале Azure. Если вы хотите протестировать Orchestrator или функцию сущности на портале Azure, необходимо запустить *клиентскую функцию* , которая запускает функцию Orchestrator или Entity в рамках своей реализации. Для простейшего тестирования рекомендуется использовать функцию *триггера вручную* .

Помимо активации функций Orchestrator или Entity, для взаимодействия с запущенными оркестрации и сущностями можно использовать *устойчивую клиентскую* привязку. Например, оркестрации могут запрашиваться, завершаться и получать события. Дополнительные сведения об управлении согласованиями и сущностями см. в статье [Управление экземплярами](durable-functions-instance-management.md) .

## <a name="next-steps"></a>Дополнительная информация

Чтобы приступить к работе, создайте свою первую устойчивую функцию в [C#](durable-functions-create-first-csharp.md) или [JavaScript](quickstart-js-vscode.md).

> [!div class="nextstepaction"]
> [Дополнительные сведения об оркестрациих Устойчивые функции](durable-functions-orchestrations.md)