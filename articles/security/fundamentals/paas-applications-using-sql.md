---
title: Защита баз данных PaaS в Azure | Документы Майкрософт
description: 'Узнайте о рекомендациях по обеспечению безопасности базы данных SQL Azure и Azure синапсе Analytics для защиты веб-приложений и мобильных приложения PaaS. '
services: security
documentationcenter: na
author: techlake
manager: barbkess
editor: ''
ms.assetid: ''
ms.service: security
ms.subservice: security-fundamentals
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 09/28/2018
ms.author: terrylan
ms.openlocfilehash: 278812754c636d434bf579c0408832f1e99d3445
ms.sourcegitcommit: 17b36b13857f573639d19d2afb6f2aca74ae56c1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2020
ms.locfileid: "94408079"
---
# <a name="best-practices-for-securing-paas-databases-in-azure"></a>Рекомендации по защите баз данных PaaS в Azure

В этой статье мы рассмотрим коллекцию [базы данных SQL Azure](../../azure-sql/database/sql-database-paas-overview.md) и рекомендации по обеспечению безопасности [Azure синапсе Analytics](../../synapse-analytics/sql-data-warehouse/sql-data-warehouse-overview-what-is.md) для защиты веб-и мобильных приложений платформы как услуги (PaaS). Эти рекомендации основаны на нашем опыте, полученном в процессе использования Azure AD, и на отзывах других пользователей.

База данных SQL Azure и Azure синапсе Analytics предоставляют службу реляционной базы данных для Интернет-приложений. Рассмотрим службы, помогающие защитить приложения и данные при использовании базы данных SQL Azure и Azure синапсе Analytics в развертывании PaaS:

- Аутентификация Azure Active Directory (вместо аутентификации SQL Server).
- Брандмауэр SQL Azure.
- Прозрачное шифрование данных (TDE)

## <a name="use-a-centralized-identity-repository"></a>Использование централизованного репозитория удостоверений

В базе данных SQL Azure можно настроить использование одного из двух типов проверки подлинности:

- **Аутентификация SQL** с использованием имени пользователя и пароля. При создании сервера для базы данных вы указали имя входа администратора сервера с именем пользователя и паролем. Используя эти учетные данные, можно пройти аутентификацию для любой базы данных на этом сервере в качестве ее владельца.

- **Аутентификация Azure Active Directory** с использованием удостоверений, контролируемых Azure Active Directory, которая поддерживается управляемыми и интегрированными доменами. Чтобы использовать аутентификацию Azure Active Directory, необходимо создать другого администратора сервера с именем Azure AD admin, которому разрешено администрировать пользователей и группы Azure AD. Этот администратор также может выполнять все операции, доступные обычному администратору.

[Azure Active Directoryная проверка подлинности](../../active-directory/develop/authentication-vs-authorization.md) — это механизм подключения к базе данных SQL Azure и Azure синапсе Analytics с помощью удостоверений в Azure Active Directory (AD). Azure AD обеспечивает альтернативу аутентификации SQL Server, что позволяет не множить число удостоверений пользователей на серверах базы данных. С помощью аутентификации Azure AD можно централизованно управлять удостоверениями пользователей базы данных и другими службами Майкрософт. Централизованное управление удостоверениями позволяет использовать единое расположение для управления пользователями и упрощает управление разрешениями.  

### <a name="benefits-of-using-azure-ad-instead-of-sql-authentication"></a>Преимущества использования аутентификации Azure AD вместо аутентификации SQL

- возможность чередования паролей в одном расположении;
- управление разрешениями базы данных с помощью внешних групп Azure AD;
- возможность исключить хранение паролей с помощью встроенной проверки подлинности Windows и других видов аутентификации, поддерживаемых Azure AD;
- для проверки подлинности удостоверений на уровне базы данных используются данные пользователей автономной базы данных;
- поддержка аутентификации на основе маркеров для приложений, подключающихся к базе данных SQL;
- поддержка федерации доменов с использованием служб федерации Active Directory (AD FS) или аутентификации на основе пароля и имени исходного пользователя для локального каталога Azure AD без синхронизации доменов;
- поддержка подключений из SQL Server Management Studio, использующих универсальную аутентификацию Active Directory, в том числе [Многофакторную идентификацию (MFA)](../../active-directory/authentication/concept-mfa-howitworks.md). MFA обеспечивает надежную аутентификацию с использованием ряда простых вариантов проверки посредством телефонного звонка, текстового сообщения, смарт-карты с ПИН-кодом или уведомления в мобильном приложении. Дополнительные сведения см. [в статье универсальная проверка подлинности с помощью базы данных SQL и Azure синапсе Analytics](../../azure-sql/database/authentication-mfa-ssms-overview.md).

Дополнительные сведения об аутентификации Azure AD см. в следующих статьях:

- [Использование проверки подлинности Azure Active Directory для проверки подлинности с помощью базы данных SQL, Управляемый экземпляр или Azure синапсе Analytics](../../azure-sql/database/authentication-aad-overview.md)
- [Аутентификация в Azure синапсе Analytics](../../synapse-analytics/sql-data-warehouse/sql-data-warehouse-authentication.md)
- [Поддержка проверки подлинности на основе маркеров для базы данных SQL Azure с использованием проверки подлинности Azure AD](../../azure-sql/database/authentication-aad-overview.md)

> [!NOTE]
> Чтобы убедиться, что Azure Active Directory подходит для вашей среды, ознакомьтесь с разделом [Функции и ограничения Azure AD](../../azure-sql/database/authentication-aad-overview.md#azure-ad-features-and-limitations).

## <a name="restrict-access-based-on-ip-address"></a>Ограничение доступа по IP-адресу

Вы можете создать правила брандмауэра, которые указывают диапазон допустимых IP-адресов. Эти правила могут быть определены на уровнях сервера и базы данных. Мы рекомендуем использовать правила брандмауэра уровня базы данных всегда, когда это возможно, чтобы повысить уровень безопасности и сделать базу данных более портативной. Правила брандмауэра уровня сервера лучше всего подходят для администраторов, если у вас много баз данных с одинаковыми требованиями к доступу, но вы не хотите тратить время на настройку каждой базы данных по отдельности.

Ограничения исходных IP-адресов по умолчанию в Базе данных SQL разрешают доступ с любого адреса Azure, включая другие подписки и клиенты. Вы можете усилить безопасность, разрешив доступ к экземпляру только со своих IP-адресов. Даже если используются брандмауэр SQL и ограничения IP-адресов, необходима строгая проверка подлинности. Ознакомьтесь с рекомендациями, указанными ранее в этой статье.

Чтобы узнать больше о брандмауэре SQL Azure и ограничениях IP-адресов, ознакомьтесь со следующими статьями:

- [Управление доступом к базе данных SQL Azure и Azure синапсе Analytics](../../azure-sql/database/logins-create-manage.md)
- [Правила брандмауэра базы данных SQL Azure и Azure синапсе Analytics](../../azure-sql/database/firewall-configure.md)

## <a name="encrypt-data-at-rest"></a>Шифрование неактивных данных

[Прозрачное шифрование данных (TDE)](/sql/relational-databases/security/encryption/transparent-data-encryption) по умолчанию включено. TDE прозрачно шифрует SQL Server, базу данных SQL Azure и файлы данных и журналов Azure синапсе Analytics. Она обеспечивает защиту от несанкционированного прямого доступа к файлам или их резервным копиям. Это позволяет шифровать неактивные данные, не меняя существующие приложения. Функция TDE должна быть включена всегда. Однако она не помешает злоумышленнику воспользоваться обычным способом доступа. TDE дает возможность соблюдать требования многих законов, норм и рекомендаций, действующих в различных отраслях.

SQL Azure управляет связанными с ключами аспектами для TDE. При использовании TDE следует уделять особое внимание обеспечению возможности восстановления при перемещении баз данных. В более сложных сценариях управление ключами может осуществляться явным образом в Azure Key Vault посредством расширенного управления ключами. Дополнительные сведения см. в статье [Включение прозрачного шифрования данных в SQL Server с помощью расширенного управления ключами](/sql/relational-databases/security/encryption/enable-tde-on-sql-server-using-ekm). В этом случае также поддерживается создание собственных ключей (BYOK) посредством функции Azure Key Vaults BYOK.

SQL Azure обеспечивает шифрование столбцов с помощью функции [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine). Она разрешает доступ к важным столбцам только авторизованным приложениям. Использование такого типа шифрования ограничивает запросы SQL к зашифрованным столбцам значениями, основанными на равенстве.

Для избранных данных также следует использовать шифрование уровня приложения. Проблемы независимости данных иногда могут быть устранены путем шифрования данных с помощью ключа, который хранится в правильной стране или регионе. Это предотвращает проблемы даже при ненамеренной передаче данных, так как их невозможно расшифровать без ключа, если, конечно, используется надежный алгоритм (например, AES 256).

Для защиты базы данных можно принять дополнительные меры предосторожности, такие как проектирование безопасной системы, шифрование конфиденциальных ресурсов и создание брандмауэра на серверах базы данных.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье мы рассмотрели набор баз данных SQL и рекомендации по обеспечению безопасности Azure синапсе Analytics для защиты веб-и мобильных приложений PaaS. Дополнительные сведения о безопасности развернутых служб PaaS см. в следующих статьях:

- [Защита развернутых служб PaaS](paas-deployments.md)
- [Защита мобильных приложений и веб-приложений PaaS с помощью служб приложений Azure](paas-applications-using-app-services.md)