---
title: Мониторинг подключения устройств с помощью обозревателя Azure IoT Central
description: Отслеживайте сообщения с устройств и изменения двойников устройств с помощью интерфейса командной строки обозревателя IoT Central.
author: viv-liu
ms.author: viviali
ms.date: 02/20/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: 16cb27ab330118d1bb59cf4f3d782bf55fa28d43
ms.sourcegitcommit: 5fbca3354f47d936e46582e76ff49b77a989f299
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2019
ms.locfileid: "57779748"
---
# <a name="monitor-device-connectivity-using-the-azure-iot-central-explorer"></a>Мониторинг подключения устройств с помощью обозревателя Azure IoT Central

*Этот раздел предназначен для разработчиков и администраторов.*

С помощью интерфейса командной строки (CLI) обозревателя IoT Central можно просматривать сообщения, которые устройства отправляют в IoT Central, и следить за изменениями двойников в центре Интернета вещей. Это средство с открытым кодом позволяет получать более полную информацию о состоянии подключения устройств и диагностировать проблемы с доставкой сообщений от устройств в облако или реакцией устройств на изменение двойников.

[Посетите репозиторий iotc-explorer в GitHub.](https://aka.ms/iotciotcexplorercligithub)

## <a name="prerequisites"></a>Технические условия

+ Node.js версии 8.x или более поздней — https://nodejs.org
+ Администратор приложения необходимо создать маркер доступа для использования в обозревателе iotc

## <a name="install-iotc-explorer"></a>Установка iotc explorer

Чтобы установить средство, в командной строке выполните следующую команду:

```cmd/sh
npm install -g iotc-explorer
```

> [!NOTE]
> Обычно требуется выполнить команду установки с `sudo` в Unix подобных средах.

## <a name="run-iotc-explorer"></a>Запуск обозревателя iotc

В следующих разделах описаны распространенные команды и параметры, которые можно использовать при выполнении `iotc-explorer`. Чтобы просмотреть полный набор команд и параметров, передайте `--help` для `iotc-explorer` или любого из его подкоманды.

### <a name="login"></a>Вход

Прежде чем приступать к работе, необходимо попросить администратора приложения IoT Central создать для вас маркер доступа. Администратору потребуется выполнить указанные ниже действия.

1. Перейдите к **администрирования** затем **маркеры доступа**.
1. Выберите **создания маркера**.
    ![Снимок экрана страницы "Маркеры доступа"](media/howto-use-iotc-explorer/accesstokenspage.png)

1. Введите имя токена, выберите **Далее**, а затем **копирования**.
    > [!NOTE]
    > Значение маркера отображается только один раз, поэтому его необходимо скопировать перед закрытием диалогового окна. После закрытия диалогового окна, он никогда не повторяется снова.

    ![Снимок экрана диалогового окна, в котором копируется маркер доступа](media/howto-use-iotc-explorer/copyaccesstoken.png)

Маркер можно использовать для входа в интерфейс командной строки следующим образом:

```cmd/sh
iotc-explorer login "<Token value>"
```

Если вы не хотите маркер сохраняется в журнале оболочки, можно оставить токен out и вместо этого укажите его при появлении запроса:

```cmd/sh
iotc-explorer login
```

### <a name="monitor-device-messages"></a>Отслеживание сообщений с устройств

Вы можете отслеживать сообщения, поступающие с конкретного устройства или со всех устройств, где используется приложение, с помощью команды `monitor-messages`. Эта команда запускает наблюдатель, который постоянно выводит новых сообщений при их поступлении:

Чтобы непрерывно отслеживать все устройства в приложении, выполните следующую команду:

```cmd/sh
iotc-explorer monitor-messages
```

Выходные данные:

![выходные данные команды monitor-messages](media/howto-use-iotc-explorer/monitormessages.png)

Чтобы просмотреть конкретное устройство, просто добавьте идентификатор устройства в конец команды:

```cmd/sh
iotc-explorer monitor-messages <your-device-id>
```

Можно также выводить формате более машинном формате, добавив `--raw` параметр для команды:

```
iotc-explorer monitor-messages --raw
```

### <a name="get-device-twin"></a>Получение двойника устройства

С помощью команды `get-twin` можно получить содержимое двойника для устройства IoT Central. Для этого выполните следующую команду:

```cmd/sh
iotc-explorer get-twin <your-device-id>
```

Выходные данные:

![выходные данные команды get-twin](media/howto-use-iotc-explorer/getdevicetwin.png)

Так же как и в случае с командой `monitor-messages`, вы можете получить данные в машинном формате, передав параметр `--raw`:

```cmd/sh
iotc-explorer get-twin <your-device-id> --raw
```

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как использовать обозреватель центра Интернета вещей, мы предлагаем является исследование [управление устройствами IoT Central](howto-manage-devices.md).
