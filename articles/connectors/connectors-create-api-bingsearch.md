---
title: Подключение к поиску Bing — Azure Logic Apps
description: Ищите новости с помощью поиска Bing API REST и Azure Logic Apps
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: article
ms.date: 05/21/2018
tags: connectors
ms.openlocfilehash: 7146e59eabf9e30fa263f957f1c546414ad0fe26
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60952664"
---
# <a name="find-news-with-bing-search-and-azure-logic-apps"></a>Поиск новостей с помощью поиска Bing и Azure Logic Apps

В этой статье показано, как можно найти новости, видео и другие элементы посредством поиска Bing из приложения логики с помощью соединителя поиска Bing. Таким образом, можно создать приложения логики, автоматизирующие задачи и рабочие процессы для обработки результатов поиска и делать эти элементы, доступными для других действий. 

Например, на основании критерия поиска можно найти новостные статьи и разместить эти элементы в виде твитов в веб-канале Twitter.

Если у вас еще нет подписки Azure, <a href="https://azure.microsoft.com/free/" target="_blank">зарегистрируйтесь для получения бесплатной учетной записи Azure</a>. Если вы не знакомы с приложениями логики, ознакомьтесь со статьями [Что такое Azure Logic Apps](../logic-apps/logic-apps-overview.md) и [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).
См. технические сведения о <a href="https://docs.microsoft.com/connectors/bingsearch/" target="blank">соединителях поиска Bing</a>.

## <a name="prerequisites"></a>Технические условия

* [Учетная запись Cognitive Services](../cognitive-services/cognitive-services-apis-create-account.md)

* [Ключ API поиска Bing](https://azure.microsoft.com/try/cognitive-services/?api=bing-news-search-api), который предоставляет доступ к API поиска Bing из приложения логики

* Приложение логики, из которого необходимо получить доступ к концентратору событий. Чтобы запустить приложение логики с помощью триггера поиска Bing, требуется [пустое приложение логики](../logic-apps/quickstart-create-first-logic-app-workflow.md).

<a name="add-trigger"></a>

## <a name="add-a-bing-search-trigger"></a>Добавление триггера поиска Bing

В Azure Logic Apps каждое приложение логики должно запускаться по [триггеру](../logic-apps/logic-apps-overview.md#logic-app-concepts), который активируется, когда происходит определенное событие или если выполняются заданные условия. При каждом срабатывании триггера обработчик Logic Apps создает экземпляр приложения логики, запускающий рабочий процесс.

1. На портале Azure или в Visual Studio создайте пустое приложение логики. Откроется конструктор приложений логики. В этом примере используется портал Azure.

2. В поле поиска в качестве фильтра введите запрос "поиск Bing". В списке триггеров выберите нужный триггер.

   В этом примере использует этот триггер: **Поиск Bing — на новой статьи новостей**

   ![Нахождение триггера поиска Bing](./media/connectors-create-api-bing-search/add-trigger.png)

3. Если вам будет предложено ввести сведения о подключении, [создайте свое подключение к поиску Bing](#create-connection).
Или, если подключение уже существует, введите необходимые сведения для триггера.

   В этом примере указаны критерии для возврата соответствующих статей новостей из поиска Bing.

   | Свойство | Обязательно для заполнения | Value | ОПИСАНИЕ |
   |----------|----------|-------|-------------|
   | Search Query | Yes | <*слова_для_поиска*> | Введите ключевые слова для поиска, которые необходимо использовать. |
   | по рынку; | Yes | <*языковой стандарт*> | Языковой стандарт для поиска. Значение по умолчанию — "en-US", но можно выбрать другое значение. |
   | Safe Search | Yes | <*уровень_поиска*> | Уровень фильтра для исключения материалов для взрослых. Значение по умолчанию — "Средний", но можно выбрать другой уровень. |
   | Количество | Нет | <*число_результатов*> | Возвращает указанное число результатов. Значение по умолчанию — 20, но можно указать другое значение. Фактическое число возвращаемых результатов может быть меньше указанного числа. |
   | Offset | Нет | <*значение_пропуска*> | Количество пропускаемых результатов перед возвращением результатов |
   |||||

   Например:

   ![Настройка триггера](./media/connectors-create-api-bing-search/bing-search-trigger.png)

4. Укажите частоту и продолжительность, с которыми триггер будет проверять результаты.

5. Завершив работу, нажмите кнопку **Сохранить** на панели инструментов конструктора.

6. Теперь продолжайте добавлять действия в приложение логики для задач, которые необходимо выполнить с результатами триггера.

<a name="add-action"></a>

## <a name="add-a-bing-search-action"></a>Добавление действия к поиску Bing

В Azure Logic Apps [действие](../logic-apps/logic-apps-overview.md#logic-app-concepts) — это шаг в рамках рабочего процесса, выполняемый после срабатывания триггера или другого действия. Например, приложение логики запускается после срабатывания триггера поиска Bing, который возвращает новости, соответствующие указанным критериям.

1. На портале Azure или в Visual Studio откройте приложение логики в конструкторе приложений логики. В этом примере используется портал Azure.

2. В разделе "Триггер" или "Действия" выберите **Новый шаг** > **Добавить действие**.

   В этом примере использует этот триггер:

   **Поиск Bing — на новой статьи новостей**

   ![Добавление действия](./media/connectors-create-api-bing-search/add-action.png)

   Чтобы добавить действие между существующими шагами, наведите указатель мыши на соединяющую стрелку. 
   Щелкните появившийся знак "плюс" ( **+** ), а затем выберите **Добавить действие**.

3. В поле поиска в качестве фильтра введите запрос "поиск Bing".
В списке действий выберите необходимое действие.

   В этом примере это действие:

   **Поиск Bing - списка новости по запросу**

   ![Нахождение действия поиска Bing](./media/connectors-create-api-bing-search/bing-search-select-action.png)

4. Если вам будет предложено ввести сведения о подключении, [создайте свое подключение к поиску Bing](#create-connection). Или, если подключение уже существует, введите необходимые сведения для действия.

   В этом примере указаны критерии для возврата подмножества результатов триггера.

   | Свойство | Обязательно для заполнения | Value | ОПИСАНИЕ |
   |----------|----------|-------|-------------|
   | Search Query | Yes | <*выражение поиска*> | Введите выражение для запроса результатов триггера. Его можно выбрать из полей в списке динамического содержимого или создать выражение с помощью построителя выражений. |
   | по рынку; | Yes | <*языковой стандарт*> | Языковой стандарт для поиска. Значение по умолчанию — "en-US", но можно выбрать другое значение. |
   | Safe Search | Yes | <*уровень_поиска*> | Уровень фильтра для исключения материалов для взрослых. Значение по умолчанию — "Средний", но можно выбрать другой уровень. |
   | Количество | Нет | <*число_результатов*> | Возвращает указанное число результатов. Значение по умолчанию — 20, но можно указать другое значение. Фактическое число возвращаемых результатов может быть меньше указанного числа. |
   | Offset | Нет | <*значение_пропуска*> | Количество пропускаемых результатов перед возвращением результатов |
   |||||

   Например, предположим, что нужны результаты, название категории которых включает слово "tech".

   1. Нажмите кнопку в поле **Поисковый запрос**, чтобы появился список динамического содержимого. 
   Из этого списка выберите **Выражение**, чтобы появился построитель выражений. 

      ![Триггер поиска Bing](./media/connectors-create-api-bing-search/bing-search-action.png)

      Теперь можно приступить к созданию выражения.

   2. В списке функций выберите функцию **contains()** , которая появляется в поле "Выражение". Нажмите кнопку **Динамическое содержимое**, чтобы снова появился список полей, но убедитесь, что курсор остается в круглых скобках.

      ![Выбор функции](./media/connectors-create-api-bing-search/expression-select-function.png)

   3. Из списка полей выберите **Категория**, которая преобразуется в параметр. 
   Добавьте запятую, после первого параметра, а после запятой, добавьте слово `'tech'` 

      ![Выбор поля](./media/connectors-create-api-bing-search/expression-select-field.png)

   4. Когда все будет готово, нажмите кнопку **ОК**.

      Теперь выражение появится в поле **Поисковый запрос** в следующем формате.

      ![Готовое выражение](./media/connectors-create-api-bing-search/resolved-expression.png)

      В окне просмотра кода это выражение отображается в следующем формате.

      `"@{contains(triggerBody()?['category'],'tech')}"`

5. Завершив работу, нажмите кнопку **Сохранить** на панели инструментов конструктора.

<a name="create-connection"></a>

## <a name="connect-to-bing-search"></a>Подключения к поиску Bing

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

1. Когда вам будет предложено ввести информацию о соединении, укажите следующие сведения.

   | Свойство | Обязательно для заполнения | Value | ОПИСАНИЕ |
   |----------|----------|-------|-------------|
   | Имя подключения | Yes | <*имя_соединения*> | Имя создаваемого подключения |
   | Версия API | Yes | <*версия_API*> | По умолчанию устанавливается текущая версия API поиска Bing. При необходимости можно выбрать более раннюю версию. |
   | Ключ API | Yes | <*ключ_API*> | Ключ API поиска Bing, полученный ранее. Если у вас нет ключа, получите [ключ API теперь](https://azure.microsoft.com/try/cognitive-services/?api=bing-news-search-api). |  
   |||||  

   Например:

   ![Создание подключения](./media/connectors-create-api-bing-search/bing-search-create-connection.png)

2. Когда все будет готово, выберите **Создать**.

## <a name="connector-reference"></a>Справочник по соединителям

Технические сведения, такие как триггеры, действия и ограничения, как определено соединителя OpenAPI (прежнее название — Swagger) файл, см. в разделе [соединителя справочной странице](/connectors/bingsearch/).

## <a name="get-support"></a>Получение поддержки

* Если у вас возникли вопросы, то посетите [форум Azure Logic Apps](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).
* Отправить идею по поводу возможности или проголосовать за нее вы можете на [сайте отзывов пользователей Logic Apps](https://aka.ms/logicapps-wish).

## <a name="next-steps"></a>Дальнейшие действия

* См. дополнительные сведения о других [соединителях Logic Apps](../connectors/apis-list.md).
