---
title: Создание конвейера CI/CD с Azure Pipelines процессом обработки и анализа данных
description: Создание конвейера непрерывной интеграции и непрерывной доставки для приложений искусственного интеллекта (ии) с помощью DOCKER и Kubernetes.
services: machine-learning
author: marktab
manager: marktab
editor: marktab
ms.service: machine-learning
ms.subservice: team-data-science-process
ms.topic: article
ms.date: 01/10/2020
ms.author: tdsp
ms.custom: seodec18, previous-author=jainr, previous-ms.author=jainr
ms.openlocfilehash: 42433ec419ac9e02077cd0359e18b5114206f27d
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "76721835"
---
# <a name="create-cicd-pipelines-for-ai-apps-using-azure-pipelines-docker-and-kubernetes"></a>Создание конвейеров CI/CD для приложений AI с помощью Azure Pipelines, Docker и Kubernetes

Приложение искусственного интеллекта (ии) — это код приложения, внедренный в предварительно обученную модель машинного обучения (ML). Для приложения AI всегда существует два потока работы: специалисты по обработке и анализу данных создают модель машинного обучения, а разработчики приложений создают приложение и предоставляют его для использования конечными пользователями. В этой статье описывается, как реализовать конвейер непрерывной интеграции и непрерывной поставки (CI/CD) для приложения AI, которое внедряет модель машинного обучения в исходный код приложения. В образце кода и учебнике используется веб-приложение Python Flask и извлекается предварительно обученная модель из частной учетной записи хранения больших двоичных объектов Azure. Вы также можете использовать учетную запись хранения AWS S3.

> [!NOTE]
> Следующий процесс является одним из нескольких способов выполнения CI/CD. Существуют альтернативы этим средствам и предварительным требованиям.

## <a name="source-code-tutorial-and-prerequisites"></a>Исходный код, руководство и предварительные требования

Вы можете скачать [Исходный код](https://github.com/Azure/DevOps-For-AI-Apps) и [подробное руководство](https://github.com/Azure/DevOps-For-AI-Apps/blob/master/Tutorial.md) из GitHub. Следуйте инструкциям руководства, чтобы реализовать конвейер CI/CD для собственного приложения.

Чтобы использовать скачанный исходный код и учебник, необходимо выполнить следующие предварительные требования. 

- [Репозиторий исходного кода](https://github.com/Azure/DevOps-For-AI-Apps) , разветвление к учетной записи GitHub
- [Организация Azure DevOps](/azure/devops/organizations/accounts/create-organization-msa-or-work-student)
- [Azure CLI](/cli/azure/install-azure-cli)
- [Кластер службы контейнеров Azure для Kubernetes (AKS)](/azure/container-service/kubernetes/container-service-tutorial-kubernetes-deploy-cluster)
- [Kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/) для выполнения команд и выбор конфигурации из кластера AKS 
- [Учетная запись реестра контейнеров Azure (записи контроля доступа)](/azure/container-registry/container-registry-get-started-portal)

## <a name="cicd-pipeline-summary"></a>Сводка по конвейеру CI/CD

Каждая новая фиксация Git начинается с конвейера сборки. Сборка безопасно извлекает последнюю модель машинного обучения из учетной записи хранилища BLOB-объектов и упаковывает ее в код приложения в одном контейнере. Такая развязка рабочих потоков разработки приложений и обработки и анализа данных гарантирует, что в рабочем приложении всегда будет выполняться последняя версия кода с последней моделью машинного обучения. Если приложение проходит тестирование, конвейер безопасно сохраняет образ сборки в контейнере DOCKER в записи контроля доступа. Затем конвейер выпуска развертывает контейнер с помощью AKS. 

## <a name="cicd-pipeline-steps"></a>Этапы конвейера CI/CD

Следующая схема и шаги описывают архитектуру конвейера CI/CD:

![Архитектура конвейера CI/CD](./media/ci-cd-flask/architecture.png)

1. Разработчики работают с кодом приложения в IDE по своему усмотрению.
2. Разработчики фиксируют код для Azure Repos, GitHub или другого поставщика системы управления версиями Git. 
3. По отдельности, специалисты по обработке и анализу данных работают над разработкой своей модели ML.
4. Специалисты по обработке и анализу данных публикуют готовую модель в репозитории модели, в данном случае учетную запись хранения BLOB-объектов. 
5. Azure Pipelines запускает сборку на основе фиксации Git.
6. Конвейер сборки извлекает последнюю модель машинного обучения из хранилища BLOB-объектов и создает контейнер.
7. Конвейер отправляет образ сборки в репозиторий закрытых образов в записи контроля доступа.
8. Конвейер выпуска начинается в зависимости от успешной сборки.
9. Конвейер извлекает последний образ из записи контроля доступа и развертывает его в кластере Kubernetes на AKS.
10. Запросы пользователей для приложения проходят через DNS-сервер.
11. DNS-сервер передает запросы подсистеме балансировки нагрузки и отправляет ответы обратно пользователям.

## <a name="see-also"></a>См. также

- [Командный процесс обработки и анализа данных (TDSP)](/azure/machine-learning/team-data-science-process/).
- [Документация по службам машинного обучения Azure (предварительная версия)](/azure/machine-learning/)
- [Azure DevOps](https://azure.microsoft.com/services/devops/)
- [Службы Azure Kubernetes (AKS)](/azure/aks/intro-kubernetes)
