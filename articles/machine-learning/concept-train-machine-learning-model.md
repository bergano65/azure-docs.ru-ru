---
title: Создание и обучение моделей
titleSuffix: Azure Machine Learning
description: Сведения о различных методах, которые можно использовать для обучения модели с помощью Машинного обучения Azure. Оценщики предоставляют простой способ работы с популярными платформами, такими как Scikit-learn, TensorFlow, Keras, PyTorch и Chainer. Конвейеры Машинного обучения позволяют легко планировать автоматические запуски, использовать разнородные вычислительные среды и повторно использовать части рабочего процесса. Конфигурации запуска обеспечивают детальный контроль над целевыми объектами вычислений, на которых выполняется процесс обучения.
services: machine-learning
ms.service: machine-learning
author: Blackmist
ms.author: larryfr
ms.subservice: core
ms.topic: conceptual
ms.date: 05/13/2020
ms.custom: devx-track-python
ms.openlocfilehash: d0341e5a4d5dc036a4c3f90b2a25003137602694
ms.sourcegitcommit: d7352c07708180a9293e8a0e7020b9dd3dd153ce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2020
ms.locfileid: "89144844"
---
# <a name="train-models-with-azure-machine-learning"></a>Обучение моделей с помощью Машинного обучения Azure

Машинное обучение Azure предоставляет несколько способов обучения моделей, от решений Code First, использующих пакет SDK, до малокодовых решений, таких как автоматизированное машинное обучение и визуальный конструктор. Используйте следующий список, чтобы определить, какой метод обучения подходит вам:

+ [Пакет SDK службы "Машинное обучение Azure" для Python](#python-sdk). Пакет SDK для Python предоставляет несколько способов обучения моделей, каждый из которых имеет различные возможности.

    | Метод обучения | Описание |
    | ----- | ----- |
    | [Конфигурация запуска](#run-configuration) | **Универсальный способ обучения моделей** заключается в использовании скрипта обучения и конфигурации запуска. Конфигурация запуска предоставляет необходимые сведения для настройки среды обучения, используемой для вашей модели. Вы можете выполнить конфигурацию запуска, скрипт обучения и целевой объект вычислений (среда обучения) и запустить задание обучения. |
    | [Автоматизированное машинное обучение](#automated-machine-learning) | Автоматизированное машинное обучение позволяет **обучить модели без глубоких знаний в области обработки и анализа данных или программирования**. Для людей, обладающих такими знаниями, оно позволяет экономить время и ресурсы путем автоматизации выбора алгоритма и настройки гиперпараметров. При использовании автоматизированного машинного обучения не нужно беспокоиться об определении конфигурации запуска. |
    | [Оценщики](#estimators) | Классы оценщика **упрощают обучение моделей на основе распространенных платформ машинного обучения**. Существуют классы оценщика для **Scikit-learn**, **PyTorch**, **TensorFlow**, **Chainer** и **Ray RLlib**. Также существует универсальный оценщик, который можно использовать с платформами, у которых еще нет выделенного класса оценщика. При использовании оценщиков не нужно беспокоиться об определении конфигурации запуска. |
    | [Конвейер машинного обучения](#machine-learning-pipeline) | Конвейеры — это не другой метод обучения, а **способ определения рабочего процесса с помощью модульных, многократно используемых действий**, которые могут включать обучение как часть рабочего процесса. Конвейеры машинного обучения поддерживают использование автоматизированного машинного обучения, оценщиков и конфигурации запуска для обучения моделей. Так как конвейеры не ориентированы специально на обучение, причины их использования разнообразнее, чем у других методов обучения. Как правило, конвейер можно использовать в следующих случаях:<br>* Вы хотите **планировать автоматические процессы**, такие как длительное выполнение заданий обучения или подготовка данных.<br>* Используете **несколько этапов**, которые скоординированы в разнородных вычислительных ресурсах и местах хранения.<br>* Используете конвейер в качестве **шаблона для повторного использования** для определенных скриптов, таких как переобучение или пакетная оценка.<br>* **Отслеживаете источники данных, входные и выходные данные** и управляете версиями для рабочего процесса.<br>* Рабочий процесс **реализован различными командами, которые независимо работают над отдельными этапами**. В конвейере можно объединить эти этапы для реализации рабочего процесса. |

+ Пакет SDK для [машинное обучение Azure для r](#r-sdk): пакет SDK для r использует пакет ретикулате для привязки к пакету SDK для Python машинное обучение Azure. Это позволяет получить доступ к основным объектам и методам, реализованным в пакете SDK для Python из любой среды R.

+ **Конструктор**. Конструктор Машинного обучения Azure (предварительная версия) предоставляет простую точку входа в машинное обучение для создания подтверждения концепции или для пользователей с небольшим опытом программирования. Он позволяет обучить модели с помощью пользовательского веб-интерфейса на основе перетаскивания. Вы можете использовать код Python как часть проекта или обучать модели без написания кода.

+ **CLI**: CLI машинного обучения предоставляет команды для распространенных задач Машинного обучения Azure и часто используется для **написания скриптов и автоматизации задач**. Например, после создания обучающего скрипта или конвейера вы можете использовать CLI для запланированного запуска обучения или при обновлении файлов данных, используемых для обучения. Для обучения моделей предоставляются команды, которые отправляют задания обучения. Задания могут отправляться с помощью конфигураций запуска или конвейеров.

Каждый из этих методов обучения может использовать различные типы вычислительных ресурсов для обучения. В совокупности эти ресурсы называются [__целевыми объектами вычислений__](concept-azure-machine-learning-architecture.md#compute-targets). Они могут быть локальными или облачными. Например, это может быть Вычислительная среда Машинного обучения Azure, Azure HDInsight или удаленная виртуальная машина.

## <a name="python-sdk"></a>Пакет SDK для Python

Пакет SDK службы "Машинное обучение Azure" для Python позволяет создавать и запускать рабочие процессы машинного обучения с помощью Машинного обучения Azure. Вы можете взаимодействовать со службой из интерактивного сеанса Python, Jupyter Notebook, Visual Studio Code или предпочитаемой интегрированной среды разработки.

* [Что собой представляет пакет SDK службы "Машинное обучение Azure"для Python?](https://docs.microsoft.com/python/api/overview/azure/ml/intro?view=azure-ml-py)
* [Установка и обновление пакета SDK](https://docs.microsoft.com/python/api/overview/azure/ml/install?view=azure-ml-py)
* [Настройка среды разработки для Машинного обучения Azure](how-to-configure-environment.md)

### <a name="run-configuration"></a>Конфигурация запуска

Используя [RunConfiguration](https://docs.microsoft.com/python/api/azureml-core/azureml.core.runconfiguration?view=azure-ml-py), можно определить универсальное задание обучения с помощью Машинного обучения Azure. Затем используется конфигурация запуска, а также скрипты обучения, чтобы обучать модель на целевом объекте вычислений.

Вы можете начать с конфигурации запуска для локального компьютера, а затем при необходимости переключиться на облачный целевой объект вычислений. При изменении целевого объекта вычислений изменяется только используемая конфигурация запуска. В ходе выполнения также записываются сведения о задании обучения, такие как входные и выходные данные, а также журналы.

* [Конфигурация запуска](concept-azure-machine-learning-architecture.md#run-configurations)
* [Руководство. Обучение модели Машинного обучения](tutorial-1st-experiment-sdk-train.md)
* [Примеры. Примеры Jupyter Notebook для моделей обучения](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training)
* [Инструкции. использование целевых объектов вычислений для обучения модели](how-to-set-up-training-targets.md)

### <a name="automated-machine-learning"></a>Автоматическое машинное обучение

Определите итерации, настройки гиперпараметров, конструирование признаков и другие параметры. Во время обучения Машинное обучение Azure параллельно пробует использовать различные алгоритмы и параметры. Обучение прекращается после того, как достигнуты заданные условия выхода. При использовании оценщиков не нужно беспокоиться об определении конфигурации запуска.

> [!TIP]
> В дополнение к пакету SDK для Python можно также использовать автоматизированное Машинное обучение с помощью [Студии машинного обучения Azure](https://ml.azure.com).

* [What is automated machine learning?](concept-automated-ml.md) (Что такое автоматическое машинное обучение?)
* [Руководство. Создание первой модели классификации в автоматизированном машинном обучении](tutorial-first-experiment-automated-ml.md)
* [Руководство. Использование автоматизированного машинного обучения для прогнозирования тарифов такси](tutorial-auto-train-models.md)
* [Примеры. Примеры Jupyter Notebook для автоматизированного машинного обучения](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/automated-machine-learning)
* [Руководство. Настройка экспериментов автоматизированного машинного обучения на Python](how-to-configure-auto-train.md)
* [Руководство. Автоматическое обучение прогнозной модели временных рядов](how-to-auto-train-forecast.md)
* [Руководство. Создание, просмотр и развертывание экспериментов автоматизированного машинного обучения с помощью Студии Машинного обучения Azure](how-to-use-automated-ml-for-ml-models.md)

### <a name="estimators"></a>Оценщики

Оценщики упрощают обучение моделей с помощью популярных платформ Машинного обучения. Если вы используете **Scikit-learn**, **PyTorch**, **TensorFlow**, **Chainer** или **Ray RLlib**, для обучения рекомендуется использовать оценщик. Также существует универсальный оценщик, который можно использовать с платформами, у которых еще нет выделенного класса оценщика. При использовании оценщиков не нужно беспокоиться об определении конфигурации запуска.

* [Оценщики](concept-azure-machine-learning-architecture.md#estimators)
* [Руководство. Обучение моделей классификации изображений с использованием данных MNIST и Scikit-learn](tutorial-train-models-with-aml.md)
* [Примеры. Примеры Jupyter Notebook использования оценщиков](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training-with-deep-learning)
* [Руководство. Обучение моделей с помощью оценщика Машинного обучения Azure](how-to-train-ml-models.md)

### <a name="machine-learning-pipeline"></a>Конвейер машинного обучения

Конвейеры Машинного обучения могут использовать упомянутые ранее методы обучения (конфигурация запуска, оценщики и автоматизированное машинное обучение). Конвейеры скорее предназначены для создания рабочего процесса, поэтому они охватывают не только обучение моделей. В конвейере можно обучать модель с помощью автоматизированного машинного обучения, оценщика или конфигураций запуска.

* [Что такое конвейеры Машинного обучения Azure?](concept-ml-pipelines.md)
* [Создание и запуск конвейеров машинного обучения с помощью пакета SDK для Машинное обучение Azure](how-to-create-your-first-pipeline.md)
* [Руководство. Создание конвейеров Машинного обучения Azure для пакетной оценки](tutorial-pipeline-batch-scoring-classification.md)
* [Примеры. Примеры Jupyter Notebook для конвейеров машинного обучения](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/machine-learning-pipelines)
* [Примеры. Конвейер с автоматизированным машинным обучением](https://aka.ms/pl-automl)
* [Примеры. Конвейер с оценщиками](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/machine-learning-pipelines/intro-to-pipelines/aml-pipelines-how-to-use-estimatorstep.ipynb)

### <a name="understand-what-happens-when-you-submit-a-training-job"></a>Общие сведения о том, что происходит при отправке учебного задания

Жизненный цикл обучения Azure состоит из следующих компонентов:

1. Переключить файлы в папку проекта, игнорируя их, указанные в файле _. амлигноре_ или _. gitignore_
1. Масштабирование кластера вычислений 
1. Сборка или скачивание dockerfile на расчетный узел 
    1. Система вычисляет хэш: 
        - Базовый образ 
        - Пользовательские шаги DOCKER (см. раздел [развертывание модели с помощью пользовательского базового образа DOCKER](https://docs.microsoft.com/azure/machine-learning/how-to-deploy-custom-docker-image)).
        - Conda Definition YAML (см. раздел [создание & использование программных сред в машинное обучение Azure](https://docs.microsoft.com/azure/machine-learning/how-to-use-environments))
    1. Система использует этот хэш в качестве ключа при поиске в рабочей области реестра контейнеров Azure (запись контроля доступа).
    1. Если он не найден, он ищет соответствие в глобальной записи контроля доступа.
    1. Если он не найден, система создает новый образ (который будет кэшироваться и зарегистрирован в записи контроля доступа рабочей области).
1. Скачивание ZIP-файла проекта во временное хранилище на кластерном узле
1. Распаковка файла проекта
1. Выполненный узел вычислений `python <entry script> <arguments>`
1. Сохранение журналов, файлов моделей и других файлов, записанных в `./outputs` учетную запись хранения, связанную с рабочей областью
1. Уменьшение масштаба вычислений, включая удаление временного хранилища 

Если вы решили обучить локальный компьютер ("настроить как локальный запуск"), вам не нужно использовать DOCKER. Вы можете использовать DOCKER локально, если вы решили (например, см. раздел [Настройка конвейера машинного обучения](https://docs.microsoft.com/azure/machine-learning/how-to-debug-pipelines#configure-ml-pipeline ) ).

## <a name="r-sdk"></a>Пакет SDK для R

Пакет SDK для R позволяет использовать язык R в Машинном обучении Azure. SDK использует сетчатый пакет для привязки к пакету SDK для Python службы "Машинное обучение Azure". Это предоставляет доступ к основным объектам и методам, реализованным в пакете SDK для Python, из любой среды R.

Дополнительные сведения см. в следующих статьях:

* [Руководство. Создание модели машинного обучения с помощью R](tutorial-1st-r-experiment.md)
* [Справочник по R для пакета SDK Машинного обучения Azure](https://azure.github.io/azureml-sdk-for-r/index.html)

## <a name="azure-machine-learning-designer"></a>Конструктор Машинного обучения Azure

Конструктор позволяет обучить модели с помощью интерфейса перетаскивания в веб-браузере.

+ [Что такое конструктор Машинного обучения Azure (предварительная версия)?](concept-designer.md)
+ [Учебник. Прогнозирование цены автомобилей](tutorial-designer-automobile-price-train-score.md)
+ [Регрессия. Прогнозирование цены](how-to-designer-sample-regression-automobile-price-basic.md)
+ [Классификация. Прогнозирование дохода](how-to-designer-sample-classification-predict-income.md)
+ [Классификация. Прогнозирование сопутствующих продаж, стремления и оттока клиентов](how-to-designer-sample-classification-churn.md)
+ [Классификация с помощью пользовательского скрипта R: прогнозирование задержки рейсов](how-to-designer-sample-classification-flight-delay.md)
+ [Классификация текстов: набор данных Wikipedia SP 500](how-to-designer-sample-text-classification.md)

## <a name="many-models-solution-accelerator"></a>Акселератор решений многих моделей

[Акселератор решений для многих моделей](https://aka.ms/many-models) (предварительная версия) основан на службе Машинного обучения Azure и позволяет обучать, использовать и обслуживать сотни и даже тысячи моделей машинного обучения.

Например, создание модели __для каждого экземпляра или человека__ в следующих сценариях может привести к повышению результатов:

* Прогнозирование продаж для каждого отдельного магазина
* Прогнозное обслуживание для сотен нефтяных скважин
* Адаптация возможностей для отдельных пользователей

Дополнительные сведения см. в разделе [Акселератор решений для многих моделей](https://aka.ms/many-models) на сайте GitHub.

## <a name="cli"></a>CLI

Интерфейс командной строки для машинного обучения является расширением для Azure CLI. Он предоставляет межплатформенные команды CLI для работы с Машинным обучением Azure. Как правило, интерфейс командной строки используется для автоматизации задач, таких как обучение модели машинного обучения.

* [Использование расширения CLI для Машинного обучения Azure](reference-azure-machine-learning-cli.md)
* [MLOps в Azure](https://github.com/microsoft/MLOps)

## <a name="vs-code"></a>VS Code

Вы можете использовать расширение VS Code для запуска заданий обучения и управления ими. Дополнительные сведения см. в разделе [руководство по управлению ресурсами VS Code](how-to-manage-resources-vscode.md#experiments) .

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как [использовать целевые объекты вычислений для обучения модели](how-to-set-up-training-targets.md).
