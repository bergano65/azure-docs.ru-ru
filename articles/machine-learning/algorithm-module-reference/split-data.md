---
title: 'Разделение данных: ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Split Data (разделение данных) в Машинное обучение Azure, чтобы разделить набор данных на два разных набора.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: a4c93b12ad654e54a7f3c7ee0e75507d5cb45e90
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "90907825"
---
# <a name="split-data-module"></a>Модуль Split Data

В этой статье описывается модуль в конструкторе Машинное обучение Azure.

Используйте модуль Split Data (разделение данных), чтобы разделить набор данных на два разных набора.

Этот модуль полезен, если необходимо разделить данные на обучающие и проверочные наборы. Можно также настроить способ разделения данных. Некоторые параметры поддерживают случайный выбор данных. Другие объекты адаптированы для определенного типа данных или модели.

## <a name="configure-the-module"></a>Настройка модуля

> [!TIP]
> Прежде чем выбрать режим разделения, ознакомьтесь со всеми параметрами, чтобы определить необходимый тип разбиения.
> При изменении режима разбиения все остальные параметры могут быть сброшены.

1. Добавьте модуль **Split Data (разделение данных** ) в конвейер в конструкторе. Этот модуль можно найти в разделе " **Преобразование данных**" в категории " **пример и разделение** ".

1. **Режим разделения**. Выберите один из следующих режимов в зависимости от типа данных и способа их разделения. Каждый режим разделения имеет различные параметры.

   - **Разбиение строк**. Используйте этот параметр, если нужно просто разделить данные на две части. Можно указать процент данных, помещаемых в каждую разбивку. По умолчанию данные делятся на 50/50.

     Можно также задать случайный выбор строк в каждой группе и использовать выборку стратифицированной. В стратифицированной выборки необходимо выбрать один столбец данных, для которого нужно равномерно распределять значения между двумя результирующими наборами.  

   - **Разбиение регулярного выражения**. Выберите этот параметр, если набор данных нужно разделить, проверив один столбец для значения.

     Например, при анализе тональности можно проверить наличие определенного названия продукта в текстовом поле. Затем можно разделить набор данных на строки с именем целевого продукта и строками без названия целевого продукта.

   - **Относительная разбивка выражения**: Используйте этот параметр при каждом применении условия к числовому столбцу. Это может быть поле даты и времени, столбец, содержащий возраст или сумму в долларах, или даже процент. Например, может потребоваться разделить набор данных на основе стоимости элементов, сгруппировать людей по возрастным диапазонам или разделить данные по календарной дате.

### <a name="split-rows"></a>Разбиение строк

1. Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер в конструкторе и подключите набор данных, который необходимо разделить.
  
1. Для **режима разделения**выберите **разбить строки**. 

1. **Доля строк в первом выходном наборе данных**: Используйте этот параметр, чтобы определить, сколько строк будет переводиться в первый (левый) выход. Все остальные строки будут переведены на второй (правый) выход.

   Отношение представляет процент строк, отправленных в первый выходной набор данных, поэтому необходимо ввести десятичное число от 0 до 1.
     
   Например, если ввести **0,75** в качестве значения, набор данных будет разбит на 75/25. В этом разделении 75% строк будут отправлены в первый выходной набор данных. Остальные 25% будут отправлены во второй выходной набор данных.
  
1. Выберите параметр **случайное разбиение** , если необходимо задать случайный выбор данных в двух группах. Это предпочтительный вариант при создании обучающих и тестовых наборов данных.

1. **Случайное начальное**значение: Введите неотрицательное целое число, чтобы запустить псевдослучайное последовательность экземпляров для использования. Это начальное значение по умолчанию используется во всех модулях, генерирующих случайные числа. 

   Указание начального значения приводит к воспроизводимым результатам. Если необходимо повторить результаты операции разбиения, необходимо указать начальное значение для генератора случайных чисел. В противном случае случайное начальное значение устанавливается по умолчанию равным **0**, что означает получение начального начального значения из системных часов. В результате распределение данных может немного отличаться для каждого разбиения. 

1. **Стратифицированной Split**: установите для этого параметра значение **true** , чтобы два выходных набора данных содержали репрезентативную выборку значений в *столбце Strata* или *соотношением Key*. 

   При использовании выборки стратифицированной данные делятся таким, что каждый выходной набор данных получает примерно один процент от каждого целевого значения. Например, может потребоваться убедиться в том, что обучающий и проверочный наборы будут приблизительно сбалансированы относительно результата или какого-либо другого столбца (например, пола).

1. Отправьте конвейер.


## <a name="select-a-regular-expression"></a>Выберите регулярное выражение

1. Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер и подключите его в качестве входных данных к набору данных, который необходимо разделить.  
  
1. Для **режима разделения**выберите **разбиение регулярного выражения**.

1. В поле **регулярное выражение** введите допустимое регулярное выражение. 
  
   Регулярное выражение должно следовать синтаксису Python для регулярных выражений.

1. Отправьте конвейер.

   В зависимости от предоставленного регулярного выражения набор данных делится на два набора строк: строки со значениями, соответствующими выражению, и все оставшиеся строки. 

В следующих примерах показано, как разделить набор данных с помощью параметра **регулярного выражения** . 

### <a name="single-whole-word"></a>Одно целое слово 

Этот пример помещает в первый набор данных все строки, содержащие текст `Gryphon` в столбце `Text` . Он помещает другие строки во второй выход **разбиения данных**.

```text
    \"Text" Gryphon  
```

### <a name="substring"></a>Substring

В этом примере выполняется поиск указанной строки в любой из позиций во втором столбце набора данных. Позиция обозначается значением индекса, равного 1. Сопоставление учитывает регистр.

```text
(\1) ^[a-f]
```

Первый результирующий набор данных содержит все строки, в которых столбец индекса начинается с одного из следующих символов: `a` , `b` , `c` ,, `d` `e` , `f` . Все остальные строки направляются на второй выход.

## <a name="select-a-relative-expression"></a>Выберите относительное выражение

1. Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер и подключите его в качестве входных данных к набору данных, который необходимо разделить.
  
1. Для **режима разделения**выберите **относительное выражение**.
  
1. В поле **реляционное выражение** введите выражение, которое выполняет операцию сравнения для одного столбца.

   Для **числового столбца**:
   - Столбец содержит числа любого числового типа данных, включая типы данных даты и времени.
   - Выражение может ссылаться на максимум одно имя столбца.
   - Для операции и используйте символ амперсанда `&` . Используйте символ вертикальной черты `|` для операции или.
   - Поддерживаются следующие операторы: `<` , `>` , `<=` , `>=` , `==` , `!=` .
   - Вы не можете группировать операции с помощью `(` и `)` .
   
   Для **строкового столбца**:
   - Поддерживаются следующие операторы: `==` , `!=` .

1. Отправьте конвейер.

   Выражение делит набор данных на два набора строк: строки со значениями, которые соответствуют условию, и все оставшиеся строки.

В следующих примерах показано, как разделить набор данных с помощью параметра « **относительное выражение** » в модуле « **разделение данных** ».  

### <a name="calendar-year"></a>Календарный год

По распространенному сценарию набор данных делится по годам. Следующее выражение выбирает все строки, в которых значения в столбце `Year` больше `2010` .

```text
\"Year" > 2010
```

Выражение даты должно учитывать все части даты, которые включены в столбец данных. Формат дат в столбце данных должен быть одинаковым. 

Например, в столбце Date, использующем формат `mmddyyyy` , выражение должно выглядеть примерно следующим образом:

```text
\"Date" > 1/1/2010
```

### <a name="column-index"></a>Индекс столбца

Следующее выражение показывает, как можно использовать индекс столбца, чтобы выбрать все строки в первом столбце набора данных, содержащего значения, которые меньше или равны 30, но не равны 20.

```text
(\0)<=30 & !=20
```


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 
