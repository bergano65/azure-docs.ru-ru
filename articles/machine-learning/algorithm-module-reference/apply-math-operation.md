---
title: Применение математической операции
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Apply Math Operation в Машинное обучение Azure, чтобы применить математическую операцию к значениям столбцов в конвейере.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/09/2019
ms.openlocfilehash: b136f408bbc4fbf13bba902f76f7d33ce6b2ba96
ms.sourcegitcommit: a9b1f7d5111cb07e3462973eb607ff1e512bc407
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2020
ms.locfileid: "76314578"
---
# <a name="apply-math-operation"></a>Применение математической операции

В этой статье описывается модуль конструктора Машинное обучение Azure.

Используйте операцию APPLY Math для создания вычислений, которые применяются к числовым столбцам входного набора данных. 

Поддерживаемые математические операции включают в себя общие арифметические функции, такие как умножение и деление, тригонометрические функции, различные функции округления и специальные функции, используемые в обработке и обработке данных, например в функциях гаммы и ошибок.  

После определения операции и запуска конвейера значения добавляются в набор данных. В зависимости от настройки модуля можно:

+ Добавьте результаты в набор данных. Это особенно полезно при проверке результата операции.
+ Замените значения столбцов новыми, вычисленными значениями.
+ Создание нового столбца для результатов и не отображение исходных данных. 

Найдите необходимую операцию в следующих категориях:  

- [Основной](#basic-math-operations)  
  
     Функции в категории " **базовый** " можно использовать для управления одним значением или столбцом значений. Например, вы можете получить абсолютное значение всех чисел в столбце или вычислить квадратный корень каждого значения в столбце.  
  
-   [Сравнить](#comparison-operations)  
  
      Все функции в категории **Compare** используются для сравнения: можно выполнить попарное сравнение значений в двух столбцах или сравнить каждое значение в столбце с заданной константой. Например, можно сравнить столбцы, чтобы определить, совпадают ли значения в двух наборах данных. Для поиска выбросов в числовом столбце можно использовать константу, например максимально допустимое значение.  
  
-   [Операции](#arithmetic-operations)  
  
     Категория **операций** включает основные математические функции: сложение, вычитание, умножение и деление. Можно работать с любыми столбцами или константами. Например, можно добавить значение в столбце A в значение в столбце B. Или можно вычесть константу, например ранее вычисленное среднее значение, из каждого значения в столбце A.  
  
-   [Округления](#rounding-operations)  
  
     Категория **округления** включает различные функции для выполнения таких операций, как округление, вырезание, пол и усечение, до различных уровней точности. Можно указать уровень точности как для десятичных, так и для целых чисел.  
  
-   [Предложения](#special-math-functions)  
  
     **Особая** категория включает математические функции, которые особенно используются в обработке и анализе данных, такие как эллиптические интегралы и функция обработки ошибок по Гауссу.  
  
-   [Тригонометрические](#trigonometric-functions)  
  
     **Тригонометрические** категории включают все стандартные тригонометрические функции. Например, можно преобразовать радианы в градусы или вычислить функции, такие как тангенс, в радианах или градусах.
     Эти функции являются унарными, то есть принимают один столбец значений в качестве входных данных, применяют тригонометрические функции и возвращают столбец значений в качестве результата.  Поэтому необходимо убедиться, что входной столбец имеет соответствующий тип и содержит правильный тип значений для указанной операции.   

## <a name="how-to-configure-apply-math-operation"></a>Настройка применения математических операций  

Модулю **Apply Math Operation** требуется набор данных, содержащий хотя бы один столбец, содержащий только цифры. Числа могут быть дискретными или непрерывными, но должны иметь числовой тип данных, а не строку.

Одну и ту же операцию можно применить к нескольким числовым столбцам, но все столбцы должны находиться в одном наборе данных. 

Каждый экземпляр этого модуля может выполнять только один тип операций за раз. Для выполнения сложных математических операций может потребоваться объединить несколько экземпляров модуля **Apply Math Operation** .  
  
1.  Добавьте модуль **Apply Math Operation (применить математическую операцию** ) в конвейер.

1. Подключите набор данных, содержащий хотя бы один числовой столбец.  

1.  Выберите один или несколько исходных столбцов, для которых необходимо выполнить вычисление.   
  
    - Любой выбранный столбец должен иметь числовой тип данных. 
    - Диапазон данных должен быть допустимым для выбранной математической операции. В противном случае может возникнуть ошибка или будет получен результат NaN ("не число"). Например, LN (-1,0) является недопустимой операцией и дает значение `NaN`.
  
1.  Щелкните **Категория** , чтобы выбрать **тип** математических операций для выполнения.
    
1. Выберите конкретную операцию из списка в этой категории.
  
1.  Задайте дополнительные параметры, необходимые для каждого типа операций.  
  
1.  Используйте параметр **режим вывода** , чтобы указать, как будет создаваться математическая операция: 

    - **Append**. Все столбцы, используемые как входные данные, включаются в выходной набор данных, а добавляется один дополнительный столбец, содержащий результаты математической операции.
    - На **месте**. Значения в столбцах, используемых в качестве входных данных, заменяются новыми вычисляемыми значениями. 
    - **Ресултонли**. Возвращается один столбец, содержащий результаты математической операции.
  
1.  Запустили конвейер.  
  
## <a name="results"></a>Результаты

При формировании результатов с помощью параметров **append** или **ресултонли** заголовки столбцов возвращаемого набора данных указывают на операцию и используемые столбцы. Например, если сравнить два столбца с помощью оператора **Equals** , результаты будут выглядеть следующим образом:  
  
-   **Equals (Col2_Col1)** , что означает, что вы тестировали Col2 на col1.  
-   **Equals (Col2_ $10)** , что означает, что столбец 2 сравнивается с константой 10.  

Даже если используется параметр « **заменить** », исходные данные не удаляются и не изменяются. столбец в исходном наборе данных по-прежнему доступен в конструкторе. Чтобы просмотреть исходные данные, можно подключить модуль [Добавить столбцы](add-columns.md) и присоединить его к выходным данным **Apply Math Operation**.  
    
## <a name="basic-math-operations"></a>Основные математические операции 

Функции в **базовой** категории обычно принимают одно значение из столбца, выполняют предопределенную операцию и возвращают одно значение. Для некоторых функций можно указать константу или набор столбцов в качестве второго аргумента.  
  
 Машинное обучение Azure поддерживает следующие функции в категории " **базовый** ":  

### <a name="abs"></a>Abs

Возвращает абсолютное значение выбранных столбцов.  
  
### <a name="atan2"></a>Atan2

Возвращает арктангенс двух переменных.  

Выберите столбцы, содержащие координаты точек. Для второго аргумента, который соответствует координате x, можно также указать константу.  

Соответствует функции ATAN2 в Matlab.  

### <a name="conj"></a>Conj

Возвращает сопряженный для значений в выбранном столбце.  

### <a name="cuberoot"></a>CubeRoot

Вычисляет корень Куба для значений в выбранном столбце.  

### <a name="doublefactorial"></a>DoubleFactorial  
 Вычисляет двойной факториал для значений в выбранном столбце. Двойной факториал — это расширение обычной функции факториала, которое обозначается как x!!.  

### <a name="eps"></a>Eps

Возвращает разницу между текущим значением и следующим наибольшим числом двойной точности. Соответствует функции EPS в Matlab.  
  
### <a name="exp"></a>Exp

Возвращает значение e, возведенное в степень значения в выбранном столбце. Это то же самое, что и функция Excel EXP.  

### <a name="exp2"></a>Exp2

Возвращает экспоненту по основанию 2 аргументов, решение для y = x * 2<sup>t</sup> , где t — это столбец значений, содержащих экспоненты.  

В поле **набор столбцов**выберите столбец, содержащий значения экспоненты t.

Для **Exp2** можно указать второй аргумент x, который может быть либо константой, либо другим столбцом значений. В поле **Тип второго аргумента**укажите, будет ли предоставляться множитель x в качестве константы или значение в столбце.  

Например, если выбрать столбец со значениями, {0,1,2,3,4,5} как для множителя, так и для экспоненты, функция возвращает {0, 2, 8, 24, 64 160).  

### <a name="expminus1"></a>ExpMinus1 

Возвращает отрицательную экспоненту для значений в выбранном столбце.  

### <a name="factorial"></a>Факториал
Возвращает факториал для значений в выбранном столбце.  

### <a name="hypotenuse"></a>Hypotenuse
Вычисляет гипотенузу для треугольника, в котором длина одной стороны задается в виде столбца значений, а длина второй стороны указывается либо как константа, либо как два столбца.  

### <a name="ln"></a>Натуральный логарифм

Возвращает натуральный логарифм для значений в выбранном столбце.  

### <a name="lnplus1"></a>LnPlus1

Возвращает натуральный логарифм плюс один для значений в выбранном столбце.  

### <a name="log"></a>Журнал

Возвращает логарифм значений в выбранном столбце по заданному основанию.  

Можно указать базовый (второй аргумент) либо как константу, либо выбрав другой столбец значений.  

### <a name="log10"></a>Log10

Возвращает значения десятичного логарифма для выбранного столбца.  

### <a name="log2"></a>Log2

Возвращает значения десятичного числа 2 для выбранного столбца.  

### <a name="nthroot"></a>NthRoot
Возвращает n – n корень значения, используя указанное задание.  

Выберите столбцы, для которых требуется вычислить корень, с помощью параметра « **столбец** ».  

В поле **второй тип аргумента**выберите другой столбец, содержащий корень, или укажите константу, которая будет использоваться в качестве корневого.  

Если второй аргумент является столбцом, каждое значение в столбце используется в качестве значения n для соответствующей строки. Если второй аргумент является константой, введите значение n во втором текстовом поле **аргумента** .
### <a name="pow"></a>Pow

Вычисляет X, возведенное в степень Y для каждого значения в выбранном столбце.  

Сначала выберите столбцы, содержащие **базовое**значение, которое должно быть числом с плавающей запятой с помощью параметра «набор **столбцов** ».  

В поле **Тип второго аргумента**выберите столбец, содержащий показатель степени, или укажите константу, которая будет использоваться в качестве показателя степени.  

Если в качестве типа второго аргумента выбран столбец, каждое значение в столбце используется как показатель степени для соответствующей строки. Если второй аргумент является константой, введите значение экспоненты во втором текстовом поле **аргумента** .  

### <a name="sqrt"></a>Sqrt

Возвращает квадратный корень значений в выбранном столбце.  

### <a name="sqrtpi"></a>SqrtPi

Для каждого значения в выбранном столбце умножает значение на PI, а затем возвращает квадратный корень результата.  

### <a name="square"></a>Square

Квадраты значения в выбранном столбце.  

## <a name="comparison-operations"></a>операции сравнения;  

Используйте функции сравнения в конструкторе Машинное обучение Azure в любое время, когда необходимо проверить два набора значений по отношению друг к другу. Например, в конвейере может потребоваться выполнить следующие операции сравнения:  

- Оцените столбец модели показателей вероятности по пороговому значению.
- Определить, совпадают ли два набора результатов. Для каждой строки, которая отличается, добавьте флаг FALSE, который можно использовать для дальнейшей обработки или фильтрации.  

### <a name="equalto"></a>EqualTo

Возвращает значение true, если значения одинаковы.  

### <a name="greaterthan"></a>GreaterThan

Возвращает значение true, если значения в **наборе столбцов** больше указанной константы или больше соответствующих значений в столбце сравнения.  

### <a name="greaterthanorequalto"></a>GreaterThanOrEqualTo

Возвращает значение true, если значения в **наборе столбцов** больше или равны указанной константе или больше или равны соответствующим значениям в столбце сравнения.  

### <a name="lessthan"></a>LessThan;

Возвращает значение true, если значения в **наборе столбцов** меньше указанной константы или меньше соответствующих значений в столбце сравнения.  
  
### <a name="lessthanorequalto"></a>LessThanOrEqualTo

Возвращает значение true, если значения в **наборе столбцов** меньше или равны указанной константе или меньше или равны соответствующим значениям в столбце сравнения.  

### <a name="notequalto"></a>NotEqualTo

Возвращает значение true, если значения в **наборе столбцов** не равны значению константы или столбца сравнения, и возвращает значение false, если они равны.  

### <a name="pairmax"></a>PairMax

Возвращает большее значение — значение в **наборе столбцов** или значение в столбце константы или сравнения.  

### <a name="pairmin"></a>PairMin

Возвращает меньшее значение (значение в **наборе столбцов** или значение в столбце константы или сравнения).  
  
##  <a name="arithmetic-operations"></a>арифметические операции;   

Включает базовые арифметические операции: сложение и вычитание, деление и умножение.  Так как большинство операций являются двоичными, требуется два числа, сначала выберите операцию, а затем выберите столбец или числа для использования в первом и втором аргументах.

Порядок выбора столбцов для деления и вычитания может показаться нелогичнымм; Однако, чтобы упростить понимание результатов, заголовок столбца содержит имя операции и порядок, в котором были использованы столбцы.

Операция|Num1|Num2|Столбец результатов|Результирующее значение|
----|----|----|----|----
|Сложение|1|5|Добавить (Num2_Num1)| 4|
|Умножение|1|5|Несколько (Num2_Num1)|5|
|Вычитание|1|5|Вычитание (Num2_Num1)|4|
|Вычитание|0|1|Вычитание (Num2_Num1)|0|
|Деление|1|5|Разделить (Num2_Num1)|5|
|Деление|0|1|Разделить (Num2_Num1)|Infinity|

### <a name="add"></a>Добавить

Укажите исходные столбцы с помощью **набора столбцов**, а затем добавьте к этим значениям число, указанное во **втором аргументе**.  

Чтобы добавить значения в два столбца, выберите столбец или столбцы с помощью **набора столбцов**, а затем выберите второй столбец, используя **второй аргумент**.  

### <a name="divide"></a>Деление

Делит значения в **наборе столбцов** на константу или значения столбца, определенные во **втором аргументе**.  Иными словами, сначала нужно выбрать делитель, а затем делимое. Выходное значение является частным.

### <a name="multiply"></a>Умножение

Умножает значения в **наборе столбцов** на заданные константы или значения столбцов.  

### <a name="subtract"></a>Вычитание

Укажите столбец значений для работы ( *minuend*), выбрав другой столбец с помощью параметра **набора столбцов** . Затем укажите число для вычитания ( *subtrahend*) с помощью раскрывающегося списка **второй аргумент** . Можно выбрать либо константу, либо столбец значений.

##  <a name="rounding-operations"></a>Операции округления 

Конструктор Машинное обучение Azure поддерживает различные операции округления. Для многих операций необходимо указать величину точности, используемую при округлении. Можно использовать либо статический уровень точности, заданный в виде константы, либо применить динамическое значение точности, полученное из столбца значений.  

- При использовании константы задайте **тип точности** **константы** , а затем введите число цифр в виде целого числа в текстовом поле **точность константы** . Если вы вводите не целое число, то модуль не вызывает ошибку, но результаты могут быть неожиданными.  

- Чтобы использовать другое значение точности для каждой строки в наборе данных, установите **тип точности** в набор **столбцов**, а затем выберите столбец, содержащий соответствующие значения точности.  

### <a name="ceiling"></a>Ceiling

Возвращает CEILING для значений в **наборе столбцов**.  

### <a name="ceilingpower2"></a>CeilingPower2

Возвращает значение CEILING в квадрате для значений в **наборе столбцов**.  

### <a name="floor"></a>Этаж

Возвращает этаж для значений в **наборе столбцов**с заданной точностью.  

### <a name="mod"></a>Mod

Возвращает дробную часть значений в **наборе столбцов**с заданной точностью.  

### <a name="quotient"></a>Quotient

Возвращает дробную часть значений в **наборе столбцов**с заданной точностью.  

### <a name="remainder"></a>Remainder

Возвращает остаток для значений в **наборе столбцов**.  

### <a name="rounddigits"></a>RoundDigits

Возвращает значения в **наборе столбцов**, округленные по правилу 4/5, к указанному числу цифр.  

### <a name="rounddown"></a>RoundDown

Возвращает значения в **наборе столбцов**, округленные вниз до указанного числа разрядов.  

### <a name="roundup"></a>RoundUp

Возвращает значения в **наборе столбцов**, округленные до указанного числа разрядов.  

### <a name="toeven"></a>ToEven

Возвращает значения в **наборе столбцов**, округленные до ближайшего целого, четного числа.  

### <a name="toodd"></a>ToOdd

Возвращает значения в **наборе столбцов**, округленные до ближайшего целого, нечетного числа.  

### <a name="truncate"></a>Truncate

Усекает значения в **наборе столбцов** , удаляя все цифры, не разрешенные указанной точностью.  
  
## <a name="special-math-functions"></a>Специальные математические функции

В эту категорию входят специализированные математические функции, часто используемые в обработке и обработке данных. Если не указано иное, функция является унарной и возвращает заданное вычисление для каждого значения в выбранном столбце или столбцах.  

### <a name="beta"></a>Бета-версия

Возвращает значение бета-функции Эйлера.  

### <a name="ellipticintegrale"></a>EllipticIntegralE
Возвращает значение неполной эллиптической интеграла.  
  

### <a name="ellipticintegralk"></a>EllipticIntegralK

Возвращает значение полного эллиптического интеграла (K).  

### <a name="erf"></a>Erf

Возвращает значение функции ошибок.  

Функция ошибок (также называемая функцией ошибок Гаусса) — это специальная сигмоидальная функция, которая используется для описания распределения вероятностей.  

### <a name="erfc"></a>Erfc

Возвращает значение дополнительной функции ошибок.  

Ерфк определяется как 1 – Фош (x).  

### <a name="erfscaled"></a>ErfScaled

Возвращает значение нормированной функции ошибок.  

Эту версию функции ошибок можно использовать во избежание потери точности арифметических вычислений.  

### <a name="erfinverse"></a>ErfInverse

Возвращает значение обратной функции ошибок.  

### <a name="exponentialintegralein"></a>ExponentialIntegralEin

Возвращает значение экспоненциального целочисленного EI.  

### <a name="gamma"></a>Gamma

Возвращает значение гамма-функции.  

### <a name="gammaln"></a>GammaLn

Возвращает натуральный логарифм гамма-функции.  

### <a name="gammaregularizedp"></a>GammaRegularizedP

Возвращает значение регуляризованной неполной гамма-функции.  

Эта функция принимает второй аргумент, который можно указать как константу или столбец значений.  

### <a name="gammaregularizedpinverse"></a>GammaRegularizedPInverse

Возвращает значение обратной регуляризованной неполной гамма-функции.  

Эта функция принимает второй аргумент, который можно указать как константу или столбец значений.  

### <a name="gammaregularizedq"></a>GammaRegularizedQ  

Возвращает значение регуляризованной неполной гамма-функции.  

Эта функция принимает второй аргумент, который можно указать как константу или столбец значений.  

### <a name="gammaregularizedqinverse"></a>GammaRegularizedQInverse

Возвращает значение обратной обобщенной регуляризованной неполной гамма-функции.

Эта функция принимает второй аргумент, который можно указать как константу или столбец значений.  

### <a name="polygamma"></a>PolyGamma

Возвращает значение полигамма-функции.  

Эта функция принимает второй аргумент, который можно указать как константу или столбец значений.

##  <a name="trigonometric-functions"></a>тригонометрические функции; 

Эта категория Иинклудес большую часть важных тригонометрических и обратных тригонометрических функций. Все тригонометрические функции являются унарными и не требуют дополнительных аргументов.  

### <a name="acos"></a>Acos

Вычисляет арккосинус для значений столбца.  

### <a name="acosdegree"></a>акосдегри

Вычисляет арккосинус значений столбца (в градусах).  

### <a name="acosh"></a>ACOSH

Вычисляет гиперболический арккосинус значений столбца.  

### <a name="acot"></a>Acot

Вычисляет арккотангенса значений столбцов.  

### <a name="acotdegrees"></a>акотдегрис

Вычисляет арккотангенса значений столбцов (в градусах).  

### <a name="acoth"></a>акос

Вычисляет гиперболический арккотангенса значений столбца.  

### <a name="acsc"></a>ACSC

Вычисляет арккосекант значений столбцов.  

### <a name="acscdegrees"></a>акскдегрис

Вычисляет арккосекант значений столбцов (в градусах).  
### <a name="asec"></a>асек

Вычисляет арксекант значений столбцов.  

### <a name="asecdegrees"></a>асекдегрис

Вычисляет арксекант значений столбцов (в градусах).  

### <a name="asech"></a>Asech

Вычисляет гиперболический арксекант значений столбца.  

### <a name="asin"></a>Asin

Вычисляет арксинус значений столбца.  

### <a name="asindegrees"></a>AsinDegrees

Вычисляет арксинус значений столбца (в градусах).  

### <a name="asinh"></a>Asinh

Вычисляет гиперболический арксинус для значений столбца.  

### <a name="atan"></a>Atan

Вычисляет арктангенс значений столбца.  

### <a name="atandegrees"></a>AtanDegrees

Вычисляет арктангенс значений столбца в градусах.  

### <a name="atanh"></a>Atanh

Вычисляет гиперболический арктангенс значений столбца.  

### <a name="cos"></a>Cos

Вычисляет косинус значений столбца.  

### <a name="cosdegrees"></a>CosDegrees

Вычисляет косинус для значений столбца (в градусах).  

### <a name="cosh"></a>Cosh

Вычисляет гиперболический косинус для значений столбца.  

### <a name="cot"></a>Cot

Вычисляет котангенс для значений столбца.  

### <a name="cotdegrees"></a>котдегрис

Вычисляет котангенс для значений столбца (в градусах).  

### <a name="coth"></a>Coth
Вычисляет гиперболический котангенс для значений столбца.  

### <a name="csc"></a>Csc

Вычисляет косеканс для значений столбцов.  

### <a name="cscdegrees"></a>CscDegrees

Вычисляет косеканс для значений столбца (в градусах).  

### <a name="csch"></a>Csch

Вычисляет гиперболический косеканс для значений столбца.  

### <a name="degreestoradians"></a>DegreesToRadians

Преобразует градусы в радианы.  

### <a name="sec"></a>Доп

Вычисляет секанс значений столбца.  

### <a name="asecdegrees"></a>асекдегрис

Вычисляет секанс для значений столбца (в градусах).  

### <a name="asech"></a>асеч

Вычисляет гиперболический секанс значений столбца.  

### <a name="sign"></a>вход;

Возвращает знак значений столбца.  

### <a name="sin"></a>Sin

Вычисляет синус значений столбца.  

### <a name="sinc"></a>Sinc

Вычисляет значение синуса значений столбца.  

### <a name="sindegrees"></a>SinDegrees

Вычисляет синус для значений столбца (в градусах).  

### <a name="sinh"></a>Sinh

Вычисляет гиперболический синус значений столбца.  

### <a name="tan"></a>Tan

Вычисляет тангенс значений столбца.  

### <a name="tandegrees"></a>TanDegrees

Вычисляет тангенс аргумента в градусах.  

### <a name="tanh"></a>Tanh

Вычисляет гиперболический тангенс значений столбца.  
  
## <a name="technical-notes"></a>Технические примечания

Будьте внимательны при выборе в качестве второго оператора более одного столбца. Результаты легко понять, если операция проста, например добавить константу ко всем столбцам. 

Предположим, что набор данных содержит несколько столбцов, и вы добавляете набор данных к самому себе. В результатах каждый столбец добавляется в себя следующим образом:  
  
|Num1|Num2|Num3|Добавить (Num1_Num1)|Добавить (Num2_Num2)|Добавить (Num3_Num3)|
|----|----|----|----|----|----|
|1|5|2|2|10|4|
|2|3|-1|4|6|-2|
|0|1|-1|0|2|-2|

Если необходимо выполнить более сложные вычисления, можно связать несколько экземпляров **операции Apply Math**. Например, можно добавить два столбца с помощью одного экземпляра **Apply Math Operation**, а затем использовать другой экземпляр **Apply Math Operation** для деления суммы на константу для получения среднего значения.  
  
Кроме того, можно использовать один из следующих модулей, чтобы выполнить все вычисления одновременно, используя скрипт SQL, R или Python:
 
+ [Выполнить сценарий R](execute-r-script.md)
+ [Выполнение скрипта Python](execute-python-script.md)
+ [Применить преобразование SQL](apply-sql-transformation.md)   
  
## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) для машинное обучение Azure. 
