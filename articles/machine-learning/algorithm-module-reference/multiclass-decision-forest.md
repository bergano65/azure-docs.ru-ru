---
title: 'Лес решений с многоклассовой ссылкой: Справочник по модулям'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль многоклассового леса решений в Машинное обучение Azure для создания модели машинного обучения на основе алгоритма *леса принятия решений* .
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 04/22/2020
ms.openlocfilehash: 9e8798ea1c03ebf4c0d08adfbf5a0ee0755164a6
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "82137813"
---
# <a name="multiclass-decision-forest-module"></a>Модуль леса решения для многоклассовых решений

В этой статье описывается модуль в Машинное обучение Azure Designer (Предварительная версия).

Этот модуль используется для создания модели машинного обучения на основе алгоритма *леса принятия решений* . Лес принятия решений — это ансамблей модель, которая быстро создает ряд деревьев принятия решений при обучении данных с тегами.

## <a name="more-about-decision-forests"></a>Дополнительные сведения о лесах, принимающих решения

Алгоритм леса принятия решений — это ансамблейй метод обучения для классификации. Алгоритм работает путем создания нескольких деревьев принятия решений и последующего *голосования* по наиболее популярным выходным классам. Голосование является формой статистической обработки, в которой каждое дерево в лесу решения классификации выводит гистограмму ненормализованной частоты меток. Процесс статистической обработки суммирует эти гистограммы и нормализует результат, чтобы получить "вероятностные" для каждой метки. Деревья с высокой достоверностью прогноза имеют больший вес в окончательном принятии решения ансамблей.

Деревья принятия решений в целом — это непараметрической модели, то есть они поддерживают данные с различными распределениями. В каждом дереве выполняется последовательность простых тестов для каждого класса, увеличивая уровни структуры дерева до достижения конечного узла (решения).

Деревья принятия решений имеют много преимуществ:

+ Они могут представлять границы нелинейного принятия решений.
+ Они эффективны с точки зрения вычисления и использования памяти во время обучения и прогнозирования.
+ Они выполняют встроенный выбор признаков и классификацию.
+ Кроме того, они являются устойчивыми при наличии шумовых признаков.

Классификатор леса решений в Машинное обучение Azure состоит из ансамблей деревьев принятия решений. Вообще говоря, модели совокупности обеспечивают большее покрытие и точность, чем одно дерево принятия решений. Дополнительные сведения см. в разделе [деревья принятия решений](https://go.microsoft.com/fwlink/?LinkId=403677).

## <a name="how-to-configure-multiclass-decision-forest"></a>Настройка леса решения для многоклассовых решений

1. Добавьте модуль **леса решений с многоклассовой** подсистемой в конвейер в конструкторе. Этот модуль можно найти в разделе **машинное обучение**, **Инициализация модели**и **классификация**.

2. Дважды щелкните модуль, чтобы открыть панель **свойств** .

3. Для **метода повторной выборки**выберите метод, используемый для создания отдельных деревьев.  Можно выбрать фасовку или репликацию.

    + **Баггинг**: баггинг также называется статистической обработкой *начальной загрузки*. В этом методе каждое дерево увеличилось на новом образце, созданном случайным образом выборки исходного набора данных с заменой до тех пор, пока набор данных не станет размером оригинала. Выходные данные моделей объединяются функцией *голосования*, которая является формой статистической обработки. Дополнительные сведения см. в записи Википедии для агрегатной загрузки.

    + **Репликация**. в репликации каждое дерево обучено на идентичных входных данных. Определение того, какой предикат разбиения используется для каждого узла дерева, остается случайным, создавая различные деревья.

   

4. Укажите, как должна быть обучена модель, установив параметр " **создать режим инструктора** ".

    + **Один параметр**: Выберите этот параметр, если вы умеете настраивать модель и предоставляете набор значений в качестве аргументов.

    + **Диапазон параметров**. Выберите этот параметр, если вы не знаете наилучших параметров и хотите выполнить функцию очистки параметров. Выберите диапазон значений для итерации, а [Параметры настройки модели](tune-model-hyperparameters.md) — перебор всех возможных сочетаний указанных параметров, чтобы определить параметры, которые приводят к оптимальным результатам.   

5. **Число деревьев принятия решений**: введите максимальное число деревьев принятия решений, которые могут быть созданы в ансамблей. Создавая больше деревьев принятия решений, вы можете получить более эффективное покрытие, но время обучения может увеличиться.

    Это значение также управляет количеством деревьев, отображаемых в результатах, при визуализации обученной модели. Для просмотра или печати одного дерева можно задать значение 1; Однако это означает, что может быть создано только одно дерево (дерево с начальным набором параметров) и дальнейшие итерации не выполняются.

6. **Максимальная глубина деревьев принятия решений**: введите число, ограничивающее максимальную глубину дерева принятия решений. Увеличение глубины дерева может повысить точность, однако при этом могут возникать лжевзаимосвязи и увеличиваться время обучения.

7. **Число случайных разбиений на узел**: введите число разбиений, которое будет использоваться при построении каждого узла дерева. *Разбиение* означает, что функции на каждом уровне дерева (node) случайным образом делятся.

8. **Минимальное число выборок на конечный узел**: Укажите Минимальное число вариантов, необходимых для создания любого узла терминала (конечного) в дереве. Увеличив это значение, вы увеличиваете пороговое значение для создания новых правил.

    Например, при использовании значения по умолчанию 1, даже один случай может привести к созданию нового правила. Если увеличить его до 5, для создания правила обучающие данные должны будут содержать не менее пяти вариантов.



10. Подключите набор данных с меткой и обучите модель:

    + Если присвоить **параметру** **создать режим инструктора** значение Single, подключить набор данных с тегами и модуль [обучение модели](train-model.md) .  
  
    + Если задать **режим создания инструктора** в **диапазоне параметров**, подключите набор данных с тегами и обучите модель с помощью [параметров настройки модели](tune-model-hyperparameters.md).  
  
    > [!NOTE]
    > 
    > При передаче диапазона параметров для [обучения модели](train-model.md)используется только значение по умолчанию в списке с одним параметром.  
    > 
    > Если передать один набор значений параметров в модуль [Настройка модели настройки](tune-model-hyperparameters.md) , когда он ожидает диапазон параметров для каждого параметра, он пропускает значения и использует значения по умолчанию для учений.  
    > 
    > Если выбрать параметр **диапазон параметров** и ввести одно значение для любого параметра, это единственное заданное значение будет использоваться во время очистки, даже если другие параметры меняются в диапазоне значений.

11. Отправьте конвейер.



## <a name="next-steps"></a>Дальнейшие шаги

См. [набор модулей, доступных](module-reference.md) для машинное обучение Azure. 