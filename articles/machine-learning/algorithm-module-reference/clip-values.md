---
title: Отсеченные значения
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль "значения Clip" в службе Машинное обучение Azure для обнаружения выбросов и обрезки их значений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/09/2019
ms.openlocfilehash: 704b7c8a0c55bdcdd69bd8a44b0f9f44e8ddf457
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73493830"
---
# <a name="clip-values"></a>Отсеченные значения

В этой статье описывается модуль Машинное обучение Azure конструктора (Предварительная версия).

Используйте модуль «значения Clip», чтобы указать и при необходимости заменить значения данных, превышающие или ниже заданного порогового значения, на среднее, константу или другое заменяющее значение.  

Модуль подключается к набору данных с числами, которые необходимо обрезать, выберите столбцы для работы, а затем установите пороговое значение или диапазон значений и метод замены. Модуль может выводить либо только результаты, либо измененные значения, добавленные к исходному набору данных.

## <a name="how-to-configure-clip-values"></a>Настройка значений обрезки

Перед началом работы укажите столбцы, которые нужно вырезать, и используемый метод. Рекомендуется сначала протестировать любой метод обрезки на небольшом подмножестве данных.

Модуль применяет те же критерии и метод замены ко **всем** столбцам, которые включаются в выбор. Поэтому не забудьте исключить столбцы, которые не нужно изменять.

Если необходимо применить методы обрезки или другие критерии к некоторым столбцам, необходимо использовать новый экземпляр **значений Clip** для каждого набора схожих столбцов.

1.  Добавьте модуль " **значения клипов** " в конвейер и подключите его к набору данных, который необходимо изменить. Этот модуль можно найти в разделе " **Преобразование данных**" в категории " **Масштаб" и "уменьшить** ". 
  
1.  В **списке столбцов**с помощью селектора столбцов выберите столбцы, к которым будут применяться **значения обрезки** .  
  
1.  Для **набора пороговых значений**выберите один из следующих параметров в раскрывающемся списке. Эти параметры определяют, как задаются верхние и нижние границы для допустимых значений и значений, которые должны быть обрезаны.  
  
    - **Клиппеакс**: при отсечении значений по пиковым значениям указывается только верхняя граница. Значения, превышающие это значение границы, заменяются.
  
    -  **Клипсубпеакс**: при обрезке значений по подпикам указывается только нижняя граница. Значения, меньшие, чем это граничное значение, заменяются.  
  
    - **Клиппеаксандсубпеакс**: при обрезке значений по пиковым и подпиковым значениям можно указать и верхнюю, и нижнюю границы. Значения, находящиеся за пределами этого диапазона, заменяются. Значения, соответствующие граничных значениям, не изменяются.
  
1.  В зависимости от выбора на предыдущем шаге можно задать следующие пороговые значения: 

    + **Нижнее пороговое значение**: отображается только при выборе **клипсубпеакс**
    + **Верхний порог**: отображается только при выборе **клиппеакс**
    + **Пороговое значение**: отображается только при выборе **клиппеаксандсубпеакс**

    Для каждого типа порогового значения выберите значение **константа** или **процентиль**.

1. При выборе **константы**введите максимальное или минимальное значение в текстовом поле. Например, предположим, что значение 999 было использовано в качестве значения заполнителя. Можно выбрать **константу** для верхнего порога и ввести 999 в **качестве постоянного значения для верхнего порога**.
  
1. Если выбрать **процентиль**, то значения столбцов будут ограничены диапазоном процентилей. 

    Например, предположим, что нужно удержать только значения в диапазоне 10-80 процентиль и заменить все остальные. Выберите **процентиль**, а затем введите 10 для **значения процентиля для нижнего порога**и введите 80 для **значения процентиля для верхнего порога**. 

    Некоторые примеры использования диапазонов процентилей см. в разделе [процентили](#examples-for-clipping-using-percentiles) .  
  
1.  Определите заменяющее значение.

    Числа, которые точно соответствуют указанным границам, считаются в пределах допустимого диапазона значений и поэтому не заменяются. Все числа, которые выходят за пределы указанного диапазона, заменяются замещающим значением. 
  
    + **Замещающее значение для пиковых**значений: определяет значение, которое необходимо заменить на все значения столбцов, превышающие указанный порог.  
    + **Замещающее значение для**подграничных нагрузок: определяет значение, которое будет использоваться в качестве замены для всех значений столбцов, которые меньше указанного порогового значения.  
    + При использовании параметра **клиппеаксандсубпеакс** можно указать отдельные замещающие значения для верхних и нижних обрезанных значений.  

    Поддерживаются следующие значения замены:  
  
    -   **Пороговое**значение: заменяет обрезанные значения указанным пороговым значением.  
  
    -   **Среднее**: заменяет обрезанные значения средними значениями столбцов. Среднее значение вычисляется до усечения значений.  
  
    -   **Медиана**: заменяет обрезанные значения медианы значений столбцов. Медиана вычисляются до усечения значений.   
  
    -   **Отсутствует**. Заменяет обрезанные значения на отсутствующее (пустое) значение.  
  
1.  **Добавить столбцы индикаторов**: Выберите этот параметр, если нужно создать новый столбец, сообщающий о том, применена ли указанная операция обрезки к данным в этой строке. Этот параметр полезен при тестировании нового набора значений обрезки и подстановки.  
  
1. **Флаг перезаписи**: указывает, как должны создаваться новые значения. По умолчанию **значения отсечения** создают новый столбец с пиковыми значениями, обрезанными до желаемого порогового значения. Новые значения перезапишут исходный столбец.  
  
    Для сохранения исходного столбца и добавления нового столбца с обрезанными значениями снимите этот флажок.  
  
1.  Запустили конвейер.  
  
    Щелкните правой кнопкой мыши выходные данные модуля " **значения клипов** " и выберите команду **визуализировать** , чтобы просмотреть значения и убедиться, что операция обрезки удовлетворена вашими ожиданиями.  
 
### <a name="examples-for-clipping-using-percentiles"></a>Примеры обрезки с помощью процентили

Чтобы понять, как работает обрезка с помощью процентили, рассмотрим набор данных с 10 строками с одним экземпляром для каждого из значений 1-10.  
  
- Если в качестве верхнего порога используется процентиль, в значении для 90 процентиль 90 процентов всех значений в наборе данных должно быть меньше этого значения.  
  
- Если в качестве нижнего порога используется процентиль, то значение 10 процентов всех значений в наборе данных должно быть меньше этого значения.  
  
1.  Для **набора пороговых значений**выберите **клиппеаксандсубпеакс**.  
  
1.  Для **верхнего порогового значения**выберите **процентиль**, а для **значения процентиля**введите 90.  
  
1.  Для параметра **верхнее заменяющее**выберите **значение отсутствует**.  
  
1.  Для **нижнего порогового значения**выберите **процентиль**, а для **значения процентиля**введите 10.  
  
1.  Для параметра **меньшее значение замены**выберите **пропущенное значение**.  
  
1.  Снимите флажок Option **overwrite Flag (параметр перезаписи**) и выберите параметр **Добавить столбец индикатора**.  
  
Теперь попробуйте один и тот же конвейер, используя 60 в качестве верхнего порога процентиля и 30 в качестве порогового значения процентиля, и используйте пороговое значение в качестве заменяющего значения. Эти два результата сравниваются в следующей таблице.  
  
1.  Заменить на отсутствующий; Верхний порог = 90; Нижнее пороговое значение = 20  
  
1.  Замените на пороговое значение; Верхний процентиль = 60; Нижний процентиль = 40  
  
|Исходные данные|Заменить на отсутствующий|Заменить на пороговое значение|  
|-------------------|--------------------------|----------------------------|  
|1<br /><br /> 2<br /><br /> 3<br /><br /> 4\.<br /><br /> 5<br /><br /> 6<br /><br /> 7<br /><br /> 8<br /><br /> 9<br /><br /> 10|TRUE<br /><br /> TRUE<br /><br /> 3, FALSE<br /><br /> 4, ЛОЖЬ<br /><br /> 5, ЛОЖЬ<br /><br /> 6, ЛОЖЬ<br /><br /> 7, ЛОЖЬ<br /><br /> 8, ЛОЖЬ<br /><br /> 9, ЛОЖЬ<br /><br /> TRUE|4, TRUE<br /><br /> 4, TRUE<br /><br /> 4, TRUE<br /><br /> 4, TRUE<br /><br /> 5, ЛОЖЬ<br /><br /> 6, ЛОЖЬ<br /><br /> 7, TRUE<br /><br /> 7, TRUE<br /><br /> 7, TRUE<br /><br /> 7, TRUE| 
 
## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 
