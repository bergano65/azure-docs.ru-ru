---
title: Оценка модели. Справочник по модулям
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль "Оценка модели" Машинного обучения Azure для измерения точности обученной модели.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 07/08/2020
ms.openlocfilehash: fe0d3819701e062fa2253bc6dd0c3a28eaeaadfb
ms.sourcegitcommit: 1e6c13dc1917f85983772812a3c62c265150d1e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2020
ms.locfileid: "86171127"
---
# <a name="evaluate-model-module"></a>Модуль "Оценка модели"

В этой статье описывается модуль в конструкторе Машинного обучения Azure (предварительная версия).

Используйте этот модуль для измерения точности обученной модели. Вы предоставляете набор данных, содержащий оценки, сформированные на основе модели, и модуль **Оценка модели** вычисляет набор метрик оценки, стандартных для отрасли.
  
 Метрики, возвращаемые модулем **Оценка модели**, зависят от типа оцениваемой модели:  
  
-   **модели классификации**;    
-   **модели регрессии**;  
-   **модели кластеризации**.  


> [!TIP]
> Если вы еще не знакомы с оценкой моделей, мы рекомендуем посмотреть серию видео доктора Стивена Элстона, входящих в [курс машинного обучения](https://blogs.technet.microsoft.com/machinelearning/2015/09/08/new-edx-course-data-science-machine-learning-essentials/) от EdX. 


## <a name="how-to-use-evaluate-model"></a>Как использовать оценку модели
1. Подключите **Оцененный набор данных**, выданный [Оценкой модели](./score-model.md) или набор данных результатов, выданный [Назначением данных кластерам](./assign-data-to-clusters.md) к левому порту ввода **Оценки модели**. 
    > [!NOTE] 
    > Если для выбора части входного набора данных используются такие модули, как "Выбор столбцов в наборе данных", убедитесь, что столбец с фактическими метками (используемый в обучении), столбец "Оцененные вероятности" и столбец "Оцененные метки" существуют, чтобы вычислить метрики, такие как AUC и точность для обнаружения двоичной классификации/аномалий.
    > Столбец фактических меток и столбец "Оцененные метки" существуют, чтобы вычислять метрики для многоклассовой классификации и регрессии.
    > Столбец "Назначения" и столбцы "DistancesToClusterCenter no.X" (расстояния до центра кластера № Х) (X — индекс центроида, от 0, ..., число центроидов-1) существуют, чтобы вычислять метрики для кластеризации.

2. (Необязательно.) Подключите **Оцененный набор данных**, выданный [Оценкой модели](./score-model.md) или набор данных результатов, выданный назначением данных кластерам для второй модели к **правому** порту ввода **Оценки модели**. Вы легко сможете сравнить результаты двух различных моделей по одним и тем же данным. Два алгоритма ввода должны иметь одинаковый тип алгоритма. Или вы можете сравнить результаты двух различных выполнений по аналогичным данным с разными параметрами.

    > [!NOTE]
    > Тип алгоритма означает "Классификацию с двумя классами", "Многоклассовую классификацию", "Регрессию", "Кластеризацию" в разделе "Алгоритмы Машинного обучения". 

3. Отправьте конвейер, чтобы создать оценки.

## <a name="results"></a>Результаты

После запуска **Оценки модели** выберите модуль, чтобы открыть панель навигации **Оценка модели** справа.  Затем выберите вкладку **Результаты + журналы**. В разделе **Выходные данные** на этой вкладке имеется несколько значков. Значок **Визуализация** имеет значок линейчатой диаграммы и является первым способом просмотра результатов.

Для двоичной классификации после нажатия кнопки **визуализировать** значок можно визуализировать матрицу двоичной путаницы.
Для нескольких классификаций можно найти файл диаграммы путаницы на вкладке **выходные данные и журналы** , как в следующем примере:
> [!div class="mx-imgBorder"]
> ![Предварительный просмотр отправленного изображения](media/module/multi-class-confusion-matrix.png)

Если вы подключаете наборы данных к обоим входам **Оценки модели**, результаты будут содержать метрики для обоих наборов данных или обоих моделей.
Модель или данные, присоединенные к левому порту, отображаются в отчете первыми, за ними следуют метрики набора данных или модели, присоединенной к правому порту.  

Например, на следующем рисунке представлено сравнение результатов из двух моделей кластеризации, созданных на основе одних и тех же данных, но с разными параметрами.  

![Сравнение 2 моделей](media/module/evaluate-2-models.png)  

Поскольку это модель кластеризации, результаты оценки отличаются от результатов при сравнении показателей двух моделей регрессии или сравнении двух моделей классификации. Но общая презентация одинакова. 

## <a name="metrics"></a>Метрики

В этом разделе описываются метрики, возвращаемые для конкретных типов моделей, использование которых с **Оценкой модели** поддерживается:

+ [модели классификации](#metrics-for-classification-models);
+ [модели регрессии](#metrics-for-regression-models);
+ [модели кластеризации](#metrics-for-clustering-models).

### <a name="metrics-for-classification-models"></a>Метрики моделей классификации


При оценке моделей двоичной классификации выводятся следующие метрики.
  
-   **Правильность** измеряет качество модели классификации как пропорцию истинных результатов к общему числу случаев.  
  
-   **Точность** — это пропорция истинных результатов ко всем положительным результатам.  
  
-   **Полнота** — доля всех правильных результатов, возвращенных моделью.  
  
-   **Показатель F1** вычисляется как взвешенное среднее значение точности и может быть получено от 0 до 1, где идеальным значением оценки F1 является 1.  
  
-   **AUC** указывает площадь под кривой, построенной в системе, где истинно-положительные результаты откладываются по оси y, а ложноположительные результаты — по оси x. Эта метрика полезна, так как она выражается одним числом, по которому можно сравнивать модели различных типов.  


### <a name="metrics-for-regression-models"></a>Метрики моделей регрессии
 
Метрики, возвращаемые для моделей регрессии, предназначены для оценки объема ошибок.  Модель считается соответствующей данным, если разница между наблюдаемыми и прогнозируемыми значениями невелика. Однако рассмотрение закономерностей остатков (разницы между любой прогнозируемой точкой и соответствующим ей фактическим значением) может сообщить о потенциальном смещении в модели.  
  
 При оценке моделей регрессии предоставляются следующие метрики.
  
- **Средняя абсолютная ошибка (MAE)** измеряет, насколько предсказания близки к фактическим результатам. Чем ниже этот показатель, тем лучше.  
  
- **Среднеквадратичная ошибка (RMSE)** создает одно значение, которое суммирует ошибку в модели. Возводя разницу в квадрат, метрика не учитывает разницу между ошибкой прогноза в большую или меньшую сторону.  
  
- **Относительная абсолютная ошибка (RAE)**  — это относительная абсолютная разница между ожидаемым и фактическими значениям; относительна она потому, что средняя разница делится на арифметическое среднее значение.  
  
- **Относительная квадратичная ошибка (RSE)** аналогичным образом нормализует суммарную квадратичную ошибку прогнозируемых значений путем деления на суммарную квадратичную ошибку реальных значений.  
  

  
- **Коэффициент определения**, часто называемый R<sup>2</sup>, представляет собой предсказательную силу модели в виде значения от 0 до 1. Ноль означает, что модель является случайной (ничего не объясняет); 1 означает, что она подходит идеально. Но следует соблюдать осторожность при интерпретации значений R<sup>2</sup>, так как низкие значения могут быть вполне нормальными, а высокие значения — подозрительными.

###  <a name="metrics-for-clustering-models"></a>Метрики для моделей кластеризации

Поскольку модели кластеризации отличаются от моделей классификации и регрессии во многих отношениях, [Оценка модели](evaluate-model.md) также возвращает другой набор статистических данных для моделей кластеризации.  
  
 Статистические данные, возвращаемые для модели кластеризации, описывают, сколько точек данных было назначено каждому кластеру, расстояние между кластерами, а также то, насколько тесно точки данных расположены в каждом кластере.  
  
 Статистические данные для модели кластеризации усреднены по всему набору данных, с дополнительными строками, содержащими статистику для каждого кластера.  
  
При оценке моделей кластеризации предоставляются следующие метрики.
    
-   Оценки в столбце **Среднее расстояние до другого центра** показывают, насколько близко в среднем каждая точка в кластере находится к центроидам всех остальных кластеров.   

-   Оценки в столбце **Среднее расстояние до центра кластера** представляют близость всех точек в кластере к центроиду этого кластера.  
  
-   В столбце **Число точек** показано, сколько точек данных было назначено каждому кластеру вместе с общим количеством точек данных во всех кластерах.  
  
     Если количество точек данных, назначенных кластерам, меньше общего количества доступных точек данных, это означает, что какие-то точки данных не могут быть назначены кластеру.  
  
-   Баллы в столбце, **максимальные расстояния до центра кластера**, представляют максимальное расстояние между каждой точкой и центроид кластера этого пункта.  
  
     Если это значение велико, это может означать, что кластер широко распределен. Для определения распределения кластера следует проанализировать эту статистику вместе со **Средним расстоянием до центра кластера**.   

-   Показатель **Объединенной оценки** в нижней части каждого раздела результатов перечисляет средние оценки для кластеров, созданных в данной модели.  
  

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 
