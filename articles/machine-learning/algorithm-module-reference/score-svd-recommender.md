---
title: 'SVD рекомендации по оценке: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль рекомендации "Оценка SVD" в службе Машинное обучение Azure, чтобы оценить прогнозы рекомендаций для набора данных.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: be590ba04de5c8ee671e7e865d04b4ea6c638c00
ms.sourcegitcommit: bc7725874a1502aa4c069fc1804f1f249f4fa5f7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2019
ms.locfileid: "73717216"
---
# <a name="score-svd-recommender"></a>SVD рекомендации по оценке

В этой статье описывается, как использовать модуль рекомендуемого SVD для оценки в конструкторе Машинное обучение Azure (Предварительная версия). Используйте этот модуль для создания прогнозов с помощью модели обученной рекомендации, основанной на алгоритме единого значения декомпозиции (SVD).

SVD рекомендации могут формировать два различных типа прогнозов:

- [Прогноз оценки для указанных пользователя и объекта](#prediction-of-ratings)
- [Рекомендовать элементы пользователю](#recommendations-for-users)

При создании прогнозов второго типа можно использовать один из следующих режимов.

- В **рабочем режиме** учитываются все пользователи и элементы. Обычно он используется в веб-службе.

  Вы можете создавать оценки для новых пользователей, а не только для пользователей во время обучения. Дополнительные сведения см. в [технических примечаниях](#technical-notes). 

- **Режим оценки** применяется к ограниченному набору пользователей или элементов, которые могут быть оценены. Обычно он используется во время операций конвейера.

Дополнительные сведения о алгоритме рекомендации SVD см. в справочной статье [методы факторинга матрицы для рекомендуемых систем](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf).

## <a name="how-to-configure-score-svd-recommender"></a>Как настроить рекомендацию по оценке SVD

Этот модуль поддерживает два типа прогнозов, каждый из которых имеет различные требования. 

###  <a name="prediction-of-ratings"></a>Прогноз оценок

При прогнозировании оценок модель вычисляет, как пользователь будет реагировать на определенный элемент, учитывая обучающие данные. Входные данные для оценки должны обеспечивать оценку как пользователя, так и элемента.

1. Добавьте в конвейер модель с обученной рекомендацией и подключите ее к **обученному SVD рекомендации**. Модель необходимо создать с помощью модуля рекомендации по [обучению SVD](train-SVD-recommender.md) .

2. В качестве **прогнозируемого типа рекомендаций**выберите **Прогноз рейтинга**. Другие параметры не требуются.

3. Добавьте данные, для которых необходимо сделать прогнозы, и подключите их к **набору данных для оценки**.

   Для прогнозирования оценок в модели входной набор данных должен содержать пары "пользователь-элемент".

   Набор данных может содержать необязательный третий столбец оценок для пары "пользователь-элемент" в первом и втором столбцах. Но третий столбец будет пропущен во время прогнозирования.

4. Запустили конвейер.

### <a name="results-for-rating-predictions"></a>Результаты прогнозов оценок 

Выходной набор данных содержит три столбца: пользователи, элементы и Прогнозируемая оценка для каждого входного пользователя и элемента.

###  <a name="recommendations-for-users"></a>Рекомендации для пользователей 

Чтобы рекомендовать элементы для пользователей, необходимо предоставить список пользователей и элементов в качестве входных данных. На основе этих данных модель использует свои знания о существующих элементах и пользователях для создания списка элементов, которые могут оказаться привлекательными для каждого пользователя. Можно настроить число возвращаемых рекомендаций. Также можно задать пороговое значение для числа предыдущих рекомендаций, необходимых для создания рекомендации.

1. Добавьте в конвейер модель с обученной рекомендацией и подключите ее к **обученному SVD рекомендации**.  Модель необходимо создать с помощью модуля рекомендации по [обучению SVD](train-svd-recommender.md) .

2. Чтобы рекомендовать элементы для списка пользователей, установите рекомендацию **прогнозирования** по **элементу**.

3. Чтобы **выбрать рекомендуемый элемент**, укажите, используется ли модуль оценки в рабочей среде или для оценки модели. Выберите одно из следующих значений:

    - **Из всех элементов**. Выберите этот параметр, если вы настраиваете конвейер для использования в веб-службе или в рабочей среде.  Этот параметр включает *режим рабочей среды*. Модуль предоставляет рекомендации из всех элементов, отображаемых во время обучения.

    - **Из элементов с оценкой (для оценки модели)** . Выберите этот параметр, если вы разрабатываете или тестируете модель. Этот параметр включает *режим оценки*. Модуль предоставляет рекомендации только из тех элементов во входном наборе данных, которые были оценены.
    
    - **Из элементов без оценок (для предложения новых элементов пользователям)** : Выберите этот параметр, если требуется, чтобы модуль имел рекомендации только из тех элементов в наборе данных для обучения, которые не были оценены. 

4. Добавьте набор данных, для которого требуется создать прогнозы, и подключите его к **набору данных для оценки**.

    - Для **всех элементов**входной набор данных должен состоять из одного столбца. Он содержит идентификаторы пользователей, для которых необходимо выполнить рекомендации.

      Набор данных может включать два дополнительных столбца идентификаторов элементов и оценок, но эти два столбца игнорируются. 

    - Для **элементов с оценкой (для оценки модели)** входной набор данных должен состоять из пар "пользователь-элемент". Первый столбец должен содержать идентификатор пользователя. Второй столбец должен содержать соответствующие идентификаторы элементов.

      Набор данных может включать в себя третий столбец оценок пользовательских элементов, но этот столбец игнорируется.

    - Для **из элементов без оценки (для предложения новых элементов пользователям)** входной набор данных должен состоять из пар "пользователь-элемент". Первый столбец должен содержать идентификатор пользователя. Второй столбец должен содержать соответствующие идентификаторы элементов.

     Набор данных может включать в себя третий столбец оценок пользовательских элементов, но этот столбец игнорируется.

5. **Максимальное число элементов, которое следует рекомендовать пользователю**: введите число элементов, возвращаемых для каждого пользователя. По умолчанию модуль рекомендует пять элементов.

6. **Минимальный размер пула рекомендаций на пользователя**: введите значение, указывающее, сколько предыдущих рекомендаций требуется. По умолчанию этот параметр имеет значение **2**, что означает, что элемент был рекомендован по крайней мере двум другим пользователям.

   Используйте этот параметр только в том случае, если вы используете оценку в режиме оценки. Этот параметр недоступен, если выбран вариант **из всех элементов** или **из элементов без оценок (для предложения новых элементов пользователям)** .

7.  Для **элементов из категории без оценки (для предложения новых элементов пользователям)** используйте третий входной порт с именем **обучающие данные**, чтобы удалить элементы, которые уже были оценены из результатов прогноза.

    Чтобы применить этот фильтр, Подключите исходный набор данных для обучения с портом ввода.

8. Запустили конвейер.

### <a name="results-of-item-recommendation"></a>Результаты рекомендации по элементу

В оценочном наборе данных, возвращенном функцией Score SVD, рекомендуется список рекомендуемых элементов для каждого пользователя:

- Первый столбец содержит идентификаторы пользователей.
- Будет создано несколько дополнительных столбцов в зависимости от значения, заданного для **максимального числа элементов, которое следует рекомендовать пользователю**. Каждый столбец содержит рекомендуемый элемент (по идентификатору). Рекомендации упорядочиваются по сходству пользовательских элементов. Элемент с самым высоким сходством помещается в **элемент Column 1**.

> [!WARNING]
> Вы не можете оценить этот оцененный набор данных с помощью модуля [рекомендации по оценке](evaluate-recommender.md) .


##  <a name="technical-notes"></a>Технические примечания

Если у вас есть конвейер с рекомендацией SVD и вы перемещаете модель в рабочую среду, имейте в виду, что существуют ключевые различия между использованием рекомендаций в режиме оценки и его использования в рабочем режиме.

Для оценки, по определению, требуются прогнозы, которые могут быть проверены на предмет *истинности* в проверочном наборе. При оценке рекомендации рекомендуется прогнозировать только те элементы, которые были оценены в тестовом наборе. Это позволяет ограничивать возможные прогнозируемые значения.

При эксплуатациюии модели обычно изменяется режим прогнозирования, чтобы сделать рекомендации на основе всех возможных элементов, чтобы получить лучшие прогнозы. Для многих из этих прогнозов нет соответствующей истинности. Поэтому точность рекомендации не может быть проверена так же, как во время операций конвейера.


## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) для службы машинное обучение Azure. 
