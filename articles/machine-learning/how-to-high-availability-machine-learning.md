---
title: Высокая доступность & устойчивости
titleSuffix: Azure Machine Learning
description: Узнайте, как повысить устойчивость Машинное обучение Azure ресурсов к простоям с помощью конфигурации высокого уровня доступности.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: jhirono
author: jhirono
ms.reviewer: larryfr
ms.date: 09/16/2020
ms.openlocfilehash: 64665c0b1e32970f29233f5abdd6b2d2d020a6b2
ms.sourcegitcommit: 53acd9895a4a395efa6d7cd41d7f78e392b9cfbe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "90897514"
---
# <a name="increase-azure-machine-learning-resiliency"></a>Повышение устойчивости Машинное обучение Azure



В этой статье вы узнаете, как сделать ресурсы Машинное обучение Microsoft Azure более устойчивыми с помощью конфигураций с высоким уровнем доступности. Вы можете настроить службы Azure, Машинное обучение Azure от которых зависит высокий уровень доступности. В этой статье указаны службы, которые можно настроить для обеспечения высокой доступности, а также ссылки на дополнительные сведения о настройке этих ресурсов.

> [!NOTE]
> Машинное обучение Azure сама по себе не предлагает вариант аварийного восстановления.

## <a name="understand-azure-services-for-azure-machine-learning"></a>Общие сведения о службах Azure для Машинное обучение Azure

Машинное обучение Azure зависит от нескольких служб Azure и имеет несколько уровней. Некоторые из этих служб подготавливаются в вашей подписке (клиент). Вы несете ответственность за настройку высокого уровня доступности этих служб. Другие службы создаются в подписке Майкрософт и управляются корпорацией Майкрософт. 

Службы Azure включают:

* **Инфраструктура машинное обучение Azure**: среда, управляемая Майкрософт, для рабочей области машинное обучение Azure.

* **Связанные ресурсы**: ресурсы, подготовленные в подписке во время создания рабочей области машинное обучение Azure. К этим ресурсам относятся служба хранилища Azure, Azure Key Vault, реестр контейнеров Azure и Application Insights. Вы несете ответственность за настройку параметров высокого уровня доступности для этих ресурсов.
  * Хранилище по умолчанию содержит такие данные, как модель, данные журнала обучения и набор данных.
  * Key Vault имеет учетные данные для хранилища Azure, реестра контейнеров и хранилищ данных.
  * В реестре контейнеров есть образ DOCKER для обучения и изучения сред.
  * Application Insights предназначен для мониторинга Машинное обучение Azure.

* **Ресурсы вычислений**: ресурсы, создаваемые после развертывания рабочей области. Например, вы можете создать вычислительный экземпляр или вычислительный кластер для обучения модели Машинное обучение.
  * Вычислительный экземпляр и вычислительный кластер: среды разработки моделей, управляемые корпорацией Майкрософт.
  * Другие ресурсы: вычислительные ресурсы Майкрософт, которые можно подключить к Машинное обучение Azure, например службу Azure Kubernetes Service (AKS), Azure Databricks, экземпляры контейнеров Azure и Azure HDInsight. Вы несете ответственность за настройку параметров высокого уровня доступности для этих ресурсов.

* **Дополнительные хранилища данных**. машинное обучение Azure можете подключать дополнительные хранилища данных, такие как служба хранилища azure, Azure Data Lake Storage и база данных SQL Azure для обучающих данных.  Эти хранилища данных подготавливаются в рамках вашей подписки. Вы несете ответственность за настройку параметров высокого уровня доступности.

В следующей таблице показано, какие службы Azure управляются корпорацией Майкрософт, которыми вы управляете, и что по умолчанию имеет высокий уровень доступности.

| Служба | Управляется | Высокий уровень доступности по умолчанию |
| ----- | ----- | ----- |
| **Инфраструктура Машинное обучение Azure** | Microsoft | |
| **Связанные ресурсы** |
| Хранилище Azure | Вы | |
| Key Vault | Вы | ✓ |
| Реестр контейнеров | Вы | |
| Application Insights | Вы | Н/Д |
| **вычислительные ресурсы;** |
| Вычислительная операция | Microsoft |  |
| Вычислительный кластер | Microsoft |  |
| Другие ресурсы вычислений, такие как AKS, <br>Azure Databricks, экземпляры контейнеров, HDInsight | Вы |  |
| **Дополнительные хранилища данных** , такие как служба хранилища Azure, база данных SQL<br> База данных Azure для PostgreSQL, база данных Azure для MySQL, <br>Azure Databricks файловая система | Вы | |

В оставшейся части этой статьи описываются действия, которые необходимо выполнить для обеспечения высокой доступности каждой из этих служб.

## <a name="associated-resources"></a>Связанные ресурсы

> [!IMPORTANT]
> Машинное обучение Azure не поддерживает отработку отказа учетной записи хранения по умолчанию с помощью геоизбыточного хранилища (GRS), хранилища, избыточного в геозону (ГЗРС), геоизбыточного хранилища с доступом на чтение (RA-GRS) или геоизбыточного хранилища с доступом на чтение геозоны (RA-ГЗРС).

Обязательно настройте параметры высокого уровня доступности для каждого ресурса, обратившись к следующей документации:

* Служба **хранилища Azure**. сведения о настройке параметров высокого уровня доступности см. в статье [избыточность службы хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-redundancy).
* **Key Vault**: Key Vault обеспечивает высокий уровень доступности по умолчанию и не требует вмешательства пользователя.  См. раздел [доступность Azure Key Vault и избыточность](https://docs.microsoft.com/azure/key-vault/general/disaster-recovery-guidance).
* **Реестр контейнеров**: выберите параметр реестра Premium для георепликации. См. [раздел Георепликация в реестре контейнеров Azure](https://docs.microsoft.com/azure/container-registry/container-registry-geo-replication).
* **Application Insights**: Application Insights не предоставляет параметры высокого уровня доступности. Сведения об изменении срока хранения данных и сведений см. [в разделе Сбор данных, хранение и хранение в Application Insights](https://docs.microsoft.com/azure/azure-monitor/app/data-retention-privacy#how-long-is-the-data-kept).

## <a name="compute-resources"></a>Вычислительные ресурсы

Обязательно настройте параметры высокого уровня доступности для каждого ресурса, обратившись к следующей документации:

* **Служба Kubernetes Azure**. Ознакомьтесь с [рекомендациями по обеспечению непрерывности бизнес-процессов и аварийному восстановлению в службе KUBERNETES Azure (AKS)](https://docs.microsoft.com/azure/aks/operator-best-practices-multi-region) и [Создайте кластер Azure Kubernetes Service (AKS), использующий зоны доступности](https://docs.microsoft.com/azure/aks/availability-zones). Если кластер AKS был создан с помощью Машинное обучение Azure Studio, пакета SDK или интерфейса командной строки, высокий уровень доступности в разных регионах не поддерживается.
* **Azure Databricks**: см. раздел [региональные аварийное восстановление для Azure Databricks кластеров](https://docs.microsoft.com/azure/azure-databricks/howto-regional-disaster-recovery).
* **Экземпляры контейнеров**: Orchestrator отвечает за отработку отказа. См. раздел [экземпляры контейнеров Azure и оркестрации контейнеров](https://docs.microsoft.com/azure/container-instances/container-instances-orchestrator-relationship).
* **Hdinsight**. см. раздел [службы высокого уровня доступности, поддерживаемые Azure HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-high-availability-components).

## <a name="additional-data-stores"></a>Дополнительные хранилища данных

Обязательно настройте параметры высокого уровня доступности для каждого ресурса, обратившись к следующей документации:

* **Контейнер больших двоичных объектов Azure/файлы Azure/Data Lake Storage 2-го поколения**: то же, что и хранилище по умолчанию.
* **Data Lake Storage 1-го поколения**. см. раздел [руководство по обеспечению высокого уровня доступности и аварийного восстановления для Data Lake Storage 1-го поколения](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-disaster-recovery-guidance).
* **База данных SQL**. см. статью [высокий уровень доступности для базы данных sql Azure и управляемый экземпляр SQL](https://docs.microsoft.com/azure/sql-database/sql-database-high-availability).
* **База данных Azure для PostgreSQL**: см. раздел [Основные понятия высокой доступности в базе данных Azure для PostgreSQL-Single Server](https://docs.microsoft.com/azure/postgresql/concepts-high-availability).
* **База данных Azure для MySQL**. см. статью [сведения о непрерывности бизнес-процессов в базе данных Azure для MySQL](https://docs.microsoft.com/azure/mysql/concepts-business-continuity).
* **Azure Databricks файловая система**: см. раздел [региональные аварийное восстановление для Azure Databricks кластеров](https://docs.microsoft.com/azure/azure-databricks/howto-regional-disaster-recovery).

## <a name="azure-cosmos-db"></a>Azure Cosmos DB

Если вы предоставляете собственный ключ, управляемый клиентом, для развертывания Машинное обучение Azure рабочей области, Azure Cosmos DB также подготавливается в рамках вашей подписки. В этом случае вы несете ответственность за настройку параметров высокого уровня доступности. См. раздел [высокий уровень доступности с Azure Cosmos DB](https://docs.microsoft.com/azure/cosmos-db/high-availability).

## <a name="next-steps"></a>Дальнейшие действия

Чтобы развернуть Машинное обучение Azure со связанными ресурсами с параметрами высокой доступности, используйте [шаблон Azure Resource Manager](https://github.com/Azure/azure-quickstart-templates/tree/master/201-machine-learning-advanced).
