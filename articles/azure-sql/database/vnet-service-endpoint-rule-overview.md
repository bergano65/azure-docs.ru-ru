---
title: Конечные точки и правила виртуальной сети для баз данных в базе данных SQL Azure
description: Пометьте подсеть как конечную точку службы виртуальной сети. Затем добавьте конечную точку в качестве правила виртуальной сети в список управления доступом для своей базы данных. Затем база данных принимает подключения со всех виртуальных машин и других узлов в подсети.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: sqldbrb=1
ms.devlang: ''
ms.topic: how-to
author: rohitnayakmsft
ms.author: rohitna
ms.reviewer: vanto, genemi
ms.date: 11/14/2019
ms.openlocfilehash: d480239c0eb99ed48c13ec2fdb5b052574acc318
ms.sourcegitcommit: 5db975ced62cd095be587d99da01949222fc69a3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97092505"
---
# <a name="use-virtual-network-service-endpoints-and-rules-for-servers-in-azure-sql-database"></a>Использование конечных точек службы и правил виртуальной сети для серверов в базе данных SQL Azure

[!INCLUDE[appliesto-sqldb-asa](../includes/appliesto-sqldb-asa.md)]

*Правила виртуальной сети* — это функция безопасности брандмауэра, которая определяет, принимает ли сервер для баз данных и эластичных пулов в [базе данных SQL Azure](sql-database-paas-overview.md) или для баз данных в [Azure синапсе Analytics](../../synapse-analytics/sql-data-warehouse/sql-data-warehouse-overview-what-is.md) обмен данными, отправляемый из определенных подсетей в виртуальных сетях. В этой статье объясняется, почему правила виртуальной сети иногда являются лучшим вариантом для безопасного подключения к базе данных в базе данных SQL и Azure синапсе Analytics.

> [!NOTE]
> Эта статья относится как к базе данных SQL, так и к Azure синапсе Analytics. Для простоты термин " *база данных* " относится к обеим базам данных SQL и Azure синапсе Analytics. Аналогичным образом все ссылки на *сервер* относятся к [ЛОГИЧЕСКОМу серверу SQL](logical-servers.md) Server, на котором размещается база данных SQL и Azure синапсе Analytics.

Чтобы создать правило виртуальной сети, требуется [конечная точка службы для виртуальной сети][vm-virtual-network-service-endpoints-overview-649d], используемая для ссылки.

## <a name="create-a-virtual-network-rule"></a>Создание правила виртуальной сети

Если вы хотите создать только правило виртуальной сети, можно сразу перейти к шагам и объяснениям, приведенным [Далее в этой статье](#anchor-how-to-by-using-firewall-portal-59j).

## <a name="details-about-virtual-network-rules"></a>Сведения о правилах виртуальной сети

В этом разделе приводятся некоторые сведения о правилах виртуальной сети.

### <a name="only-one-geographic-region"></a>Только один географический регион

Каждая конечная точка службы виртуальной сети применяется только к одному региону Azure. Конечная точка не позволяет другим регионам принимать подключения из подсети.

Любое правило виртуальной сети ограничена регионом, в котором используется базовая конечная точка.

### <a name="server-level-not-database-level"></a>Уровень сервера, а не уровня базы данных

Каждое правило виртуальной сети применяется ко всему серверу, а не только к одной конкретной базе данных на сервере. Иными словами, правила виртуальной сети применяются на уровне сервера, а не на уровне базы данных.

Для сравнения, правило фильтрации IP-адресов можно применить на любом уровне.

### <a name="security-administration-roles"></a>Роли администратора безопасности

Существует разделение ролей безопасности в администрировании конечных точек службы виртуальной сети. Требуется действие каждой из следующих ролей:

- **Администратор сети (роль [участника сети](../../role-based-access-control/built-in-roles.md#network-contributor) ):** &nbsp; Включите конечную точку.
- **Администратор базы данных (роль [участника SQL Server](../../role-based-access-control/built-in-roles.md#sql-server-contributor) ):** &nbsp; Обновите список управления доступом (ACL), чтобы добавить указанную подсеть на сервер.

#### <a name="azure-rbac-alternative"></a>Альтернатива Azure RBAC

Роли администратора сети и администратора базы данных имеют больше возможностей, чем требуется для управления правилами виртуальной сети. На самом деле для этого требуется только часть их возможностей.

У вас есть возможность использовать [управление доступом на основе ролей (RBAC)][rbac-what-is-813s] в Azure, чтобы создать отдельную настраиваемую роль с необходимыми правами. Вместо администратора сети или администратора базы данных можно использовать пользовательскую роль. Если вы добавляете пользователя в пользовательскую роль и не добавляете пользователя к другим двум основным ролям администратора, контактная зона в области безопасности снижается.

> [!NOTE]
> В некоторых случаях база данных в базе данных SQL и подсети виртуальной сети находятся в разных подписках. В этих случаях необходимо обеспечить следующие конфигурации:
>
> - Обе подписки должны находиться в одном клиенте Azure Active Directory (Azure AD).
> - Пользователь имеет необходимые разрешения для запуска операций, например включение конечных точек службы и добавление подсети виртуальной сети на указанный сервер.
> - Обе подписки должны иметь зарегистрированного поставщика Microsoft.Sql.

## <a name="limitations"></a>Ограничения

Для базы данных SQL функция правил виртуальной сети имеет следующие ограничения.

- В брандмауэре для базы данных в базе данных SQL каждое правило виртуальной сети ссылается на подсеть. Все указанные подсети должны размещаться в том же географическом регионе, где размещена база данных.
- Каждый сервер может иметь до 128 записей ACL для любой виртуальной сети.
- Правила виртуальной сети применяются только к Azure Resource Managerным виртуальным сетям, а не к [классическим сетям модели развертывания][arm-deployment-model-568f] .
- Включение конечных точек службы виртуальной сети в базу данных SQL также включает конечные точки для базы данных Azure для MySQL и базы данных Azure для PostgreSQL. Если конечные точки установлены в значение **On**, попытки подключения из конечных точек к базе данных Azure для MySQL или базы данных Azure для PostgreSQL могут завершиться ошибкой.
  - Базовая причина заключается в том, что для базы данных Azure для MySQL и базы данных Azure для PostgreSQL, скорее всего, не настроено правило виртуальной сети. Необходимо настроить правило виртуальной сети для базы данных Azure для MySQL и базы данных Azure для PostgreSQL, и соединение будет выполняться.
  - Чтобы определить правила брандмауэра виртуальной сети на логическом сервере SQL, для которого уже настроены частные конечные точки, установите для параметра **запретить доступ к общедоступной сети** значение **нет**.
- В брандмауэре диапазоны IP-адресов применяются к следующим элементам сети, но правила виртуальной сети не:
  - [Виртуальная частная сеть (VPN) типа "сеть — сеть" (S2S)][vpn-gateway-indexmd-608y]
  - Локальная среда через [Azure ExpressRoute](../../expressroute/index.yml)

### <a name="considerations-when-you-use-service-endpoints"></a>Рекомендации по использованию конечных точек службы

При использовании конечных точек службы для базы данных SQL ознакомьтесь со следующими соображениями.

- **Требуется исходящий трафик в общедоступные IP-адреса базы данных SQL Azure.** Чтобы разрешить подключение, необходимо открыть группы безопасности сети (группы безопасности сети) для IP-адресов базы данных SQL. Это можно сделать с помощью [тегов службы](../../virtual-network/network-security-groups-overview.md#service-tags) NSG для базы данных SQL.

### <a name="expressroute"></a>ExpressRoute

При использовании [ExpressRoute](../../expressroute/expressroute-introduction.md?toc=%2fazure%2fvirtual-network%2ftoc.json) из локальной среды для общедоступного пиринга или пиринга Майкрософт необходимо указать используемые IP-адреса NAT. Для общедоступного пиринга в каждом канале ExpressRoute по умолчанию используется два IP-адреса NAT для трафика служб Azure, когда он входит в основную магистральную сеть Microsoft Azure. Для пиринга Майкрософт используемые IP-адреса NAT предоставляются клиентом или поставщиком услуг. Чтобы разрешить доступ к ресурсам служб, необходимо разрешить эти общедоступные IP-адреса в настройках брандмауэра IP-адресов ресурсов. Чтобы найти IP-адреса канала ExpressRoute для общедоступного пиринга, [отправьте запрос по ExpressRoute в службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview) через портал Azure. Дополнительные сведения об NAT для общедоступных узлов и пиринга Майкрософт для ExpressRoute см. в статье [требования к NAT для общедоступного пиринга Azure](../../expressroute/expressroute-nat.md?toc=%2fazure%2fvirtual-network%2ftoc.json#nat-requirements-for-azure-public-peering).

Чтобы разрешить обмен данными из канала с базой данных SQL, необходимо создать правила IP-сети для общедоступных IP-адресов NAT.

<!--
FYI: Re ARM, 'Azure Service Management (ASM)' was the old name of 'classic deployment model'.
When searching for blogs about ASM, you probably need to use this old and now-forbidden name.
-->

## <a name="impact-of-using-virtual-network-service-endpoints-with-azure-storage"></a>Влияние использования конечных точек службы виртуальной сети в службе хранилища Azure

Служба хранилища Azure реализовала ту же функцию, которая позволяет ограничить возможность подключения к учетной записи службы хранилища Azure. Если вы решили использовать эту функцию с учетной записью хранения Azure, используемой базой данных SQL, можно столкнуться с проблемами. Далее следует список и обсуждение функций базы данных SQL и Azure синапсе Analytics, затронутых этим.

### <a name="azure-synapse-analytics-polybase-and-copy-statement"></a>Azure синапсе Analytics Polybase и инструкция COPY

Polybase и инструкция COPY обычно используются для загрузки данных в Azure синапсе Analytics из учетных записей хранения Azure для приема данных с высокой пропускной способностью. Если учетная запись хранения Azure, из которой загружаются данные, ограничивает доступ только к набору подсетей виртуальной сети, подключение при использовании Polybase и инструкция COPY в учетной записи хранения будут нарушены. Чтобы включить сценарии импорта и экспорта с помощью копирования и Polybase с Azure синапсе Analytics и подключения к службе хранилища Azure, защищенной для виртуальной сети, выполните действия, описанные в этом разделе.

#### <a name="prerequisites"></a>Предварительные требования

- Установите Azure PowerShell с помощью [этого руководством](/powershell/azure/install-az-ps).
- При наличии учетной записи общего назначения версии 1 или хранилища BLOB-объектов Azure сначала необходимо выполнить обновление до общего назначения v2, выполнив действия, описанные в статье [обновление до учетной записи хранения общего назначения версии 2](../../storage/common/storage-account-upgrade.md).
- **Для доступа к этой учетной записи хранения** в меню параметров **брандмауэра и виртуальных сетей** учетной записи хранения Azure необходимо разрешить доверенным службам Майкрософт. Включение этой конфигурации позволит использовать Polybase и инструкцию COPY для подключения к учетной записи хранения с помощью надежной проверки подлинности, когда сетевой трафик остается в магистрали Azure. Дополнительные сведения см. в [этом](../../storage/common/storage-network-security.md#exceptions)разделе.

> [!IMPORTANT]
> Модуль PowerShell Azure Resource Manager по-прежнему поддерживается базой данных SQL, но вся будущая разработка предназначена для модуля AZ. SQL. Исправления ошибок для модуля AzureRM будут продолжать выпускаться как минимум до декабря 2020 г. Аргументы команд в модулях Az и AzureRm практически идентичны. Дополнительные сведения о совместимости см. в статье [Знакомство с новым модулем Az для Azure PowerShell](/powershell/azure/new-azureps-module-az).

#### <a name="steps"></a>Шаги

1. При наличии автономного выделенного пула SQL Зарегистрируйте SQL Server в Azure AD с помощью PowerShell:

   ```powershell
   Connect-AzAccount
   Select-AzSubscription -SubscriptionId <subscriptionId>
   Set-AzSqlServer -ResourceGroupName your-database-server-resourceGroup -ServerName your-SQL-servername -AssignIdentity
   ```

   Этот шаг не требуется для выделенных пулов SQL в рабочей области Azure синапсе Analytics.

1. Если у вас есть рабочая область Azure синапсе Analytics, зарегистрируйте управляемое системой удостоверение вашей рабочей области:

   1. Перейдите в рабочую область Azure синапсе Analytics в портал Azure.
   2. Перейдите на панель **управляемые удостоверения** .
   3. Убедитесь, что включен параметр **Разрешить конвейеры** .
   
1. Создайте **учетную запись хранения общего назначения версии 2** , выполнив действия, описанные в разделе [Создание учетной записи хранения](../../storage/common/storage-account-create.md).

   > [!NOTE]
   >
   > - При наличии учетной записи общего назначения версии 1 или хранилища BLOB-объектов необходимо *сначала обновить версию до версии 2* , выполнив действия, описанные в разделе [обновление до учетной записи хранения общего назначения v2](../../storage/common/storage-account-upgrade.md).
   > - Известные проблемы с Azure Data Lake Storage 2-го поколения см. [в статье известные проблемы с Azure Data Lake Storage 2-го поколения](../../storage/blobs/data-lake-storage-known-issues.md).

1. В учетной записи хранения перейдите в раздел **Управление доступом (IAM)** и выберите **добавить назначение ролей**. Назначьте роль Azure " **участник данных BLOB-объектов хранилища** " серверу или рабочей области, где размещен выделенный пул SQL, зарегистрированный в Azure AD.

   > [!NOTE]
   > Этот шаг могут выполнять только члены с правами владельца в учетной записи хранения. Сведения о различных встроенных ролях Azure см. [в статье встроенные роли Azure](../../role-based-access-control/built-in-roles.md).
  
1. Чтобы включить подключение Polybase к учетной записи хранения Azure, выполните следующие действия.

   1. Создайте [главный ключ](/sql/t-sql/statements/create-master-key-transact-sql) базы данных, если вы еще не создали его ранее.

       ```sql
       CREATE MASTER KEY [ENCRYPTION BY PASSWORD = 'somepassword'];
       ```

   1. Создайте учетные данные уровня базы данных с **идентификатором = "управляемое удостоверение службы"**.

       ```sql
       CREATE DATABASE SCOPED CREDENTIAL msi_cred WITH IDENTITY = 'Managed Service Identity';
       ```

       > [!NOTE]
       >
       > - Нет необходимости указывать СЕКРЕТный ключ доступа к хранилищу Azure, так как этот механизм использует [управляемое удостоверение](../../active-directory/managed-identities-azure-resources/overview.md) , как описано в этой статье.
       > - Чтобы подключение Polybase работало с учетной записью хранения Azure, защищенной виртуальной сетью, имя удостоверения должно быть **"управляемое удостоверение службы"** .

   1. Создайте внешний источник данных с помощью `abfss://` схемы для подключения к учетной записи хранения общего назначения версии 2 с помощью polybase.

       ```SQL
       CREATE EXTERNAL DATA SOURCE ext_datasource_with_abfss WITH (TYPE = hadoop, LOCATION = 'abfss://myfile@mystorageaccount.dfs.core.windows.net', CREDENTIAL = msi_cred);
       ```

       > [!NOTE]
       >
       > - Если у вас уже есть внешние таблицы, связанные с учетной записью общего назначения версии 1 или хранилища BLOB-объектов, сначала удалите эти внешние таблицы. Затем удалите соответствующий внешний источник данных. Затем создайте внешний источник данных с `abfss://` схемой, которая подключается к учетной записи хранения общего назначения версии 2, как показано выше. Затем повторно создайте все внешние таблицы с помощью этого нового внешнего источника данных. Чтобы упростить создание скриптов CREATE-Script для всех внешних таблиц, можно использовать [Мастер формирования и публикации скриптов](/sql/ssms/scripting/generate-and-publish-scripts-wizard) .
       > - Дополнительные сведения о `abfss://` схеме см. в статье [Использование Azure Data Lake Storage 2-го поколения URI](../../storage/blobs/data-lake-storage-introduction-abfs-uri.md).
       > - Дополнительные сведения о создании внешнего источника данных см. в [этом](/sql/t-sql/statements/create-external-data-source-transact-sql)разделе.

   1. Запрос как обычная с использованием [внешних таблиц](/sql/t-sql/statements/create-external-table-transact-sql).

### <a name="sql-database-blob-auditing"></a>Аудит больших двоичных объектов базы данных SQL

При аудите больших двоичных объектов журналы аудита отправляются в вашу учетную запись хранения. Если эта учетная запись хранения использует функцию конечных точек службы виртуальной сети, подключение из базы данных SQL к учетной записи хранения будет нарушено.

## <a name="add-a-virtual-network-firewall-rule-to-your-server"></a>Добавление правила брандмауэра виртуальной сети на сервер

До тех пор, пока эта функция была улучшена, перед внедрением правила динамической виртуальной сети в брандмауэре требовалось включить конечные точки службы виртуальной сети. Конечные точки, связанные с заданной подсетью виртуальной сети, с базой данных в базе данных SQL. По состоянию на Январь 2018 можно обойти это требование, установив флаг **игноремиссингвнетсервицеендпоинт** . Теперь вы можете добавить правило брандмауэра виртуальной сети на сервер, не включив конечные точки службы виртуальной сети.

Просто Настройка правила брандмауэра не помогает защитить сервер. Чтобы безопасность вступила в силу, необходимо также включить конечные точки службы виртуальной сети. При включении конечных точек службы подсеть виртуальной сети будет работать просто до тех пор, пока не завершится переход с выключенной на on. Этот период простоя особенно истинен в контексте больших виртуальных сетей. С помощью параметра **IgnoreMissingVNetServiceEndpoint** можно уменьшить или исключить время простоя во время перехода.

Задать параметр **IgnoreMissingVNetServiceEndpoint** можно с помощью PowerShell. Дополнительные сведения см. [в статье Создание конечной точки службы виртуальной сети и правила для базы данных SQL с помощью PowerShell][sql-db-vnet-service-endpoint-rule-powershell-md-52d].

## <a name="errors-40914-and-40615"></a>Ошибки 40914 и 40615

Ошибка подключения 40914 связана с *правилами виртуальной сети*, как указано в области **брандмауэра** в портал Azure. Ошибка 40615 аналогична, за исключением того, что она относится к *правилам IP-адресов* в брандмауэре.

### <a name="error-40914"></a>Ошибка 40914

**Текст сообщения:** "Не удается открыть сервер"*[имя сервера]*", запрошенный именем для входа. Клиенту не разрешен доступ к серверу».

**Описание ошибки.** Клиент находится в подсети, которая содержит конечные точки сервера виртуальной сети. Но у сервера нет правила виртуальной сети, которое предоставляет подсети право на взаимодействие с базой данных.

**Разрешение ошибок:** На панели **брандмауэра** портал Azure используйте элемент управления правила виртуальной сети, чтобы [Добавить правило виртуальной сети](#anchor-how-to-by-using-firewall-portal-59j) для подсети.

### <a name="error-40615"></a>Ошибка 40615

**Текст сообщения:** "Не удается открыть сервер", {0} запрошенный именем для входа. Клиенту с IP-адресом " {1} " не разрешен доступ к серверу "".

**Описание ошибки:** Клиент пытается подключиться с IP-адреса, который не имеет полномочий для подключения к серверу. В брандмауэре сервера не указано правило IP-адресов, которое позволяет клиенту обмениваться данными с данным IP-адресом с базой данных.

**Устранение ошибки.** Введите IP-адрес клиента в качестве правила IP-адреса. Чтобы выполнить этот шаг, используйте панель **брандмауэра** в портал Azure.

<a name="anchor-how-to-by-using-firewall-portal-59j"></a>

## <a name="use-the-portal-to-create-a-virtual-network-rule"></a>Создание правила виртуальной сети с помощью портала

В этом разделе показано, как можно использовать [портал Azure][http-azure-portal-link-ref-477t] для создания *правила виртуальной сети* в базе данных SQL. Правило указывает, что база данных должна принимать подключения из определенной подсети, помеченной как *Конечная точка службы виртуальной сети*.

> [!NOTE]
> Если вы собираетесь добавить конечную точку службы к правилам брандмауэра виртуальной сети сервера, сначала убедитесь, что конечные точки службы включены для подсети.
>
> Если конечные точки службы не включены для подсети, портал предложит включить их. Нажмите кнопку **включить** на той же панели, в которую добавляется правило.

## <a name="powershell-alternative"></a>Альтернатива PowerShell

Скрипт также может создавать правила виртуальной сети с помощью командлета PowerShell **New-азсклсервервиртуалнетворкруле** или [AZ Network vnet Create](/cli/azure/network/vnet#az-network-vnet-create). Если вас интересует, см. раздел [PowerShell для создания конечной точки службы виртуальной сети и правила для базы данных SQL][sql-db-vnet-service-endpoint-rule-powershell-md-52d].

## <a name="rest-api-alternative"></a>Альтернативный REST API

На внутреннем уровне командлеты PowerShell для действий виртуальной сети SQL вызывают интерфейсы API RESTFUL. REST API можно вызывать напрямую.

- [Правила виртуальной сети: операции][rest-api-virtual-network-rules-operations-862r]

## <a name="prerequisites"></a>Предварительные требования

У вас уже должна быть подсеть, помеченная определенным *именем типа* конечной точки службы виртуальной сети, относящейся к базе данных SQL.

- В нашем случае именем типа конечной точки является **Microsoft.Sql**.
- Если ваша подсеть, возможно, не помечена именем типа, прочитайте раздел [Проверка того, является ли подсеть конечной точкой][sql-db-vnet-service-endpoint-rule-powershell-md-a-verify-subnet-is-endpoint-ps-100].

<a name="a-portal-steps-for-vnet-rule-200"></a>

## <a name="azure-portal-steps"></a>Инструкции для портала Azure

1. Войдите на [портал Azure][http-azure-portal-link-ref-477t].

1. Найдите и выберите **серверы SQL Server**, а затем выберите свой сервер. В разделе **Безопасность** выберите **брандмауэры и виртуальные сети**.

1. Установите для параметра **Разрешить доступ к службам Azure** значение **выкл**.

    > [!IMPORTANT]
    > Если оставить для элемента управления значение **вкл**., сервер будет принимать данные из любой подсети в границах Azure. Это связь, полученная от одного из IP-адресов, распознаваемых в пределах диапазонов, определенных для центров обработки данных Azure. **При включении** элемента управления в значение On может возникнуть чрезмерный доступ с точки зрения безопасности. Функция конечной точки службы виртуальная сеть Microsoft Azure в координации с функциональностью правил виртуальной сети в базе данных SQL позволяет уменьшить контактную зону безопасности.

1. Выберите **+ Добавить существующий** в разделе **виртуальные сети** .

    ![Снимок экрана, показывающий нажатие кнопки + Добавить существующую (конечная точка подсети, как правило SQL).][image-portal-firewall-vnet-add-existing-10-png]

1. В новой области **Создать/обновить** заполните поля именами ресурсов Azure.

    > [!TIP]
    > Необходимо указать правильный префикс адреса для вашей подсети. Значение **префикса адреса** можно найти на портале. Последовательно выберите **все ресурсы** &gt; **все типы** &gt; **виртуальные сети**. Фильтр отобразит ваши виртуальные сети. Выберите виртуальную сеть, а затем выберите **подсети**. В столбце **диапазон адресов** есть необходимый префикс адреса.

    ![Снимок экрана, показывающий заполнение полей для нового правила.][image-portal-firewall-create-update-vnet-rule-20-png]

1. Нажмите кнопку **ОК** в нижней части панели.

1. Ознакомьтесь с итоговым правилом виртуальной сети на панели **брандмауэр** .

    ![Снимок экрана, показывающий новое правило на панели "брандмауэр".][image-portal-firewall-vnet-result-rule-30-png]

> [!NOTE]
> К правилам применяются следующие статусы или состояния:
>
> - **Готово**. указывает, что инициированная операция выполнена успешно.
> - **Сбой**: указывает, что операция, которую вы инициировали, завершилась ошибкой.
> - **Deleted**: применяется только к операции удаления и указывает, что правило удалено и больше не применяется.
> - **Выполняется**: указывает, что операция выполняется. Старое правило применяется, когда операция находится в этом состоянии.

<a name="anchor-how-to-links-60h"></a>

## <a name="related-articles"></a>Связанные статьи

- [Конечные точки службы виртуальной сети Azure][vm-virtual-network-service-endpoints-overview-649d]
- [Правила брандмауэра уровня сервера и базы данных][sql-db-firewall-rules-config-715d]

## <a name="next-steps"></a>Дальнейшие действия

- [Создание конечной точки службы виртуальной сети и правила виртуальной сети для базы данных SQL с помощью PowerShell][sql-db-vnet-service-endpoint-rule-powershell-md-52d]
- [Правила виртуальной сети. операции][rest-api-virtual-network-rules-operations-862r] с помощью API-ИНТЕРФЕЙСов RESTful

<!-- Link references, to images. -->
[image-portal-firewall-vnet-add-existing-10-png]: ../../sql-database/media/sql-database-vnet-service-endpoint-rule-overview/portal-firewall-vnet-add-existing-10.png
[image-portal-firewall-create-update-vnet-rule-20-png]: ../../sql-database/media/sql-database-vnet-service-endpoint-rule-overview/portal-firewall-create-update-vnet-rule-20.png
[image-portal-firewall-vnet-result-rule-30-png]: ../../sql-database/media/sql-database-vnet-service-endpoint-rule-overview/portal-firewall-vnet-result-rule-30.png

<!-- Link references, to text, Within this same GitHub repo. -->
[arm-deployment-model-568f]: ../../azure-resource-manager/management/deployment-models.md
[expressroute-indexmd-744v]:../index.yml
[rbac-what-is-813s]:../../role-based-access-control/overview.md
[sql-db-firewall-rules-config-715d]:firewall-configure.md
[sql-db-vnet-service-endpoint-rule-powershell-md-52d]:scripts/vnet-service-endpoint-rule-powershell-create.md
[sql-db-vnet-service-endpoint-rule-powershell-md-a-verify-subnet-is-endpoint-ps-100]:scripts/vnet-service-endpoint-rule-powershell-create.md#a-verify-subnet-is-endpoint-ps-100
[vm-configure-private-ip-addresses-for-a-virtual-machine-using-the-azure-portal-321w]: ../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[vm-virtual-network-service-endpoints-overview-649d]: ../../virtual-network/virtual-network-service-endpoints-overview.md
[vpn-gateway-indexmd-608y]: ../../vpn-gateway/index.yml

<!-- Link references, to text, Outside this GitHub repo (HTTP). -->
[http-azure-portal-link-ref-477t]: https://portal.azure.com/
[rest-api-virtual-network-rules-operations-862r]: /rest/api/sql/virtualnetworkrules

<!-- ??2
#### Syntax related articles
- REST API Reference, including JSON
- Azure CLI
- ARM templates
-->
