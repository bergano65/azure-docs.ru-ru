---
title: Конфиденциальные контейнеры в службе Kubernetes Azure (AKS)
description: Сведения о поддержке неизмененных контейнеров в конфиденциальных контейнерах.
services: container-service
author: agowdamsft
ms.topic: article
ms.date: 2/11/2020
ms.author: amgowda
ms.service: container-service
ms.openlocfilehash: bf92e7f28d6a5804886d093671f4b7e33878f1ec
ms.sourcegitcommit: 227b9a1c120cd01f7a39479f20f883e75d86f062
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/18/2021
ms.locfileid: "100652684"
---
# <a name="confidential-containers"></a>Конфиденциальные контейнеры

## <a name="overview"></a>Обзор

Разрешите разработчикам использовать **существующее приложение DOCKER (новое или существующее)** и безопасно запускать его в службе Azure Kubernetes Service (AKS) с помощью поддержки узлов с конфиденциальными вычислениями.

Конфиденциальные контейнеры помогают защитить:

- целостность данных 
- конфиденциальность данных
- целостность кода
- Защита кода контейнера с помощью шифрования
- гарантии на основе оборудования
- разрешить выполнение существующих приложений
- создание аппаратного корня доверия
- Удаление администратора узла, Kubernetes администратора, низкоуровневой оболочки из границы доверия

Надежная среда выполнения на основе оборудования (TEE) — это важный компонент, который используется для предоставления строгих гарантий с помощью измерений оборудования и программного обеспечения от компонентов доверенных вычислительных систем (TCB). Проверки этих измерений помогают проверить ожидаемые вычисления и подтвердить любые изменения в приложениях контейнеров.

Конфиденциальные контейнеры поддерживают пользовательские приложения, разработанные с помощью **Python, Java, Node JS и т. д., или упакованных приложений контейнеров, таких как nginx, кэш Redis, memcache** и т. д., для выполнения без изменений в AKS с конфиденциальными компьютерами.

Конфиденциальные контейнеры — это самый быстрый путь к конфиденциальности контейнеров, который требует только переупаковки существующих приложений контейнера DOCKER и не требует изменения кода приложения. Конфиденциальные контейнеры — это приложения-контейнеры DOCKER, которые упаковываются для запуска в TEE. Некоторые конфиденциальные созидателями контейнеров также предлагают шифрование контейнеров, которое помогает защитить код контейнера во время хранения и транспорта, а также при подключении к узлу. Шифрование контейнеров позволяет продолжить и защитить код или модель, Упакованные в контейнер, с помощью ключа дешифрования, прикрепленного к TEE.

Ниже приведен процесс для конфиденциальных контейнеров от разработки до развертывания ![ конфиденциального контейнера, как обрабатывать.](./media/confidential-containers/how-to-confidential-container.png)

## <a name="confidential-container-enablers"></a>Конфиденциальный созидателями контейнера
Чтобы запустить существующий контейнер DOCKER без изменений, требуется программное обеспечение SGX, чтобы вызовы приложения могли использовать специальный набор инструкций ЦП, чтобы уменьшить контактную зону и не зависеть от гостевой ОС. После упаковки программного обеспечения среды выполнения SGX контейнеры автоматически запускаются в защищенном енклавес, тем самым удаляя гостевую ОС, ОС узла или гипервизор из границы доверия. Это изолированное выполнение на узле (виртуальной машине) с шифрованием данных в памяти, поддерживаемым аппаратным обеспечением, сокращает общую площадь атаки и сокращает число уязвимостей с использованием уровней операционной системы или низкоуровневой оболочки.

Конфиденциальные контейнеры полностью поддерживаются в AKS и включаются с помощью партнеров Azure и проектов Open-Source Software (OSS). Разработчики могут выбирать поставщиков программного обеспечения на основе функций, интеграции со службами Azure и поддержкой средств.

## <a name="partner-enablers"></a>Партнерская созидателями
> [!NOTE]
> Перечисленные ниже решения предлагаются для партнеров Azure и могут повлечь расходы на лицензирование. Проверьте условия использования партнерского программного обеспечения независимо. 

### <a name="anjuna"></a>анжуна

[Анжуна](https://www.anjuna.io/) предоставляет программное обеспечение для платформы SGX, которое позволяет выполнять неизмененные контейнеры в AKS. Узнайте больше о функциях и ознакомьтесь с примерами приложений [здесь](https://www.anjuna.io/microsoft-azure-confidential-computing-aks-lp).

Приступая к работе с примером кэша Redis и настраиваемым приложением Python [здесь](https://www.anjuna.io/microsoft-azure-confidential-computing-aks-lp)

![Процесс Анжуна](./media/confidential-containers/anjuna-process-flow.png)

### <a name="fortanix"></a>Fortanix

[Фортаникс](https://www.fortanix.com/) предлагает разработчикам возможности портала и ИНТЕРФЕЙСОВ командной строки, которые позволяют перенести свои контейнерные приложения и преобразовать их в конфиденциальные контейнеры с поддержкой SGX без необходимости изменения или повторной компиляции приложения. Фортаникс обеспечивает гибкость в работе и управлении самым широким набором приложений, включая существующие приложения, новые приложения анклава и предварительно упакованные приложения. Пользователи могут начать с помощью пользовательского интерфейса [диспетчера вычислительных систем](https://em.fortanix.com/) или [интерфейсов API](https://www.fortanix.com/api/em/) для создания конфиденциальных контейнеров, следуя руководству по [быстрое начало](https://support.fortanix.com/hc/en-us/articles/360049658291-Fortanix-Confidential-Container-on-Azure-Kubernetes-Service) службы Azure Kubernetes.

![Процесс развертывания фортаникс](./media/confidential-containers/fortanix-confidential-containers-flow.png)

### <a name="scone-scontain"></a>С (Сконтаин)

Пользовательская [служба поддерживает политики](https://scontain.com/index.html?lang=en) безопасности, которые могут создавать сертификаты, ключи и секреты, а также гарантирует, что они будут доступны только для аттестацических служб приложения. Таким образом, службы приложения автоматически подтверждают друг друга через TLS — без необходимости изменять приложения и TLS. Это объясняется с помощью простого Flask приложения здесь: https://sconedocs.github.io/flask_demo/  

Он может преобразовывать последние двоичные файлы в приложения, работающие внутри енклавес без необходимости изменения приложения или перекомпиляции этого приложения. А также защищает интерпретируемые языки, такие как Python, **шифруя** как файлы данных, так и файлы кода Python. С помощью политики безопасности "Закон" можно защитить зашифрованные файлы от несанкционированного доступа, изменений и откатов. Как "сконифи" существующее приложение Python описывается [здесь](https://sconedocs.github.io/sconify_image/)

![Поток сконтаин](./media/confidential-containers/scone-workflow.png)

Развертывания на конфиденциальных вычислительных узлах с помощью AKS полностью поддерживаются и интегрируются с другими службами Azure. Начало работы с примером приложения https://sconedocs.github.io/aks/


## <a name="oss-enablers"></a>OSS созидателями 
> [!NOTE]
> Перечисленные ниже решения предлагаются Open-Source проектами и не связаны напрямую с конфиденциальными вычислениями в Azure (ACC) или корпорацией Майкрософт.  

### <a name="graphene"></a>графене

[Графене](https://grapheneproject.io/) — это упрощенная гостевая ОС, предназначенная для запуска одного приложения Linux с минимальными требованиями к узлу. Графене может запускать приложения в изолированной среде с преимуществами, сравнимыми с выполнением полной операционной системы и обладающей хорошей поддержкой средств для преобразования существующего приложения контейнера DOCKER в Графене экранированные контейнеры (ГСК).

Начало работы с примером приложения и развертывание на AKS [здесь](https://graphene.readthedocs.io/en/latest/cloud-deployment.html#azure-kubernetes-service-aks)

### <a name="occlum"></a>окклум
[Окклум](https://occlum.io/) — это надежная, Многопроцессная библиотека (либос) для Intel SGX. Это позволяет устаревшим приложениям работать в SGX с минимальными изменениями в исходном коде. Окклум прозрачно защищает конфиденциальность рабочих нагрузок пользователей, позволяя легко выполнять прогнозы и переходить к существующим приложениям DOCKER.

Окклум поддерживает развертывания AKS. Следуйте инструкциям по развертыванию с различными примерами [приложений.](https://github.com/occlum/occlum/blob/master/docs/azure_aks_deployment_guide.md)


## <a name="confidential-containers-demo"></a>Демонстрация конфиденциальных контейнеров
Просматривайте демонстрацию конфиденциальной информации о здравоохранения с конфиденциальными контейнерами. Пример доступен [здесь](https://docs.microsoft.com/azure/architecture/example-scenario/confidential/healthcare-inference). 

> [!VIDEO https://www.youtube.com/embed/PiYCQmOh0EI]


## <a name="get-in-touch"></a>Получите сенсорный ввод

У вас есть вопросы с вашей реализацией или хотите стать включенным? Отправка сообщения электронной почты команде разработчиков **acconaks@microsoft.com**

## <a name="reference-links"></a>Ссылки на ссылки

[Аттестация Microsoft Azure](../attestation/overview.md)

[DCsv2 виртуальные машины](virtual-machine-solutions.md)

[Служба Azure Kubernetes (AKS)](../aks/intro-kubernetes.md)
