---
title: Пользовательский интерфейс Microsoft Azure StorSimple Диспетчер данных
description: Описывает применение пользовательского интерфейса для службы Диспетчера данных StorSimple
author: alkohli
ms.service: storsimple
ms.topic: conceptual
ms.date: 01/16/2018
ms.author: alkohli
ms.openlocfilehash: 85be49ad88ac62d90235c3da6b89b0da6a11487c
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "78933758"
---
# <a name="manage-the-storsimple-data-manager-service-in-azure-portal"></a>Управление службой диспетчера данных StorSimple на портале Azure

В этой статье объясняется, как применять пользовательский интерфейс диспетчера данных StorSimple для преобразования данных, хранящихся на устройствах StorSimple серии 8000. Преобразованные данные могут затем использоваться другими службами Azure, такими как службы мультимедиа Azure, Azure HDInsight, Машинное обучение Azure и Azure Когнитивный поиск.


## <a name="use-storsimple-data-transformation"></a>Использование преобразования данных StorSimple

Диспетчер данных StorSimple — это ресурс, в котором создаются экземпляры преобразования данных. Служба преобразования данных позволяет преобразовывать данные из формата StorSimple в собственный формат в больших двоичных объектах или файлах Azure. Чтобы преобразовать данные собственного формата StorSimple, необходимо указать сведения о вашем устройстве StorSimple серии 8000 и данных, которые нужно преобразовать.

### <a name="create-a-storsimple-data-manager-service"></a>Создание новой службы диспетчера данных StorSimple

Для создания нового экземпляра службы диспетчера данных StorSimple выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com/) с помощью данных своей учетной записи Майкрософт.

2. Щелкните **+ Create a resource** (+ Создать ресурс) и выполните поиск по строке "Диспетчер данных StorSimple".

    ![Создание службы диспетчера данных StorSimple 1](./media/storsimple-data-manager-ui/create-service-1.png)

3. Щелкните значок диспетчера данных StorSimple, а затем нажмите кнопку **Create** (Создать).
    
    ![Создание службы диспетчера данных StorSimple 2](./media/storsimple-data-manager-ui/create-service-3.png)

3. Для новой службы укажите следующее:

   1. Укажите уникальное **имя службы** для диспетчера данных StorSimple. Здесь необходимо указать понятное имя, пригодное для идентификации службы. Имя может содержать от 3 до 24 знаков, среди которых могут быть буквы, цифры и дефисы. Имя должно начинаться и заканчиваться буквой или цифрой.

   2. Выберите **подписку** из раскрывающегося списка. Подписка привязана к учетной записи для выставления счетов. Это поле будет автоматически заполнено (без возможности выбора) при наличии только одной подписки.

   3. Выберите имеющуюся группу ресурсов или создайте новую. Дополнительные сведения см. в статье [Рекомендации по группам ресурсов Azure](https://azure.microsoft.com/documentation/articles/virtual-machines-windows-infrastructure-resource-groups-guidelines/).

   4. Укажите для службы **расположение**, в котором находятся учетные записи хранения и служба диспетчера данных StorSimple. Служба диспетчера устройств StorSimple, служба диспетчера данных и связанная учетная запись хранения должны находиться в поддерживаемых регионах.
    
   5. Установите флажок **Закрепить на панели мониторинга**, чтобы настроить быстрый доступ к этой службе с панели мониторинга.
    
   6. Нажмите кнопку **Создать**.

      ![Создание службы диспетчера данных StorSimple 3](./media/storsimple-data-manager-ui/create-service-4.png)

Создание службы займет несколько минут. После успешного создания службы вы получите уведомление и откроется новая служба.

### <a name="create-a-data-transformation-job-definition"></a>Создание определения задания для преобразования данных

В службе диспетчера данных StorSimple нужно создать определение задания для преобразования данных. Определение задания содержит информацию о том, какие данные StorSimple вы хотите переместить в учетную запись хранения в собственном формате. Создав определение задания, можно запустить его еще раз, установив другие настройки среды выполнения.

Выполните следующие действия, чтобы создать определение задания.

1. Перейдите к созданной службе. Перейдите к разделу **Управление > Job definitions (Определения заданий)**.

2. Щелкните **+ Определение задания**.

    ![Кнопка "+ Определение задания".](./media/storsimple-data-manager-ui/create-job-definition-1.png)

3. Укажите имя определения задания. Длина имени должна составлять от 3 до 63 знаков. Имя может содержать буквы верхнего и нижнего регистра, цифры и дефисы.

4. Укажите расположение для выполнения задания. Это расположение может отличаться от того, в котором развернута служба.

5. Щелкните **Source** (Источник), чтобы указать репозиторий исходных данных.

    ![Настройка репозитория исходных данных](./media/storsimple-data-manager-ui/create-job-definition-2.png)

6. Так как это новая служба диспетчера данных, репозитории данных еще не настроены. В колонке **Configure data source** (Настройка источника данных) укажите сведения об устройстве StorSimple серии 8000 и нужные данные.

   Чтобы добавить диспетчер устройств StorSimple в качестве репозитория данных, щелкните **Add new** (Добавить новый) в раскрывающемся списке репозиториев данных, а затем щелкните **Add Data Repository** (Добавить репозиторий данных).

    ![Добавление нового репозитория данных](./media/storsimple-data-manager-ui/create-job-definition-3.png)
  
   1. Выберите **Диспетчер серии StorSimple 8000** в качестве типа репозитория данных.
    
   2. Введите понятное имя для репозитория исходных данных.
    
   3. Из раскрывающегося списка выберите подписку, связанную со службой диспетчера устройств StorSimple.
    
   4. Укажите имя диспетчера устройств StorSimple в поле **Ресурс**.

   5. Введите ключ **шифрования данных службы** для службы диспетчера устройств StorSimple. 

      ![Настройка репозитория исходных данных 1](./media/storsimple-data-manager-ui/create-job-definition-4.png)

      Когда закончите, нажмите кнопку **ОК**. Это нужно, чтобы сохранить репозиторий данных. Повторно используйте этот диспетчер устройств StorSimple в других определениях задания, чтобы не вводить эти параметры снова. Только что созданный репозиторий данных появится в раскрывающемся списке через несколько секунд после нажатия кнопки **ОК**.

7. Из раскрывающегося списка для поля **Репозиторий данных** выберите созданный вами репозиторий данных. 

   1. Введите имя устройства StorSimple серии 8000, в котором содержатся необходимые данные.

   2. Укажите имя тома, находящегося на устройстве StorSimple, в котором содержатся необходимые данные.

   3. В подразделе **Фильтр** введите корневой каталог, содержащий нужные данные в формате _\MyRootDirectory\Data_. Буквы диска, например _\C:\Data_, не поддерживаются. Здесь можно также добавить фильтры файлов.

   4. Служба преобразования данных работает только с последним моментальным снимком данных, которые передаются в Azure.

   5. Нажмите кнопку **ОК**.

      ![Настройка репозитория исходных данных 2](./media/storsimple-data-manager-ui/create-job-definition-8.png)

8. Целевой репозиторий данных необходимо настроить. Выберите учетную запись хранения, чтобы поместить файлы в большие двоичные объекты в этой учетной записи. В раскрывающемся списке выберите **Добавить новый** и затем **Настройки**.

9. Выберите тип целевого репозитория, который необходимо добавить, и другие параметры этого репозитория.

    Если выбрать целевой тип учетной записи хранения, можно указать понятное имя, подписку (выбрать те же данные, что и у службы, или другие) и учетную запись хранения.
        ![Настройка целевого репозитория данных 1](./media/storsimple-data-manager-ui/create-job-definition-10.png)

    При запуске задания создается очередь хранилища. Эта очередь по мере готовности заполняется сообщениями о преобразованных больших двоичных объектах. Имя этой очереди совпадает с именем определения задания.
    
10. После добавления репозитория данных подождите несколько минут.
    
    1. Выберите репозиторий, созданный в качестве целевого объекта, из раскрывающегося списка в поле **Target account name** (Конечная учетная запись).

    2. Выберите тип хранилища больших двоичных объектов или файлов. Укажите имя контейнера хранилища, в котором хранятся преобразованные данные. Нажмите кнопку **ОК**.

        ![Настройка учетной записи хранения целевого репозитория данных](./media/storsimple-data-manager-ui/create-job-definition-16.png)

11. Вы также можете установить флажок внизу окна, чтобы увидеть приблизительную длительность выполнения задания перед его запуском. Щелкните **OK**, чтобы создать определение задания. Определение задания выполнено. Вы можете неоднократно использовать это определение задания в пользовательском интерфейсе с различными параметрами среды выполнения.

    ![Завершение работы с определением задания](./media/storsimple-data-manager-ui/create-job-definition-13.png)

    Определение только что созданного задания добавлено в список определений заданий для этой службы.

### <a name="run-the-job-definition"></a>Запуск определения задания

Определение задания нужно запускать каждый раз, когда потребуется переместить данные из StorSimple в учетную запись хранения, указанную в этом определении. В среде выполнения некоторые параметры указываются по-разному. Для этого необходимо выполнить следующие шаги:

1. Выберите нужную службу диспетчера данных StorSimple и перейдите в раздел **Управление > Job definitions (Определения заданий)**. Выберите и щелкните определение задания, которое требуется запустить.
     
     ![Начало запуска задания 1](./media/storsimple-data-manager-ui/start-job-run1.png)

2. Нажмите кнопку **Запустить сейчас**.
     
     ![Начало запуска задания 2](./media/storsimple-data-manager-ui/start-job-run2.png)

3. Щелкните **Параметры запуска**, чтобы изменить параметры для конкретного запуска этого задания. Щелкните **ОК** и нажмите кнопку **Запустить**, чтобы выполнить задание.

    ![Начало запуска задания 3](./media/storsimple-data-manager-ui/start-job-run3.png)

4. Чтобы отслеживать это задание, перейдите к разделу **Jobs** (Задания) в диспетчере данных StorSimple. Помимо мониторинга заданий в колонке **Задания**, вы можете отслеживать сообщения в очереди хранилища, которые добавляются каждый раз при перемещении файла из StorSimple в учетную запись хранения.

    ![Начало запуска задания 4](./media/storsimple-data-manager-ui/start-job-run4.png)

### <a name="view-logs-after-job-completion"></a>Просмотр журналов после завершения задания

После завершения задания можно просмотреть его состояние. Состояние задания может быть **выполнено успешно**, **частично успешно** и **завершилось сбоем**. Вы можете просмотреть список файлов, которые были успешно скопированы, и файлы, которые не удалось скопировать. Эти списки доступны в контейнере с именем **storsimple-Data-Manager-joblogs** в целевой учетной записи хранения. В этом контейнере можно найти папку с тем же именем, что и у определения задания. В этом случае папка будет создана для каждого запуска задания, в котором будут содержаться списки. Имя этой папки будет идентификатором GUID задания, которое можно получить на странице сведений о задании. Кроме того, в большинстве случаев вы увидите ссылку на журналы копирования на странице задания.
В этой папке будет два набора CSV-файлов. Все файлы, начинающиеся с **копиедфилелист...** , будут содержать список успешно скопированных файлов. Все файлы, начинающиеся с **фаиледфилелист...** содержат файлы, которые не удалось скопировать, вместе с сообщением об ошибке.


## <a name="next-steps"></a>Дальнейшие шаги

[Использование .NET SDK для запуска заданий диспетчера данных StorSimple](storsimple-data-manager-dotnet-jobs.md).
