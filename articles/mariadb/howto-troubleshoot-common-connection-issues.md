---
title: Устранение проблем с подключением к Базе данных Azure для MariaDB | Документация Майкрософт
description: Узнайте, как устранить проблемы с подключением к Базе данных Azure для MariaDB.
keywords: mariadb connection,connection string,connectivity issues,transient error,connection error
author: jan-eng
ms.author: janeng
ms.service: mariadb
ms.topic: conceptual
ms.date: 11/09/2018
ms.openlocfilehash: f5c5a980a99bac3bf02eaaf9c072861ca753d449
ms.sourcegitcommit: 2d0fb4f3fc8086d61e2d8e506d5c2b930ba525a7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/18/2019
ms.locfileid: "57860455"
---
# <a name="troubleshoot-connection-issues-to-azure-database-for-mariadb"></a>Устранение проблем с подключением к Базе данных Azure для MariaDB

Проблемы с подключением могут возникнуть в связи с ниже перечисленными причинами.

* Параметры брандмауэра
* Время ожидания подключения.
* Неправильные сведения для входа.
* Достигнуто максимальное ограничение для некоторых ресурсов Базы данных Azure для MariaDB.
* Проблемы с инфраструктурой службы.
* Обслуживание выполняется в службе.
* Распределение вычислительных ресурсов сервера изменяется путем масштабирования количества виртуальных ядер или перехода на другой уровень службы.

В общих чертах проблемы с подключением к Базе данных Azure для MariaDB можно классифицировать следующим образом:

* временные ошибки (кратковременные или возникающие периодически);
* постоянные или регулярно возникающие ошибки.

## <a name="troubleshoot-transient-errors"></a>Устранение временных ошибок

Временные ошибки возникают при выполнении обслуживания, если система сталкивается с ошибкой оборудования или программного обеспечения, или при смене виртуальных ядер или уровня обслуживания сервера. Служба "База данных Azure для MariaDB" имеет встроенный высокий уровень доступности и позволяет автоматически устранить эти проблемы. Тем не менее приложение теряет подключение к серверу на некоторое время (не более чем на 60 секунд). Устранение неполадок некоторых событий иногда требует больше времени, например, когда большая транзакция приводит к длительному восстановлению.

### <a name="steps-to-resolve-transient-connectivity-issues"></a>Порядок устранения временных проблем подключения

1. Проверьте [панель мониторинга Microsoft Azure](https://azure.microsoft.com/status) на наличие каких-либо известных сбоев, произошедших в то время, когда приложение сообщало об ошибках.
2. Приложения, подключающиеся к облачной службе, например База данных Azure для MariaDB, должны ожидать временные ошибки и реализовывать логику повторов для обработки этих ошибок, а не отображать их как ошибки приложения для пользователей. Рекомендации и руководство по обработке временных ошибок см. в статье [Handling of transient connectivity errors for Azure Database for MariaDB](concepts-connectivity.md) (Обработка временных ошибок подключения к Базе данных Azure для MariaDB).
3. Если база данных близка к исчерпанию доступных ресурсов, ошибки могут быть временными проблемами подключения. Ознакомьтесь со статьей [Limitations in Azure Database for MariaDB](concepts-limits.md) (Ограничения в Базе данных Azure для MariaDB).
4. Если проблемы подключения остаются или интервал, во время которого приложение обнаруживает ошибку, превышает 60 секунд, а также если в определенный день такая ошибка возникает многократно, зарегистрируйте запрос на поддержку Azure, нажав **Получить поддержку** на сайте [Поддержка Azure](https://azure.microsoft.com/support/options) .

## <a name="troubleshoot-persistent-errors"></a>Устранение постоянных ошибок

При подключении к Базе данных Azure для MariaDB в приложении постоянно возникают сбои по перечисленным ниже причинам:

* Настройка брандмауэра: Сервер Базы данных Azure для MariaDB или клиентский брандмауэр блокирует подключения.
* Перенастройка сети на стороне клиента: добавлен новый IP-адрес или прокси-сервер.
* Ошибка пользователя. Например, при вводе параметры подключения, например имя сервера в строке подключения или отсутствием  *\@servername* суффикса в имени пользователя.

### <a name="steps-to-resolve-persistent-connectivity-issues"></a>Порядок устранения постоянных проблем подключения

1. Настройте [правила брандмауэра](howto-manage-firewall-portal.md) , разрешив предоставление IP-адреса клиенту. Для временных целей тестирования настройте правило брандмауэра, используя 0.0.0.0 как начало диапазона IP-адресов и 255.255.255.255 как завершение. Откроется сервер для всех IP-адресов. Если это позволяет устранить проблемы с подключением, удалите это правило и создайте правило брандмауэра для надлежащим образом ограниченных IP-адресов или диапазона адресов.
2. На всех брандмауэрах между клиентом и Интернетом откройте порт 3306 для входящих соединений.
3. Проверьте строку подключения и другие параметры подключения. Ознакомьтесь со статьей [How to connect applications to Azure Database for MariaDB](howto-connection-string.md) (Как подключить приложения к Базе данных Azure для MariaDB).
4. Проверьте работоспособность службы на панели мониторинга. Если присутствует региональный сбой, см. статью [Overview of business continuity with Azure Database for MariaDB](concepts-business-continuity.md) (Обзор обеспечения непрерывности бизнес-процессов с помощью Базы данных Azure для MariaDB), чтобы выполнить инструкции по восстановлению в новом регионе.

## <a name="next-steps"></a>Дальнейшие действия

* [Обработка временных ошибок подключения к Базе данных Azure для MariaDB](concepts-connectivity.md)
