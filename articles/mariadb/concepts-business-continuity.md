---
title: Непрерывность бизнес-процессов — база данных Azure для MariaDB
description: Сведения о непрерывности бизнес-процессов (восстановление на момент времени, сбой центра обработки данных, геовосстановление) при использовании службы "база данных Azure для MariaDB".
author: ajlam
ms.author: andrela
ms.service: mariadb
ms.topic: conceptual
ms.date: 7/7/2020
ms.openlocfilehash: 183ece0d82431a8a961902d75d2fc24b013bc97b
ms.sourcegitcommit: dabd9eb9925308d3c2404c3957e5c921408089da
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2020
ms.locfileid: "86252272"
---
# <a name="understand-business-continuity-in-azure-database-for-mariadb"></a>Сведения о непрерывности бизнес-процессов в базе данных Azure для MariaDB

В этой статье описываются возможности, предоставляемые базой данных Azure для MariaDB для обеспечения непрерывности бизнес-процессов и аварийного восстановления. Вы узнаете о способах восстановления после аварийных событий, которые могут приводить к потере данных или недоступности базы данных и приложений. Здесь также содержатся сведения о том, как действовать в ситуациях, когда ошибка пользователя или приложения нарушает целостность данных, происходит сбой региона Azure или приложение требует обслуживания.

## <a name="features-that-you-can-use-to-provide-business-continuity"></a>Функции, которые можно использовать для обеспечения непрерывности бизнес-процессов

Служба "База данных Azure для MariaDB" предоставляет функции обеспечения непрерывности бизнес-процессов, включая автоматическое резервное копирование и возможность для пользователей инициировать геовосстановление. У каждой из этих функций разные параметры оценки времени восстановления (ERT) и возможной потери данных. Узнав, на что влияют эти параметры, вы сможете выбирать те, которые вам подходят, и использовать их вместе в различных сценариях. При разработке плана обеспечения непрерывности бизнес-процессов нужно понимать, какое максимальное время до полного восстановления приложения после аварийного события допустимо. Это целевое время восстановления (RTO). Необходимо также понимать, какой максимальный объем потери последних обновлений данных (т. е. за какой интервал времени) в приложении допустим при восстановлении после аварийного события. Это целевая точка восстановления (RPO).

В приведенной ниже таблице сравниваются ERT и RPO для доступных функций:

| **Возможность** | **Базовая** | **общего назначения** | **Оптимизированные для операций в памяти** |
| :------------: | :-------: | :-----------------: | :------------------: |
| Восстановление до точки во времени из резервной копии | Любая точка восстановления в пределах срока хранения | Любая точка восстановления в пределах срока хранения | Любая точка восстановления в пределах срока хранения |
| Геовосстановление из геореплицированных резервных копий | Не поддерживается | ERT < 12 ч<br/>RPO < 1 ч | ERT < 12 ч<br/>RPO < 1 ч |

> [!IMPORTANT]
> Если вы удалите сервер, все содержащиеся на нем базы данных также будут удалены без возможности восстановления. Удаленный сервер восстановить невозможно.

## <a name="recover-a-server-after-a-user-or-application-error"></a>Восстановление сервера после ошибки пользователя или приложения

Резервные копии службы можно использовать для восстановления сервера из различных событий, которые могут привести к сбоям. Например, пользователь может случайно удалить данные, важную таблицу или даже всю базу данных, приложение может случайно перезаписать важные данные неверной информацией из-за внутренней ошибки, и т. д.

Можно выполнить восстановление на момент времени, чтобы создать копию сервера на известный момент работоспособности. Этот момент должен находиться в пределах срока хранения резервной копии, который был настроен для сервера. После восстановления данных на новый сервер можно либо заменить исходный сервер только что восстановленным, либо скопировать необходимые данные с восстановленного сервера на исходный.

## <a name="recover-from-an-azure-regional-data-center-outage"></a>Восстановление после отключения регионального центра обработки данных Azure

В редких случаях возможен сбой центра обработки данных Azure. Такой сбой вызывает нарушение работы компании, которое может длиться от нескольких минут до нескольких часов.

Один из вариантов — дождаться возобновления работы сервера после того, как сбой центра обработки данных будет устранен. Это работает для приложений, сервер которых можно отключить на некоторое время, например для среды разработки. После того как произошел сбой центра обработки данных, неизвестно, как долго будет длиться простой. Поэтому этот вариант используется, только если сервер некоторое время не нужен.

Другой вариант — использовать функцию геовосстановления службы "База данных Azure для MariaDB", которая восстанавливает сервер с использованием геоизбыточных резервных копий. Эти резервные копии доступны даже в том случае, если регион размещения сервера отключен. Из этих копий можно выполнить восстановление в любом другом регионе и восстановить подключение сервера.

> [!IMPORTANT]
> Геовосстановление возможно только в том случае, если сервер был подготовлен с геоизбыточным хранилищем резервных копий.

## <a name="cross-region-read-replicas"></a>Реплики чтения между регионами

Для повышения непрерывности бизнес-процессов и планирования аварийного восстановления можно использовать реплики чтения в разных регионах. Реплики чтения обновляются асинхронно с помощью технологии репликации двоичных журналов MariaDB. Дополнительные сведения о репликах чтения, доступных регионах и отработки отказа см. в [статье основные понятия чтения реплик](concepts-read-replicas.md). 

## <a name="faq"></a>ВОПРОСЫ И ОТВЕТЫ
### <a name="where-does-azure-database-for-mariadb-store-customer-data"></a>Где база данных Azure для MariaDB хранит данные клиента?
По умолчанию база данных Azure для MariaDB не перемещает и не хранит данные клиента вне региона, в котором они развернуты. Тем не менее клиенты могут дополнительно включить [геоизбыточные резервные копии](concepts-backup.md#backup-redundancy-options) или создать [реплику чтения между регионами](concepts-read-replicas.md#cross-region-replication) для хранения данных в другом регионе.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения об [автоматической архивации в базе данных Azure для MariaDB](concepts-backup.md).
- Дополнительные сведения см. в статьях [Как заархивировать и восстановить сервер в базе данных Azure для PostgreSQL с помощью портала Azure](howto-restore-server-portal.md) или [Как выполнить резервное копирование и восстановление сервера в базе данных Azure для PostgreSQL с помощью Azure CLI](howto-restore-server-cli.md).
- Сведения о [репликах чтения в базе данных Azure для MariaDB](concepts-read-replicas.md).