---
title: Язык запросов
titleSuffix: Azure Digital Twins
description: Основные сведения о языке запросов Azure Digital двойников.
author: baanders
ms.author: baanders
ms.date: 11/19/2020
ms.topic: conceptual
ms.service: digital-twins
ms.custom: contperfq2
ms.openlocfilehash: 89e95b0c56ce5603096fb1ac9af74cb0ad53ee6b
ms.sourcegitcommit: cd9754373576d6767c06baccfd500ae88ea733e4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2020
ms.locfileid: "94955231"
---
# <a name="about-the-query-language-for-azure-digital-twins"></a>О языке запросов для Azure Digital двойников

Вспомним, что Центр цифрового двойников Azure — это [двойника граф](concepts-twins-graph.md), созданный на основе цифровых двойников и отношений. 

Этот граф можно запросить для получения сведений о цифровых двойников и отношениях, которые она содержит. Эти запросы написаны на пользовательском языке запросов, похожем на SQL, который называется **языком запросов Azure Digital двойников**. Это похоже на [язык запросов центра Интернета вещей](../iot-hub/iot-hub-devguide-query-language.md) со многими сравнимыми функциями.

В этой статье описываются основы языка запросов и его возможностей. Более подробные примеры синтаксиса запросов и инструкции по выполнению запросов см. в разделе [*инструкции. запрос к графу двойника*](how-to-query-graph.md).

## <a name="about-the-queries"></a>Сведения о запросах

Вы можете использовать язык запросов Microsoft Digital двойников для получения цифровых двойников в соответствии с их...
* свойства (включая [свойства тегов](how-to-use-tags.md))
* модели
* relationships
  - свойства связей

Чтобы отправить запрос в службу из клиентского приложения, вы будете использовать [**API запросов**](/rest/api/digital-twins/dataplane/query)цифровых двойников Azure. Одним из способов использования API является один из [пакетов SDK](how-to-use-apis-sdks.md#overview-data-plane-apis) для Azure Digital двойников.

## <a name="reference-expressions-and-conditions"></a>Справочник: выражения и условия

В этом разделе описываются операторы и функции, доступные для написания запросов Azure Digital двойников. Примеры запросов, демонстрирующих использование этих функций, см. в разделе Практические руководства. [*запрос к графу двойника*](how-to-query-graph.md).

> [!NOTE]
> Все операции с запросами цифровых двойников Azure учитывают регистр, поэтому следует использовать точные имена, определенные в моделях. Если имена свойств написаны с ошибками или имеют неправильный регистр, результирующий набор будет пустым без возвращаемых ошибок.

### <a name="operators"></a>Операторы

Поддерживаются следующие операторы:

| Семейство | Операторы |
| --- | --- |
| Логические |`AND`, `OR`, `NOT` |
| Сравнение | `=`, `!=`, `<`, `>`, `<=`, `>=` |
| Содержит | `IN`, `NIN` |

### <a name="functions"></a>Функции

Поддерживаются следующие функции проверки и приведения типов:

| Компонент | Описание |
| -------- | ----------- |
| `IS_DEFINED` | Возвращает логическое значение, указывающее, назначено ли свойству значение. Это поддерживается только в том случае, если значение является типом-примитивом. Типы-примитивы включают строку, логическое значение, число или `null` . `DateTime`, типы объектов и массивы не поддерживаются. |
| `IS_OF_MODEL` | Возвращает логическое значение, указывающее, соответствует ли указанный двойника указанному типу модели. |
| `IS_BOOL` | Возвращает логическое значение, указывающее, является ли указанное выражение логическим значением. |
| `IS_NUMBER` | Возвращает логическое значение, указывающее, является ли указанное выражение числовым значением. |
| `IS_STRING` | Возвращает логическое значение, указывающее, является ли указанное выражение строковым значением. |
| `IS_NULL` | Возвращает логическое значение, указывающее, является ли указанное выражение значением Null. |
| `IS_PRIMITIVE` | Возвращает логическое значение, указывающее, является ли указанное выражение примитивом (строкой, логическим значением, числовым значением или `null`). |
| `IS_OBJECT` | Возвращает логическое значение, указывающее, является ли указанное выражение объектом JSON. |

Поддерживаются следующие строковые функции:

| Компонент | Описание |
| -------- | ----------- |
| `STARTSWITH(x, y)` | Возвращает значение логического типа, указывающее, начинается ли первое строковое выражение вторым. |
| `ENDSWITH(x, y)` | Возвращает значение логического типа, указывающее, заканчивается ли первое строковое выражение вторым. |

## <a name="query-limitations"></a>Ограничения запросов

В этом разделе описываются ограничения языка запросов.

* Время: возможна задержка до 10 секунд, прежде чем изменения в экземпляре будут отражены в запросах. Например, если выполнить операцию, например создание или удаление двойников с помощью API Дигиталтвинс, результат может быть немедленно отражен в запросах API запросов. Для разрешения этой проблемы достаточно ожидать короткий период.
* В инструкции не поддерживаются вложенные запросы `FROM` .
* `OUTER JOIN` семантика не поддерживается, то есть если связь имеет нулевой ранг, то вся строка удаляется из выходного результирующего набора.
* Глубина обхода графа ограничена пятью `JOIN` уровнями на запрос.
* Источник для `JOIN` операций ограничен: запрос должен объявить двойников, где начинается запрос.

## <a name="next-steps"></a>Следующие шаги

Узнайте, как создавать запросы и просматривать примеры кода клиента в разделе "инструкции. Создание [*запросов к графу двойника"*](how-to-query-graph.md).