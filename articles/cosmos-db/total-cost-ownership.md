---
title: Совокупная стоимость владения (TCO) при использовании Azure Cosmos DB
description: В этой статье сравнивается совокупная стоимость владения Azure Cosmos DB с IaaS и локальными базами данных
author: rimman
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 11/20/2018
ms.author: rimman
ms.openlocfilehash: a15a704cfba9260daac0cd5edfdf8b4566348628
ms.sourcegitcommit: 1c1f258c6f32d6280677f899c4bb90b73eac3f2e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2018
ms.locfileid: "53263449"
---
# <a name="total-cost-of-ownershiptco-with-azure-cosmos-db"></a>Совокупная стоимость владения (TCO) при использовании Azure Cosmos DB

В Azure Cosmos DB обеспечена высокоточная настройка мультитенантности и функции управления ресурсами. Такой подход позволяет Azure Cosmos DB работать со значительно меньшими затратами и помогать пользователям экономить. Сейчас Azure Cosmos DB поддерживает более 280 пользовательских рабочих нагрузок на одном компьютере с постоянно повышающейся плотностью, а также тысячи клиентских рабочих нагрузок в пределах кластера. Она распределяет нагрузку для реплик рабочих нагрузок клиентов по разным компьютерам в одном кластере и между несколькими кластерами в центре обработки данных. Дополнительные сведения см. в разделе [Azure Cosmos DB: Pushing the frontier of globally distributed databases](https://azure.microsoft.com/blog/azure-cosmos-db-pushing-the-frontier-of-globally-distributed-databases/) (Azure Cosmos DB: новый уровень разработки глобальных распределенных баз данных). Благодаря управлению ресурсами, мультитенантности и встроенной интеграции с остальной инфраструктурой Azure, Azure Cosmos DB в среднем в 4–6 раз дешевле MongoDB, Cassandra и других NoSQL с открытым кодом, работающих в IaaS, а также почти в 10 раз дешевле ядер СУБД, работающих локально. См. документ [The total cost of (non) ownership of a NoSQL database cloud service](https://documentdbportalstorage.blob.core.windows.net/papers/11.15.2017/NoSQL%20TCO%20paper.pdf) (Совокупная стоимость (не)владения облачной службой баз данных NoSQL).

Решения для баз данных NoSQL с открытым кодом, такие как Apache Cassandra, MongoDB, HBase, разработаны для работы в локальном режиме. Они предлагаются как управляемая служба и эквивалентны шаблону Resource Manager с базой данных арендатора для управления подготовленными кластерами и поддержки мониторинга. Использование архитектур NoSQL с открытым кодом сопряжено со значительными операционными расходами, а поиск опытных специалистов может быть трудоемким и дорогостоящим. Azure Cosmos DB — полностью управляемая облачная служба, которая позволяет разработчикам сосредоточиться на бизнес-инновациях, а не на управлении инфраструктурой базы данных и ее обслуживании. 

В отличие от оптимизированной для облака службы баз данных Azure Cosmos DB, основными принципами архитектуры ядер СУБД NoSQL с открытым кодом не являются функции управления ресурсами или высокоточная настройка мультитенантности. Ядра СУБД NoSQL с открытым кодом, такие как Cassandra и MongoDB, основаны на том принципе, что все ресурсы виртуальной машины, на которой они выполняются, доступны им для использования. Многие из таких ядер СУБД не могут функционировать, если объем ресурсов ниже определенного порога. Например, если используются небольшие экземпляры виртуальных машин, когда СУБД доступны в рекомендованных поставщиками конфигурациях, предполагающих зачастую крупномасштабные виртуальные машины с высокой стоимостью. Таким образом, нельзя разместить NoSQL с открытым кодом или любое другое локальное ядро СУБД и сделать его доступным с использованием модели начисления затрат на основе потребления, например количества запросов в секунду или потребляемого объема хранилища.

## <a name="total-cost-of-ownership-of-azure-cosmos-db"></a>Совокупная стоимость владения Azure Cosmos DB 

Бессерверная модель подготовки Azure Cosmos DB устраняет необходимость подготавливать лишние ресурсы инфраструктуры базы данных. Ресурсы Azure Cosmos DB предоставляются без необходимости в специализированных конфигурациях или лицензировании. В результате приложения на основе Azure Cosmos DB можно запускать с экономией совокупной стоимости владения до 70 процентов по сравнению с базами данных NoSQL с открытым кодом. Примеры реальных ситуаций см. на сайте [сценариев использования клиентами](https://customers.microsoft.com/en-us/search?sq=Cosmos%20DB&ff=&p=0&so=story_publish_date%20desc). Другие преимущества модели ценообразования Azure Cosmos DB:

* **Значительная рентабельность.** Рыночные аналитики, клиенты и партнеры подтвердили значительную рентабельность всех возможностей, предоставляемых Azure Cosmos DB, по сравнению с тем, что клиенты могут получить при реализации этих решений собственными средствами или с помощью других поставщиков. Такие функции баз данных, как глобальное распределение, несколько источников, четко определенные и интуитивно понятные модели согласованности, а также автоматическое индексирование существенно упрощаются при использовании Azure Cosmos DB. Оно не сопряжено с какими-либо трудностями, накладными расходами или простоями.

* **Не требуется администрирование DevOps NoSQL.** С Azure Cosmos DB не нужно задействовать DevOps для управления развернутыми службами, обслуживания, масштабирования или исправления. Можно выполнять все рабочие нагрузки, которые работали бы с кластером NoSQL с открытым кодом, размещенным в локальной или облачной инфраструктуре.

![Стоимость владения Azure Cosmos DB](./media/total-cost-ownership/tco.png)

* **Возможность гибкого масштабирования.** Пропускную способность Azure Cosmos DB можно масштабировать в обоих направлениях, что позволяет снизить совокупную стоимость владения в периоды низкой нагрузки. Кластеры NoSQL с открытым кодом, развернутые в облачной инфраструктуре, поддерживают ограниченную эластичность, а локальное развертывание не является эластичным по определению. Если в Azure Cosmos DB подготовить больше пропускной способности, она гарантированно масштабируется линейно. Эта гарантия подкрепляется финансовыми соглашениями об уровне обслуживания на уровне 99-го процентиля в любом масштабе.

* **Экономия за счет масштаба.** Управляемая служба, например Azure Cosmos DB, работает с большим числом узлов, интегрированных собственными средствами с сетями, системами хранения и вычислительными ресурсами. Большой масштаб и стандартизация Azure Cosmos DB позволяют экономить затраты.

* **Оптимизировано для облака.** Azure Cosmos DB разработана с нуля на основе высокоточной настройки мультитенантности и изоляции производительности. Это позволяет оптимально размещать, выполнять и балансировать тысячи арендаторов и рабочих нагрузок между кластерами и центрами обработки данных. Напротив, текущее поколение баз данных NoSQL с открытым кодом работает локально. При этом предполагается, что вся виртуальная машина выполняет рабочую нагрузку одного арендатора. Также эти базы данных не предназначены для использования инфраструктуры и оборудования поставщика облачных услуг в полной мере. Например, в ядре СУБД NoSQL с открытым кодом не учитываются различия между простоем виртуальной машины и регулярным обновлением образа, или тот факт, что диск ценовой категории "Премиум" уже подвергается трехсторонней репликации. Оно не позволяет воспользоваться этими преимуществами и обеспечить преимущества и экономию клиентам.

* **Плата взимается за час.** За крупномасштабные рабочие нагрузки, которые нужно масштабировать в любой момент времени, плата взимается только в почасовом режиме. Рабочие нагрузки на приложение обычно изменяются в зависимости от времени года и данных, запрос которых выполняется. С помощью Azure Cosmos DB можно масштабировать нагрузки в обоих направлениях и платить только за то, что вам нужно. С локальными или размещенными в IaaS системами эту модель реализовать нельзя, так как нет способа выводить оборудование из эксплуатации каждый час. В таких случаях с Azure Cosmos DB потенциально можно сэкономить в среднем от 10 до 14 раз.

* **Множество возможностей доступно бесплатно.** В Azure Cosmos DB рабочие нагрузки записи значительно дешевле по сравнению с альтернативными службами баз данных. Кроме того, Azure Cosmos DB предлагает такие функции, как [автоматическое индексирование](indexing-policies.md), значение [срока жизни (TTL)](time-to-live.md), [веб-канал изменений](change-feed.md) и другие возможности без дополнительной платы, которую обычно взимают другие службы баз данных.

* **Использование единой валюты для различных рабочих нагрузок.** В отличие от альтернативных предложений, в Azure Cosmos DB не требуется сегментировать рабочие нагрузки, например по операциям чтения и записи, или подготавливать пропускную способность для каждого типа рабочей нагрузки, т. е. пропускную способность чтения и пропускную способность записи. В Azure Cosmos DB подготовленная пропускная способность резервируется с использованием единой и нормализованной валюты в исчислении единиц запросов или ЕЗ/с. Azure Cosmos DB не требует назначать приоритет для рабочих нагрузок, планировать производительность или платить за каждый тип ресурсов отдельно. Такой подход позволяет легко обмениваться одинаковыми ЕЗ/с между различными операциями и типами рабочих нагрузок.

* **Не требуется подготовка виртуальных машин для масштабирования.** Большинство операционных баз данных требуют использования виртуальных машин большого масштаба, чтобы избегать "шумных соседей", а также для управления свободными ресурсами, если требуется масштабирование. Это перекладывает нагрузку и обязательства авансовых платежей на клиентов. С помощью Azure Cosmos DB можно начать с небольшого масштаба и увеличивать размеры рабочих нагрузок без препятствий и каких-либо простоев либо влияния на доступность данных.

* **Подготовленную пропускную способность можно задействовать до максимального предела.** В силу мультиплексирования вложенных ядер в Azure Cosmos DB можно использовать подготовленную пропускную способность в большей мере, чем в вариантах размещения на IaaS или предложениях сторонних поставщиков. Этот способ позволяет сэкономить намного больше, чем альтернативные решения.

* **Глубокая интеграция Azure Cosmos DB с другими службами Azure.** Azure Cosmos DB обладает встроенной интеграцией со службами "Сеть", "Вычислительная среда", "Функции Azure" (бессерверные), Azure IoT и другими службами Azure. Эта интеграция позволяет получить максимальную производительность и скорость репликации данных по всему миру с надежными гарантиями. Решения сторонних поставщиков не обеспечивают таких возможностей или, как правило, за них взимается дополнительная плата.

* **Автоматически обеспечивается высокий уровень доступности, как минимум с 10–20 доменами на случай сбоев по умолчанию.** Azure Cosmos DB поддерживает распределение рабочих нагрузок между доменами сбоя. Эта возможность крайне важна для обеспечения высокого уровня доступности. Она позволяет достичь показателя доступности в 99,999 для операций чтения и записи на уровне 99-го процентиля в любом месте мира. Затраты на реализацию чего-либо подобного собственными средствами или с помощью решения стороннего поставщика будут высокими.

* **Автоматически предоставляются все корпоративные возможности без дополнительных затрат.** Azure Cosmos DB предлагает наиболее комплексный набор сертификатов соответствия требованиям и средств безопасности, а также шифрование при хранении и перемещении данных без дополнительных затрат (по сравнению с конкурентами). Автоматически обеспечивается доступность в регионах в любой точке мира. Базу данных можно распределить по любому количеству регионов Azure и добавлять или удалять регионы в любой момент.

* **Можно сэкономить до 65 % средств благодаря резервной мощности.** [Резервная мощность](cosmos-db-reserved-capacity.md) Azure Cosmos DB позволяет экономить за счет предварительной оплаты ресурсов Azure Cosmos DB на один или три года. Предоплата на один год или три года позволяет снизить общие расходы на 20–65 % по сравнению с обычными ценами. Для критически важных рабочих нагрузок можно улучшить условия соглашения об уровне обслуживания в плане подготавливаемой мощности.

## <a name="next-steps"></a>Дополнительная информация

* Дополнительные сведения о том, [как модель ценообразования Azure Cosmos DB помогает клиентам экономить](total-cost-ownership.md).
* Дополнительные сведения об [оптимизации для разработки и тестирования](optimize-dev-test.md).
* Дополнительные сведения об [оптимизации расходов на пропускную способность](optimize-cost-throughput.md).
* Дополнительные сведения об [оптимизации расходов на хранилище](optimize-cost-storage.md).
* Дополнительные сведения об [оптимизации расходов на операции чтения и записи](optimize-cost-reads-writes.md).
* Дополнительные сведения об [оптимизации расходов на запросы](optimize-cost-queries.md).
* Дополнительные сведения об [оптимизации расходов на учетные записи Cosmos с поддержкой нескольких регионов](optimize-cost-regions.md)
* Документ [The Total Cost of (Non) Ownership of a NoSQL Database Cloud Service](https://documentdbportalstorage.blob.core.windows.net/papers/11.15.2017/NoSQL%20TCO%20paper.pdf) (Совокупная стоимость (не)владения облачной службой баз данных NoSQL).
