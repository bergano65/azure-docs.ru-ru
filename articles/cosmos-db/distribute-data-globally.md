---
title: Глобальное распределение данных с помощью Azure Cosmos DB
description: Сведения о георепликации в масштабах планеты, работе с несколькими источниками, отработке отказа и восстановлении данных с помощью глобальных баз данных из Azure Cosmos DB — глобально распределенной многомодельной службы базы данных.
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 07/23/2019
ms.openlocfilehash: fba6943adb18675bc804a3881042fe9d68f5b331
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85114747"
---
# <a name="global-data-distribution-with-azure-cosmos-db---overview"></a>Общие сведения о глобальном распределении данных с помощью Azure Cosmos DB

Современные приложения должны мгновенно реагировать на запросы и всегда иметь подключение к Интернету. Чтобы обеспечить низкую задержку и высокий уровень доступности, экземпляры этих приложений нужно развернуть в ближайших к пользователям центрах обработки данных. Такие приложения обычно развертываются в нескольких центрах обработки данных и называются глобально распределенными. Глобально распределенные приложения требуют глобально распределенной базы данных, которая обеспечивает прозрачную репликацию данных в любую точку мира. Это позволит приложениям работать с копией данных, которая размещена в ближайшем к пользователям расположении. 

Azure Cosmos DB — это глобально распределенная служба базы данных, предназначенная для обеспечения низкой задержки, эластичной масштабируемости пропускной способности, четко определенной семантики для согласованности данных и их высокой доступности. Коротко говоря, если ваше приложение должно гарантировать быстрое время отклика в любой точке мира, если оно должно быть постоянно подключено к сети, и ему требуется неограниченная и эластичная масштабируемость пропускной способности и хранилища, следует создать приложение на Azure Cosmos DB.

Можно настраивать базы данных для глобального распределения и доступности в любом из регионов Azure. Чтобы снизить задержку, поместите данные ближе к месту, где находятся ваши пользователи. Выбор необходимых регионов зависит от глобального охвата приложения и расположения пользователя. Cosmos DB прозрачно реплицирует данные во все регионы, связанные с вашей учетной записью Cosmos. Она предоставляет один образ системы глобально распределенной базы данных Azure Cosmos и контейнеров, что позволяет приложению использовать их для локальных операций чтения и записи. 

С помощью Azure Cosmos DB можно в любое время добавлять или удалять регионы, связанные с учетной записью. Чтобы добавить или удалить регион, приложение не нужно приостанавливать или повторно развертывать. Он по-своему постоянно доступен в течение всего времени из-за возможностей поддержки нескольких сетевых услуг, предоставляемых службой изначально.

:::image type="content" source="./media/distribute-data-globally/deployment-topology.png" alt-text="Топология развертывания высокого уровня доступности" border="false":::

## <a name="key-benefits-of-global-distribution"></a>Ключевые преимущества глобального распределения

**Создавайте глобальные приложения в режиме "активный — активный".** Благодаря стандартному протоколу репликации с несколькими хозяевами каждый регион поддерживает операции записи и чтения. Возможность использования нескольких хозяев также позволяет:

- Неограниченная эластичная запись и масштабируемость чтения. 
- доступность для чтения и записи на 99,999 % по всему миру;
- гарантированные операции чтения или записи, обслуживаемые менее чем за 10 миллисекунд в 99-м процентиле.

С помощью Azure Cosmos DB API-интерфейсов многоадресной рассылки приложение знает о ближайшем регионе и может отправить запросы в этот регион. Ближайший регион будет определен автоматически, без изменения конфигурации. Когда вы добавляете и удаляете регионы в учетной записи Azure Cosmos, вам не нужно повторно развертывать или приостанавливать свое приложение, оно по всей времени остается высокодоступным.

**Создание быстродействующих приложений**. Приложение может выполнять операции чтения и записи практически в режиме реального времени для всех регионов, выбранных для базы данных. Azure Cosmos DB внутренне обрабатывает репликацию данных между регионами с гарантированным уровнем согласованности выбранного уровня.

**Создание приложений высокой доступности**. Выполнение базы данных в нескольких регионах по всему миру повышает доступность базы данных. В случае, когда один из регионов недоступен, запросы приложений обрабатываются в других регионах автоматически. Azure Cosmos DB предлагает возможность чтения и записи на уровне 99,999 % для баз данных, распределенных по нескольким регионам.

**Поддержание непрерывности бизнес-процессов во время региональных сбоев.** Во время региональных сбоев Azure Cosmos DB поддерживает [автоматическую отработку отказа](how-to-manage-database-account.md#automatic-failover). Во время регионального сбоя Azure Cosmos DB будет продолжать управлять пропускной способностью, доступностью, согласованностью и соглашением об уровне обслуживания в части пропускной способности. Чтобы обеспечить высокую доступность всего приложения, Cosmos DB предлагает интерфейс API отработки отказа вручную для имитации регионального сбоя. При использовании этого API можно регулярно выполнять тренировки непрерывности бизнеса.

**Глобальное масштабирование пропускной способности чтения и записи.** Можно включить запись для каждого региона, а также Эластичное масштабирование операций чтения и записи по всему миру. Пропускная способность, которую приложение настраивает в базе данных Cosmos Azure или контейнер, гарантированно доставляется во всех регионах, связанных с вашей учетной записью Azure Cosmos. Подготовленная пропускная способность гарантирована с помощью [соглашения об уровне обслуживания с финансовыми](https://azure.microsoft.com/support/legal/sla/cosmos-db/v1_3/)гарантиями.

**Выберите одну из нескольких четко определенных моделей согласованности.** Протокол репликации Azure Cosmos DB предлагает пять четко определенных, практических и интуитивно понятных моделей согласованности. В каждой модели предусмотрен компромисс между согласованностью и производительностью. Эти модели согласованности позволяют с легкостью создавать правильные глобально распределенные приложения.

## <a name="next-steps"></a><a id="Next Steps"></a>Следующие шаги

Дополнительные сведения о глобальном распределении см. в следующих статьях.

* [Глобальное распределение (взгляд изнутри)](global-dist-under-the-hood.md)
* [Настройка нескольких источников в приложениях](how-to-multi-master.md)
* [Настройка клиентов для поддержки нескольких веб-сайтов](how-to-manage-database-account.md#configure-multiple-write-regions)
* [Добавление и удаление регионов из учетной записи Azure Cosmos DB](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [Создание настраиваемой политики разрешения конфликтов для учетных записей API SQL](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)
* [Программируемые модели согласованности в Cosmos DB](consistency-levels.md)
* [Выбор правильного уровня согласованности для приложения](consistency-levels-choosing.md)
* [Уровни согласованности и API для Azure Cosmos DB](consistency-levels-across-apis.md)
* [Достижение компромисса между доступностью и быстродействием для разных уровней согласованности](consistency-levels-tradeoffs.md)

