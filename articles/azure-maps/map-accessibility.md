---
title: Создание приложения карт, поддерживающего специальные возможности, с помощью Azure Maps | Microsoft Azure Maps
description: Дополнительные сведения о специальных возможностях в Azure Maps. Узнайте о функциях, доступных для обеспечения доступности приложений карт, и просмотрите советы по специальным возможностям.
services: azure-maps
author: rbrundritt
ms.author: richbrun
ms.date: 12/10/2019
ms.topic: conceptual
ms.service: azure-maps
manager: cpendleton
ms.openlocfilehash: ec88437a0fad3a6bd94a67a5ef5c75b3e506f9e8
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "88006219"
---
# <a name="building-an-accessible-application"></a>Создание доступного приложения

Более 20 % пользователей Интернета нуждаются в веб-приложениях с поддержкой специальных возможностей. Поэтому важно разработать приложение таким образом, что любой пользователь мог легко работать с ним. Вместо того, чтобы думать о специальных возможностях как о наборе задач, подумайте о них как о части общего процесса взаимодействия с пользователем. Чем больше в приложении специальных возможностей, тем больше пользователей сможет его использовать. 

Некоторые общие рекомендации по специальным возможностям в отношении многофункционального интерактивного содержимого, например карт:
- поддержка средства чтения с экрана для пользователей, которые испытывают трудности при просмотре веб-приложения;
- наличие нескольких методов для взаимодействия с веб-приложением и навигации по нему, например с помощью мыши, сенсорного экрана и клавиатуры;
- Убедитесь, что цветовая контрастность не смешивается друг с другом и становится трудной для различения. 

Веб-пакет SDK Azure Maps включает множество специальных возможностей, таких как:
- описание, воспроизводимое средством чтения с экрана при перемещении карты и переносе фокуса на элемент управления или всплывающее окно;
- поддержка мыши, сенсорного ввода и клавиатуры.
- поддержка контрастности в стиле карты дорог;
- поддержка высокой контрастности.

Полные сведения о соответствии специальных возможностей для всех продуктов Майкрософт можно найти [здесь](https://cloudblogs.microsoft.com/industry-blog/government/2018/09/11/accessibility-conformance-reports/). Выполните поиск по фразе "Azure Maps web", чтобы найти документ для веб-пакета SDK Azure Maps. 

## <a name="navigating-the-map"></a>Перемещение по карте

Существует несколько способов, с помощью которых можно увеличить, сдвинуть, повернуть и наклонить карту. Ниже описаны различные способы перемещения по карте.

**Изменение масштаба карты**

- Дважды щелкните карту левой кнопкой мыши, чтобы увеличить масштаб на один уровень.
- Прокрутите колесико мыши, чтобы изменить масштаб.
- При использовании сенсорного экрана коснитесь карты двумя пальцами и сведите их, чтобы уменьшить карту, или разведите пальцы, чтобы увеличить ее.
- При использовании сенсорного экрана дважды коснитесь карты, чтобы увеличить масштаб на один уровень.
- Установив фокус на карте, нажмите клавишу со знаком плюса (`+`) или знаком равенства (`=`), чтобы увеличить масштаб на один уровень.
- Установив фокус на карте, нажмите клавишу со знаком минуса, дефиса (`-`) или символом подчеркивания (`_`), чтобы уменьшить масштаб на один уровень.
- Используйте элементы управления масштабом с помощью мыши, касания, клавиши TAB или ВВОД на клавиатуре.
- Нажмите и удерживайте клавишу `Shift`, нажмите левую кнопку мыши на карте и перетащите указатель, чтобы очертить область, до которой нужно увеличить карту.
- Используя несколько многофункциональных панелей, перетащите два пальца вверх, чтобы уменьшить масштаб.

**Сдвиг карты**

- Нажмите левую кнопку мыши на карте и перетащите в любом направлении.
- При использовании сенсорного экрана коснитесь карты и проведите в любом направлении.
- Установив фокус на карте, используйте клавиши со стрелками для ее перемещения.

**Поворот карты**

- Нажмите на карту правой кнопкой мыши и перетащите влево или вправо. 
- При использовании сенсорного экрана коснитесь карты двумя пальцами и вращайте ее.
- Установив фокус на карте, нажмите и удерживайте клавишу SHIFT и используйте клавиши со стрелкой влево или вправо.
- Используйте элементы управления вращением с помощью мыши, касания, клавиши TAB или ВВОД на клавиатуре.

**Наклон карты**

- Нажмите на карту правой кнопкой мыши и перетащите вверх или вниз. 
- При использовании сенсорного экрана коснитесь карты двумя пальцами и проведите ими вверх или вниз вместе.
- Установив фокус на карте, нажмите и удерживайте клавишу SHIFT и используйте клавиши со стрелкой вверх или вниз. 
- Используйте элементы управления наклоном с помощью мыши, касания, клавиши TAB или ВВОД на клавиатуре.

## <a name="change-the-map-style"></a>Изменение стиля карты

Не все разработчики хотят, чтобы в приложении были доступны все возможные стили карт. Если разработчик отображает элемент управления для выбора стиля карты, пользователь может изменить стиль с помощью мыши, касания или клавиатуры, используя клавишу TAB или ВВОД. Разработчик может указать, какие стили карт нужно сделать доступными в элементе управления для выбора стиля карты. Кроме того, разработчик может программно задавать и изменять стиль карты.

**Высокая контрастность**

- При загрузке элемента управления картой проверяется, включен ли режим высокой контрастности и поддерживает ли его браузер.
- Элемент управления картой не отслеживает режим высокой контрастности устройства. При смене режима устройства на карте это не отразится. Поэтому пользователь должен будет перезагрузить карту, обновив страницу.
- При обнаружении режима высокой контрастности стиль карты автоматически переключается на высокую контрастность, а все встроенные элементы управления будут использовать стиль с высокой контрастностью. Например, ZoomControl, PitchControl, CompassControl, StyleControl и другие встроенные элементы управления будут использовать стиль с высокой контрастностью.
- Существует два типа высокой контрастности: светлый и темный. Если элементы управления картой определяют тип высокой контрастности, то поведение карты будет соответствующим образом изменено. Если тип светлый, будет загружен стиль карты grayscale_light. Если тип не может быть определен или является темным, будет загружен стиль high_contrast_dark.
- При создании пользовательских элементов управления полезно иметь представление о том, используют ли встроенные элементы управления стиль высокой контрастности. Разработчики могут добавить класс CSS в содержащий карту элемент div для проверки. Нужно добавить классы CSS `high-contrast-dark` и `high-contrast-light`. Чтобы выполнить проверку с помощью JavaScript, используйте:

```javascript
map.getMapContainer().classList.contains("high-contrast-dark")
```

или:

```javascript
map.getMapContainer().classList.contains("high-contrast-light")
```

## <a name="keyboard-shortcuts"></a>сочетания клавиш

Чтобы упростить работу с картой, можно использовать ряд встроенных сочетаний клавиш. Эти сочетания клавиш работают, когда на карте установлен фокус.

| Клавиши      | Действие                            |
|----------|-----------------------------------|
| `Tab` | Навигация по элементам управления и всплывающим окнам на карте. |
| `ESC` | Перемещение фокуса с любого элемента на карте на элемент карты верхнего уровня. |
| `Ctrl` + `Shift` + `D` | Переключение уровня детализации средства чтения с экрана.  |
| Клавиша со стрелкой влево | Сдвиг карты влево на 100 пикселей. |
| Клавиша со стрелкой вправо | Сдвиг карты вправо на 100 пикселей. |
| Клавиша со стрелкой вниз | Сдвиг карты вниз на 100 пикселей. |
| Клавиша со стрелкой вверх | Сдвиг карты вверх на 100 пикселей. |
| `Shift` + СТРЕЛКА ВВЕРХ | Увеличение наклона карты на 10 градусов. |
| `Shift` + СТРЕЛКА ВНИЗ | Уменьшение наклона карты на 10 градусов. |
| `Shift` + СТРЕЛКА ВПРАВО | Поворот карты на 15 градусов по часовой стрелке. |
| `Shift` + СТРЕЛКА ВЛЕВО | Поворот карты на 15 градусов против часовой стрелки. |
| Знак плюса (`+`) или <sup>*</sup>знак равенства (`=`) | Увеличение масштаба. |
| Знак минуса, дефис (`-`) или <sup>*</sup>символ подчеркивания (`_`) | Уменьшение масштаба. | 
| `Shift` + перетаскивание мышью на карте для выбора области | Увеличение масштаба до очерченной области |

<sup>*</sup> В этих сочетаниях клавиш, как правило, используется одна и та же клавиша на клавиатуре. Эти сочетания клавиш были добавлены для удобства пользователей. Это также не имеет значения, если пользователь использует клавишу Shift или не используется для этих сочетаний клавиш.

## <a name="screen-reader-support"></a>Поддержка средства чтения с экрана

Пользователи могут перемещаться по карте с помощью клавиатуры. Если запущено устройство чтения с экрана, карта будет уведомлять пользователя об изменениях в ее состоянии. Например, пользователи получают уведомления об изменениях карты при панорамировании или изменении масштаба. По умолчанию карта предоставляет упрощенные описания, не указывая уровня масштабирования и координаты центра карты. Пользователь может переключить уровень детализации для этих описаний с помощью сочетания клавиш `Ctrl` + `Shift` + `D`.

Дополнительные сведения, размещаемые на базовой карте, должны содержать соответствующую текстовую информацию для пользователей устройства чтения с экрана. Не забудьте в соответствующих случаях добавить атрибуты [доступных многофункциональных интернет-приложений (ARIA)](https://www.w3.org/WAI/standards-guidelines/aria/), alt и title. 

## <a name="make-popups-keyboard-accessible"></a>Возможность использования клавиатуры для работы со всплывающими окнами

Часто для представления расположения на карте используется маркер или символ. Когда пользователь взаимодействует с маркером, обычно появляется всплывающее окно с дополнительными сведениями о расположении. В большинстве приложений всплывающие окна появляются, когда пользователь щелкает маркер или касается его. Но для нажатия и касания пользователю нужно использовать мышь и сенсорный экран соответственно. Рекомендуется сделать всплывающие окна доступными при использовании клавиатуры. Для этого можно создать всплывающее окно для каждой точки данных и добавить его на карту. 

В следующем примере на карте с помощью слоя символов загружаются точки интереса и добавляется всплывающее окно для каждой из них. Ссылка на каждое всплывающее окно хранится в свойствах каждой точки данных. Ее также можно получить для маркера, например при щелчке по маркеру. Когда фокус установлен на карте, пользователь с помощью клавиши TAB сможет переключаться между всплывающими окнами на карте.

<br/>

<iframe height='500' scrolling='no' title='Создание доступного приложения' src='//codepen.io/azuremaps/embed/ZoVyZQ/?height=504&theme-id=0&default-tab=js,result&embed-version=2&editable=true' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>Просмотрите фрагмент кода <a href='https://codepen.io/azuremaps/pen/ZoVyZQ/'>Создание доступного приложения</a> службы Azure Maps (<a href='https://codepen.io/azuremaps'>@azuremaps</a>) в <a href='https://codepen.io'>CodePen</a>. </iframe>

<br/>

## <a name="additional-accessibility-tips"></a>Дополнительные советы по специальным возможностям

Ниже приведены некоторые дополнительные советы по обеспечению доступности веб-приложения карты.

- При отображении множества интерактивных точек данных на карте рекомендуется упорядочить их и использовать кластеризацию. 
- Убедитесь, что коэффициент контрастности между цветом текста и символов и цветом фона равен 4.5:1 или более.
- Предоставьте короткие, описательные и информативные сообщения для средства чтения с экрана (атрибуты ARIA, alt и title). Избегайте использования жаргона и сокращений.
- Постарайтесь оптимизировать сообщения, отправляемые средству чтения с экрана, чтобы предоставлять короткие и информативные сведения, которые пользователю будет легко понять. Например, если вы хотите обновлять средство чтения с экрана с высокой частотой, например при перемещении схемы, рекомендуется следующее:
    - дождитесь завершения перемещения карты, прежде чем обновлять сведения для средства чтения с экрана;
    - ограничьте частоту обновлений до одного раза каждые несколько секунд; 
    - объединяйте сообщения логичным образом. 
- Избегайте использования цвета в качестве единственного средства передачи информации. Используйте текст, значки или узоры, чтобы дополнить или заменить цвета. Некоторые замечания:
    - При использовании пузырькового слоя для отображения относительного значения точек данных рекомендуется масштабировать радиус каждого пузырька и/или раскрашивать пузырьки. 
    - Кроме того, рекомендуется использовать слой символов с разными значками для различных категорий метрик, например треугольников, звезд и квадратов. Слой символов также поддерживает масштабирование размера значка. Также можно отображать текстовую метку.
    - При отображении данных в виде линий с помощью ширины можно обозначить вес или размер. Для представления разных категорий линий можно использовать различные пунктирные линии. В сочетании с линией можно использовать слой символов для наложения значков вдоль линии. Значок со стрелкой удобно использовать для отображения потока или направления линии.
    - При отображении данных многоугольника в качестве альтернативы цвету можно использовать узор, например полосы. 
- Некоторые визуализации, такие как тепловые карты, слои фрагментов и слои изображений, недоступны для пользователей с нарушениями зрения. Некоторые замечания:
    - Сделайте так, чтобы средство чтения с экрана описывало то, что отображает слой при добавлении на карту. Например, если отображается слой фрагментов погодного радара, то пусть средство чтения с экрана скажет: "На карту наложены данные погодного радара".
- Ограничьте количество функций, требующих наведения указателя мыши. Эти функции будут недоступны пользователям, использующим клавиатуру или сенсорное устройство для взаимодействия с приложением. Обратите внимание, что по-прежнему рекомендуется использовать стиль наведения для интерактивного содержимого, такого как значки, ссылки и кнопки.
- Попробуйте перемещаться по приложению с помощью клавиатуры. Убедитесь, что порядок вкладок логичен.
- При создании сочетаний клавиш старайтесь использовать не более двух клавиш. 

## <a name="next-steps"></a>Дальнейшие действия

Сведения о специальных возможностях в модулях веб-пакета SDK.

> [!div class="nextstepaction"]
> [Специальные возможности в инструментах для рисования](drawing-tools-interactions-keyboard-shortcuts.md)

Дополнительные сведения о разработке приложений с помощью Microsoft Learn:

> [!div class="nextstepaction"]
> [Схема обучения для получения цифрового значка Accessibility in Action](https://ready.azurewebsites.net/learning/track/2940)

Ознакомьтесь с этими полезными средствами, связанными со специальными возможностями:
> [!div class="nextstepaction"]
> [Разработка приложений со специальными возможностями](https://developer.microsoft.com/windows/accessible-apps)

> [!div class="nextstepaction"]
> [Общие сведения о WAI-ARIA](https://www.w3.org/WAI/standards-guidelines/aria/)

> [!div class="nextstepaction"]
> [Средство оценки веб-доступности (WAVE)](https://wave.webaim.org/)

> [!div class="nextstepaction"]
> [Средство проверки контрастности цветов WebAim](https://webaim.org/resources/contrastchecker/)

> [!div class="nextstepaction"]
> [Симулятор зрения No Coffee](https://chrome.google.com/webstore/detail/nocoffee/jjeeggmbnhckmgdhmgdckeigabjfbddl?hl=en-US)
