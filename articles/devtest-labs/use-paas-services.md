---
title: Использование служб "платформа как услуга" (PaaS) в Azure DevTest Labs
description: Узнайте, как использовать службы "платформа как услуга" (Pass) в Azure DevTest Labs.
ms.topic: article
ms.date: 06/26/2020
ms.openlocfilehash: eec37527386098174906dc2737d7b763241da3f2
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85478745"
---
# <a name="use-platform-as-a-service-paas-services-in-azure-devtest-labs"></a>Использование служб "платформа как услуга" (PaaS) в Azure DevTest Labs
PaaS поддерживается в DevTest Labs с помощью функции "среды". Среды в DevTest Labs поддерживаются предварительно настроенными шаблонами Azure Resource Manager в репозитории Git. В средах могут содержаться ресурсы PaaS и IaaS. Они позволяют создавать сложные системы, которые могут включать ресурсы Azure, такие как виртуальные машины, базы данных, виртуальные сети и веб-приложения, настроенные для совместной работы. Эти шаблоны обеспечивают единообразное развертывание и улучшенное управление средами с помощью системы управления исходным кодом. 

Правильная настройка системы позволяет выполнять следующие сценарии. 

- Разработчики могут использовать независимые и несколько сред
- Асинхронное тестирование различных конфигураций
- Интеграция в промежуточные и рабочие конвейеры без изменений шаблонов
- Наличие машин и сред разработки в рамках одной лабораторной работы повышает удобство управления и составления отчетов о затратах.  

Поставщик ресурсов DevTest Labs создает ресурсы от имени пользователя лаборатории, поэтому пользователям лаборатории не нужно предоставлять дополнительные разрешения для включения использования ресурсов PaaS. На следующем рисунке показан кластер Service Fabric в качестве среды в лаборатории.

![Service Fabric кластер в качестве среды](./media/create-environment-service-fabric-cluster/cluster-created.png)

Дополнительные сведения о настройке сред см. в статье [создание сред с несколькими виртуальными машинами и ресурсов PaaS с помощью шаблонов Azure Resource Manager](devtest-lab-create-environment-from-arm.md). DevTest Labs содержит общедоступный репозиторий шаблонов Azure Resource Manager, которые можно использовать для создания сред без необходимости самостоятельного подключения к внешнему источнику GitHub. Дополнительные сведения о общедоступных средах см. [в статье Настройка и использование общедоступных сред в Azure DevTest Labs](devtest-lab-configure-use-public-environments.md).

В больших организациях группы разработки обычно предоставляют такие среды, как специальные и изолированные среды тестирования. Могут существовать среды, которые будут использоваться всеми командами в рамках подразделения или подразделения. ИТ группе может потребоваться предоставить свои среды, которые могут использоваться всеми группами в Организации.  

## <a name="customizations"></a>Настройки

#### <a name="sandbox"></a>Песочница 
Владелец лаборатории может настроить лабораторные среды, чтобы изменить роль пользователя с **читателя** на **участника** в группе ресурсов. Эта возможность находится на странице **Параметры лаборатории** в разделе **Конфигурация и политики** лаборатории. Это изменение роли позволяет пользователю добавлять или удалять ресурсы в этой среде. Если вы хотите ограничить доступ, используйте политики Azure. Эта функция позволяет настраивать ресурсы или конфигурацию без доступа на уровне подписки.

#### <a name="custom-tokens"></a>Пользовательские маркеры
Есть некоторые пользовательские лабораторные сведения, которые находятся за пределами группы ресурсов и относятся к окружениям, к которым имеет доступ шаблон. Вот некоторые из них: 

- Идентификация сети лаборатории
- Расположение
- Учетная запись хранения, в которой хранятся файлы шаблонов диспетчер ресурсов. 
 
#### <a name="lab-virtual-network"></a>Виртуальная сеть лаборатории
В статье [Подключение сред к виртуальной сети лаборатории](connect-environment-lab-virtual-network.md) описано, как изменить шаблон диспетчер ресурсов для использования `$(LabSubnetId)` маркера. При создании среды `$(LabSubnetId)` маркер заменяется первой меткой подсети, в которой для параметра **использовать при создании виртуальной машины** задано **значение true**. Это позволяет нашей среде использовать ранее созданные сети. Если вы хотите использовать те же шаблоны диспетчер ресурсов в средах в качестве промежуточных и рабочих, используйте в `$(LabSubnetId)` качестве значения по умолчанию в параметре шаблона диспетчер ресурсов. 

#### <a name="environment-storage-account"></a>Учетная запись хранения среды
DevTest Labs поддерживает использование [вложенных шаблонов диспетчер ресурсов](../azure-resource-manager/templates/linked-templates.md). В статье [[deploy nested Azure Resource Manager Templates for test Environments (Развертывание вложенных шаблонов для сред тестирования](deploy-nested-template-environments.md) ) объясняется, как использовать `_artifactsLocation` `_artifactsLocationSasToken` токены для создания универсального кода ресурса (URI) для шаблона диспетчер ресурсов в той же папке, что и вложенная папка основного шаблона. Дополнительные сведения об этих двух токенах см. в разделе " **артефакты развертывания** " статьи [Azure Resource Manager — рекомендации](https://github.com/Azure/azure-quickstart-templates/blob/master/1-CONTRIBUTION-GUIDE/best-practices.md).

## <a name="user-experience"></a>Проверьте взаимодействие с пользователем.

## <a name="developer"></a>Разработчик
Разработчики используют один и тот же рабочий процесс для создания виртуальной машины для создания определенной среды. Они выбирают среду и образ компьютера и вводят необходимые сведения, необходимые для шаблона. Каждый разработчик, имеющий среду, позволяет развертывать изменения и улучшать отладку внутреннего цикла. Среду можно создать в любое время, используя последний шаблон.  Эта функция позволяет удалять среды и создавать их повторно, чтобы сократить время простоя системы вручную или восстанавливаться после тестирования сбоя.  

### <a name="testing"></a>Тестирование
Среды DevTest Labs позволяют выполнять независимое тестирование конкретного кода и конфигураций в асинхронном режиме. Распространенной практикой является настройка среды с кодом из отдельного запроса на вытягивание и запуск любого автоматического тестирования. После завершения автоматического тестирования можно выполнить любое ручное тестирование для конкретной среды. Обычно этот процесс выполняется как часть конвейера CI/CD. 

## <a name="management-experience"></a>Интерфейс управления

### <a name="cost-tracking"></a>Отслеживание затрат
Функция отслеживания затрат включает ресурсы Azure в различных средах в рамках общей тенденции затрат. Стоимость ресурсов не нарушает различные ресурсы в среде, но отображает среду как единую стоимость.

### <a name="security"></a>Безопасность
Правильно настроенная подписка Azure с DevTest Labs может [ограничить доступ к ресурсам Azure только через лабораторию](devtest-lab-add-devtest-user.md). В средах владелец лаборатории может предоставить пользователям доступ к ресурсам PaaS с утвержденными конфигурациями без предоставления доступа к другим ресурсам Azure. В сценарии, в котором пользователи лаборатории настраивают среды, владелец лаборатории может разрешить доступ участника. Доступ участника позволяет пользователю лаборатории добавлять или удалять ресурсы Azure только в пределах управляемой группы ресурсов. Это позволяет упростить отслеживание и управление, а также предоставить пользователю доступ к подписке.

### <a name="automation"></a>Автоматизация
Автоматизация является ключевым компонентом для крупного масштабируемого и эффективного экосистемы. Автоматизация необходима для управления или отслеживания нескольких сред в рамках подписок и лабораторий.

### <a name="cicd-pipeline"></a>Конвейер CI/CD
Службы PaaS в DevTest Labs могут помочь улучшить конвейер CI/CD, используя специализированные развертывания, где доступ контролируется лабораторией.

## <a name="next-steps"></a>Дальнейшие шаги
Дополнительные сведения о средах см. в следующих статьях: 

- 
- [Создание сред со множеством виртуальных машин и ресурсов PaaS с помощью шаблонов Azure Resource Manager](devtest-lab-create-environment-from-arm.md)
- [Настройка и использование общедоступных сред в Azure DevTest Labs](devtest-lab-configure-use-public-environments.md)
- [Создайте среду с автономным кластером Service Fabric в Azure DevTest Labs](create-environment-service-fabric-cluster.md)
- [Подключите среду к виртуальной сети лаборатории в Azure DevTest Labs](connect-environment-lab-virtual-network.md)
- [Интеграция сред в конвейеры CI/CD DevOps в Azure](integrate-environments-devops-pipeline.md)
 





