---
title: Выберите правильный VM SKU для кластера Azure Data Explorer
description: В этой статье описывается, как выбрать оптимальный размер SKU для кластера Azure Data Explorer.
author: avneraa
ms.author: avnera
ms.reviewer: orspodek
ms.service: data-explorer
ms.topic: conceptual
ms.date: 07/14/2019
ms.openlocfilehash: 2d078f9715a0cfa171f0c88776a4ab78c15215a8
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77561856"
---
# <a name="select-the-correct-vm-sku-for-your-azure-data-explorer-cluster"></a>Выберите правильный VM SKU для кластера Azure Data Explorer 

При создании нового кластера или оптимизации кластера для изменения рабочей нагрузки Azure Data Explorer предлагает несколько виртуальных машин (VM) SKUs на выбор. VMs были тщательно отобраны, чтобы дать вам наиболее оптимальную стоимость для любой рабочей нагрузки. 

Размер и VM SKU кластера управления данными полностью управляются службой Azure Data Explorer. Они определяются такими факторами, как размер VM двигателя и рабочая нагрузка на проглатывание. 

Вы можете изменить VM SKU для кластера двигателей в любое время путем [расширения кластера.](manage-cluster-vertical-scaling.md) Лучше всего начать с наименьшего размера SKU, который соответствует первоначальному сценарию. Имейте в виду, что масштабирование кластера приводит к простою до 30 минут, в то время как кластер воссоздается с новым VM SKU.

> [!TIP]
> Вычисление [зарезервированных экземпляров (RI)](https://docs.microsoft.com/azure/virtual-machines/windows/prepay-reserved-vm-instances) применимо к кластеру Azure Data Explorer.  

В этой статье описаны различные варианты VM SKU и приведены технические детали, которые помогут вам сделать лучший выбор.

## <a name="select-a-cluster-type"></a>Выберите тип кластера

Azure Data Explorer предлагает два типа кластеров:

* **Производство**: Производственные кластеры содержат два узла для кластеров управления движками и данными и эксплуатируются в рамках [SLA](https://azure.microsoft.com/support/legal/sla/data-explorer/v1_0/)Azure Data Explorer.

* **Dev/Test (без SLA)**: Кластеры Dev/Test имеют единый узлы D11 v2 для кластера двигателей и один узлы D1 для кластера управления данными. Этот тип кластера является самой низкой конфигурацией затрат из-за низкого количества экземпляров и отсутствия заряда разметки двигателя. Для этой конфигурации кластера нет SLA, так как ей не хватает избыточности.

## <a name="sku-types"></a>Типы SKU

При создании кластера Azure Data Explorer выберите *оптимальный* VM SKU для запланированной рабочей нагрузки. Вы можете выбрать из двух семейств Azure Data Explorer SKU:

* **D v2**: D SKU оптимизирован и поставляется в двух вкусах:
    * Сама виртуальная машина.
    * VM в комплекте с премиум дисков хранения

* **LS**: L SKU оптимизирован для хранения. Он имеет гораздо больший размер SSD, чем аналогично цене D SKU.

Ключевые различия между имеющимися типами SKU описаны в следующей таблице:
 
| Атрибут | D SKU | L SKU |
|---|---|---
|**Малые СКУ**|Минимальный размер D11 с двумя ядрами|Минимальный размер L4 с четырьмя ядрами |
|**Доступность**|Доступно во всех регионах (версия DS-PS имеет более ограниченную доступность)|Доступно в нескольких регионах |
|**Стоимость&nbsp;кэша ГБ на ядро**|Высокий с D SKU, низкий с версией DS-PS|Самый низкий с опцией Pay-As-You-Go |
|**Зарезервированные инстанции (RI) цены**|Высокая скидка&nbsp;(более 55 процентов за трехлетние обязательства)|Более низкая&nbsp;скидка (20 процентов за трехлетний срок) |  

## <a name="select-your-cluster-vm"></a>Выберите кластер VM 

Чтобы выбрать кластер VM, [назначьте вертикальное масштабирование.](manage-cluster-vertical-scaling.md#configure-vertical-scaling) 

С помощью различных вариантов VM SKU можно оптимизировать затраты на производительность и требования к горячему кэшу для вашего сценария. 
* Если вам нужна наиболее оптимальная производительность для высокого объема запросов, идеальный SKU должен быть оптимизирован для вычислений. 
* Если необходимо задать запрос больших объемов данных с относительно более низкой загрузкой запросов, оптимизированный для хранения данных SKU может помочь снизить затраты и при этом обеспечить отличную производительность.

Поскольку количество экземпляров на кластер для небольших SK-ну ограничено, предпочтительнее использовать большие вс-а-м, которые имеют большую оперативную память. Для некоторых типов запросов требуется дополнительная оперативной памяти, которые `joins`требуют большего спроса на ресурс еоранха, например запросов, которые используются. Поэтому, когда вы рассматриваете варианты масштабирования, мы рекомендуем масштабировать до большего SKU, а не масштабировать, добавляя больше экземпляров.

## <a name="vm-options"></a>Варианты VM

Технические характеристики для M-файлов кластера Azure Data Explorer описаны в следующей таблице:

|**Название**| **Категория** | **Размер SSD** | **Ядер** | **Оперативной памяти** | **Премиум диски хранения&nbsp;(1 ТБ)**| **Минимальное количество экземпляров в каждом кластере** | **Максимальное количество экземпляров в каждом кластере**
|---|---|---|---|---|---|---|---
|D11 v2| оптимизирована для вычислений | 75&nbsp;ГБ    | 2 | 14&nbsp;ГБ | 0 | 1 | 8 (за исключением Dev/test SKU, который 1)
|D12 v2| оптимизирована для вычислений | 150&nbsp;ГБ   | 4 | 28&nbsp;ГБ | 0 | 2 | 16
|D13 v2| оптимизирована для вычислений | 307&nbsp;ГБ   | 8 | 56&nbsp;ГБ | 0 | 2 | 1000
|D14 v2| оптимизирована для вычислений | 614&nbsp;ГБ   | 16| 112&nbsp;ГБ | 0 | 2 | 1000
|DS13 v2&nbsp;-&nbsp;1 ТБ PS| оптимизированная для хранения данных | 1&nbsp;СТБ | 8 | 56&nbsp;ГБ | 1 | 2 | 1000
|DS13 v2&nbsp;2&nbsp;ТБ PS| оптимизированная для хранения данных | 2&nbsp;ТБ | 8 | 56&nbsp;ГБ | 2 | 2 | 1000
|DS14 v2&nbsp;-&nbsp;3 ТБ PS| оптимизированная для хранения данных | 3&nbsp;ТБ | 16 | 112&nbsp;ГБ | 2 | 2 | 1000
|DS14 v2&nbsp;4&nbsp;ТБ PS| оптимизированная для хранения данных | 4&nbsp;ТБ | 16 | 112&nbsp;ГБ | 4 | 2 | 1000
|L4s v1| оптимизированная для хранения данных | 650&nbsp;ГБ | 4 | 32&nbsp;ГБ | 0 | 2 | 16
|L8s v1| оптимизированная для хранения данных | 1,3&nbsp;ТБ | 8 | 64&nbsp;ГБ | 0 | 2 | 1000
|L16s_1| оптимизированная для хранения данных | 2,6&nbsp;ТБ | 16| 128&nbsp;ГБ | 0 | 2 | 1000

* Вы можете просмотреть обновленный список VM SKU в регионе с помощью [API ListSkus Explorer.](/dotnet/api/microsoft.azure.management.kusto.clustersoperationsextensions.listskus?view=azure-dotnet) 
* Узнайте больше о [различных SkUs](/azure/virtual-machines/windows/sizes). 

## <a name="next-steps"></a>Дальнейшие действия

* Вы можете [масштабировать или масштабировать](manage-cluster-vertical-scaling.md) кластер двигателя в любое время, изменив VM SKU, в зависимости от различных потребностей. 

* Вы можете [масштабировать или масштабировать](manage-cluster-horizontal-scaling.md) размер кластера двигателей, чтобы изменить емкость, в зависимости от меняющихся требований.

