---
title: Общие сведения о модели ресурсов Azure Service Fabric | Документы Майкрософт
description: Дополнительные сведения о модели ресурсов Service Fabric — упрощенном подходе к определению приложений "Сетка Service Fabric".
services: service-fabric-mesh
documentationcenter: .net
author: vturecek
manager: timlt
editor: ''
ms.assetid: ''
ms.service: service-fabric-mesh
ms.devlang: dotNet
ms.topic: conceptual
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 10/23/2018
ms.author: vturecek
ms.custom: mvc, devcenter
ms.openlocfilehash: 3eeabd4c3bf099d7a0c7007bdf0c8c7e85f3381e
ms.sourcegitcommit: 2bb46e5b3bcadc0a21f39072b981a3d357559191
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2018
ms.locfileid: "52889673"
---
# <a name="introduction-to-service-fabric-resource-model"></a>Общие сведения о модели ресурсов Service Fabric

Модель ресурсов Service Fabric описывает простой подход к определению ресурсов, составляющих приложение "Сетка Service Fabric". Отдельные ресурсы можно развернуть в любой среде Service Fabric.  Модель ресурсов Service Fabric также совместима с моделью Azure Resource Manager. В этой модели в настоящее время поддерживаются следующие типы ресурсов:

- Приложения и службы
- Сети
- Шлюзы
- Секреты или секреты и значения
- Тома

Каждый ресурс описан декларативно в файле ресурсов, представляющим собой простой документ YAML или JSON, который описывает приложение "Сетка" и подготавливается с помощью платформы Service Fabric.

## <a name="applications-and-services"></a>Приложения и службы

Ресурс приложения — это единица развертывания, управления версиями и времени существования приложения "Сетка". Он состоит из одного или нескольких ресурсов службы, которые представляют собой микрослужбы. Каждый ресурс службы, в свою очередь, состоит из одного или нескольких пакетов кода, которые описывают все необходимое для запуска образа контейнера, связанного с пакетом кода.

![Приложения и службы][Image1]

Ресурс службы объявляется следующим:

- Имя контейнера, версия и реестр
- Ресурсы ЦП и памяти, необходимые для каждого контейнера
- Конечные точки сети
- Ссылки на другие ресурсы, например сети, тома и секреты. 

Все пакеты кода, определенные как часть ресурса службы, развертываются и активируются как одна группа. Ресурс службы описывает количество экземпляров службы для запуска, а также ссылается на другие ресурсы (например, сетевой ресурс), от которых он зависит.

Если приложение "Сетка" состоит из нескольких служб, они не обязательно будут выполняться вместе на одном узле. Кроме того, во время обновления приложения сбой обновления одной службы приведет к откату всех служб до предыдущей версии.

Как уже упоминалось, жизненным циклом каждого приложения можно управлять независимо. Например, один экземпляр приложения можно обновить независимо от других экземпляров приложения. Как правило, в приложении относительно мало служб, ведь чем больше служб, тем сложнее управлять ими по отдельности.

## <a name="networks"></a>Сети

Сетевой ресурс развертывается отдельно, независимо от ресурсов приложения или службы, которые могут ссылаться на него как на зависимость. Он позволяет создать сеть для ваших приложений. Несколько служб из разных приложений могут входить в одну сеть.  Дополнительные сведения см. в статье о [сети в приложениях Сетки Service Fabric](service-fabric-mesh-networks-and-gateways.md).

> [!NOTE]
> Текущая предварительная версия поддерживает только сопоставление один к одному между приложениями и сетями

![Сеть и шлюз][Image2]

## <a name="gateways"></a>Шлюзы
Ресурс шлюза подключает две сети и маршрутизирует трафик.  Шлюз позволяет службе взаимодействовать с внешними клиентами и обеспечивает входящий трафик в службы.  Шлюз также можно использовать для подключения приложения сетки к собственной имеющейся виртуальной сети. Дополнительные сведения см. в статье о [сети в приложениях Сетки Service Fabric](service-fabric-mesh-networks-and-gateways.md).

![Сеть и шлюз][Image2]

## <a name="secrets"></a>Секреты

Ресурсы секретов развертываются независимо от ресурсов приложения или службы, которые могут ссылаться на них как на зависимость. Они используются для безопасного предоставления секретов в приложения. Несколько служб из разных приложений могут создавать ссылки на значения одного и того же секрета.

## <a name="volumes"></a>Тома

Контейнеры часто делают доступными временные диски. Временные диски являются временными, поэтому когда вы получаете новый временный диск, то теряете данные, если контейнер аварийно завершает работу. Кроме того, имеются трудности совместного использования сведений на временных дисках с другими контейнерами. Тома — это каталоги, которые вставляются в экземпляры контейнеров и используются для сохранения состояния. Тома предоставляют хранилище файлов общего назначения файлов и дают возможность чтения и записи файлов с помощью стандартных файловых API-интерфейсов дискового ввода-вывода. Ресурс тома — это декларативный способ описания того, как подключается каталог и где находится его резервное хранилище (как для тома службы файлов Azure, так и для надежного тома Service Fabric).  Дополнительную информацию см. в разделе [о хранении сведений состояния](service-fabric-mesh-storing-state.md#volumes).

![Тома][Image3]

## <a name="programming-models"></a>Модели программирования
Ресурсу службы для выполнения требуется только образ контейнера, на который ссылаются пакеты кода, связанные с ресурсом. Вы можете выполнить любой код на любом языке и платформе внутри контейнера, и вам не нужно знать или использовать API Сетки Service Fabric. 

Код приложения остается переносимым даже за пределами Сетки Service Fabric, а развертывания приложения остаются согласованными независимо от языка или платформы, используемых для реализации служб. Это может быть приложение ASP.NET Core, Go или просто набор процессов и сценариев, модель развертывания ресурсов Сетки Service Fabric остается неизменной. 

## <a name="packaging-and-deployment"></a>Упаковка и развертывание

Приложения Сетки Service Fabric на основе модели ресурсов упаковываются в виде контейнеров Docker.  Сетка Service Fabric является общей мультитенантной средой, а контейнеры обеспечивают высокий уровень изоляции.  Описываются эти приложения с помощью формата JSON или YAML (который затем преобразуется в формат JSON). При развертывании приложения в Сетке Azure Service Fabric JSON, используемый для описания приложения, — это шаблон Azure Resource Manager. Ресурсы сопоставляются с ресурсами Azure.  При развертывании приложения Сетки в кластер Service Fabric (автономный или размещенный в Azure) JSON, который используется для описания приложения, имеет формат, аналогичный шаблону Azure Resource Manager.  После развертывания приложениями Сетки можно управлять с помощью интерфейсов HTTP или Azure CLI. 


## <a name="next-steps"></a>Дополнительная информация 
Чтобы узнать больше о службе "Сетка Service Fabric", прочитайте этот обзор:
- [Обзор службы "Сетка Service Fabric"](service-fabric-mesh-overview.md)

[Image1]: media/service-fabric-mesh-service-fabric-resources/AppsAndServices.png
[Image2]: media/service-fabric-mesh-service-fabric-resources/NetworkAndGateway.png
[Image3]: media/service-fabric-mesh-service-fabric-resources/volumes.png
