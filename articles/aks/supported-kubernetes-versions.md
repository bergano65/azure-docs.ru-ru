---
title: Поддерживаемые версии Kubernetes в Службе Azure Kubernetes
description: Сведения о политике поддержки версии Kubernetes и жизненном цикле кластеров в Службе Azure Kubernetes (AKS).
services: container-service
author: sauryadas
ms.service: container-service
ms.topic: article
ms.date: 02/15/2019
ms.author: saudas
ms.openlocfilehash: aafc6c5a240a1dd3e3c75dd33da26bde918b2288
ms.sourcegitcommit: 94305d8ee91f217ec98039fde2ac4326761fea22
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2019
ms.locfileid: "57403215"
---
# <a name="supported-kubernetes-versions-in-azure-kubernetes-service-aks"></a>Поддерживаемые версии Kubernetes в Службе Azure Kubernetes (AKS)

Сообщество Kubernetes выпускает дополнительные версии примерно каждые три месяца. Эти выпуски содержат новые функции и улучшения. Исправления выпускаются чаще (иногда еженедельно) и предназначены только для устранения критических ошибок в дополнительной версии. Эти выпуски исправлений включают устранение уязвимостей безопасности или серьезных ошибок, влияющих на многих клиентов и большое количество продуктов, выполняющихся в рабочей среде на основе Kubernetes.

В первый день дополнительная версия Kubernetes доступна в [aks-engine][aks-engine]. Целевой уровень обслуживания AKS ориентирован на выпуск дополнительной версии для кластеров AKS в течение 30 дней, в зависимости от стабильности выпуска.

## <a name="kubernetes-version-support-policy"></a>Политика поддержки версии Kubernetes

AKS поддерживает четыре дополнительные версии Kubernetes:

- Текущая дополнительная версия, которая является вышестоящей (n).
- Три предыдущие дополнительные версии. Каждая поддерживаемая дополнительная версия также поддерживает два стабильных исправления.

Например, если AKS сейчас представляет версию *1.12.x*, поддержка также предоставляется версиям *1.11.a* + *1.11.b*, *1.10.c* + *1.10d*, *1.9.e* + *1.9f* (версии, в которых выпуски исправлений обозначенные буквами, являются двумя последними стабильными сборками).

Когда выпускается новая дополнительная версия, самая старая поддерживаемая дополнительная версия и выпуск исправлений удаляются. За 15 дней до выхода новой дополнительной версии и прекращения использования старой версии через [каналы обновления Azure][azure-update-channel] делается объявление. В указанном примере с выпуском версии *1.12.x* использование версий *1.8.g* + *1.8.h* прекращается.

При развертывании кластера AKS на портале или с помощью Azure CLI в кластере всегда используется дополнительная версия n-1 и последнее исправление. Например, если AKS поддерживает версии *1.12.x*, *1.11.a* + *1.11.b*, *1.10.c* + *1.10d*, *1.9.e* + *1.9F*, версия по умолчанию для новых кластеров — *1.11.b*.

## <a name="list-currently-supported-versions"></a>Список поддерживаемых версий

Чтобы узнать, какие версии доступны в настоящее время для вашей подписки и региона, используйте команду [​​az aks get-versions][az-aks-get-versions]. В следующем примере перечислены доступные версии Kubernetes для региона *EastUS*:

```azurecli-interactive
az aks get-versions --location eastus --output table
```

Результат является аналогичным указанному ниже и показывает, что *1.12.5* является последней доступной версией Kubernetes:

```
KubernetesVersion    Upgrades
-------------------  -----------------------
1.12.5               None available
1.12.4               1.12.5
1.11.7               1.12.4, 1.12.5
1.11.6               1.11.7, 1.12.4, 1.12.5
1.10.12              1.11.6, 1.11.7
1.10.9               1.10.12, 1.11.6, 1.11.7
1.9.11               1.10.9, 1.10.12
1.9.10               1.9.11, 1.10.9, 1.10.12
```

## <a name="faq"></a>Часто задаваемые вопросы

**Что происходит, когда клиент обновляет кластер Kubernetes с неподдерживаемой дополнительной версией?**

Если вы используете версию *n-4*, вы не соответствуете целевому уровню обслуживания. Если обновление с версии n-4 до n-3 завершается успешно, вы снова будете соответствовать целевому уровню обслуживания. Например: 

- Если поддерживаются версии AKS *1.12.x*, *1.11.a* + *1.11.b*, *1.10.c* + *1.10d*, и *1.9.e* + *1.9f*, а вы используете версию *1.8.g* или *1.8.h*, вы не соответствуете целевому уровню обслуживания.
- Если обновление версии *1.8.g* или *1.8.h* до версии *1.9.e* или *1.9.f* выполнено успешно, вы снова будете соответствовать целевому уровню обслуживания.

Обновления до версий старше *n-4* не поддерживаются. В таких случаях мы рекомендуем клиентам создать новые кластеры AKS и повторно развернуть их рабочие нагрузки.

**Что происходит, когда клиент выполняет масштабирование кластера Kubernetes с неподдерживаемой дополнительной версией?**

Свертывание и развертывание для дополнительных версий, не поддерживаемых AKS, выполняется без сбоев.

**Может ли клиент всегда использовать одну версию Kubernetes?**

Да. Однако, если кластер не использует одну из версий, поддерживаемых AKS, он перестает соответствовать целевому уровню обслуживания AKS. Azure не обновляет и не удаляет ваш кластер автоматически.

**Какую версию поддерживает главный кластер, если кластер агента не использует ни одну из поддерживаемых версий AKS?**

Главный кластер автоматически обновляется до последней поддерживаемой версии.

## <a name="next-steps"></a>Дальнейшие действия

Сведения об обновлении см. в статье [Обновление кластера Службы Azure Kubernetes (AKS)][aks-upgrade].

<!-- LINKS - External -->
[aks-engine]: https://github.com/Azure/aks-engine
[azure-update-channel]: https://azure.microsoft.com/updates/?product=kubernetes-service

<!-- LINKS - Internal -->
[aks-upgrade]: upgrade-cluster.md
[az-aks-get-versions]: /cli/azure/aks#az-aks-get-versions
