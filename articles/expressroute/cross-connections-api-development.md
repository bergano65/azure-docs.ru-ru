---
title: Разработка и интеграция API Azure ExpressRoute Кроссконннектионс
description: В этой статье содержатся подробные сведения о типе ресурса Експрессраутекроссконнектионс для партнеров ExpressRoute.
services: expressroute
author: duongau
ms.service: expressroute
ms.topic: conceptual
ms.date: 02/06/2020
ms.author: duau
ms.openlocfilehash: b80392231dba26a10141dcd8247b092e8171894c
ms.sourcegitcommit: a43a59e44c14d349d597c3d2fd2bc779989c71d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/25/2020
ms.locfileid: "96011988"
---
# <a name="expressroute-crossconnnections-api-development-and-integration"></a>Разработка и интеграция API Кроссконннектионс ExpressRoute

API-интерфейс диспетчер ресурсов для партнеров expressroute позволяет партнерам ExpressRoute управлять конфигурацией каналов ExpressRoute уровня 2 и уровня 3. В диспетчер ресурсов API партнера ExpressRoute появился новый тип ресурса **експрессраутекроссконнектионс**. Партнеры используют этот ресурс для управления каналами ExpressRoute клиента.

## <a name="workflow"></a>Рабочий процесс

Ресурс Експрессраутекроссконнектионс является теневым ресурсом для канала ExpressRoute. Когда клиент Azure создает канал ExpressRoute и выбирает конкретного партнера ExpressRoute, корпорация Майкрософт создает ресурс Експрессраутекроссконнектионс в подписке управления Azure ExpressRoute партнера. При этом Microsoft определяет группу ресурсов для создания ресурса Експрессраутекроссконнектионс в. Стандарт именования для группы ресурсов — **кроссконнектион-* пиринглокатион * * *; где Пиринглокатион = расположение ExpressRoute. Например, если клиент создает канал ExpressRoute в Денвер, Кроссконнектион будет создан в подписке Azure партнера в следующей группе ресурсов: **кроссконннектион-Денвер**.

Партнеры ExpressRoute управляют конфигурацией уровня 2 и уровня 3, выдавая операции RESTFUL для ресурса Експрессраутекроссконнектионс.

## <a name="benefits"></a>Преимущества

Преимущества перехода на ресурс Експрессраутекроссконнектионс:

* Все будущие улучшения для партнеров ExpressRoute будут доступны в ресурсе Експрессраутекроссконнектион.

* Партнеры могут применять [Управление доступом на основе ролей Azure (Azure RBAC)](../role-based-access-control/overview.md) к ресурсу експрессраутекроссконнектион. Эти элементы управления могут определять разрешения, для которых учетные записи пользователей могут изменять ресурс Експрессраутекроссконнектион, а также добавлять, обновлять и удалять конфигурации пиринга.

* Ресурс Експрессраутекроссконнектион предоставляет интерфейсы API, которые могут быть полезны при устранении неполадок подключений ExpressRoute. Сюда входят таблица ARP, сводка таблицы маршрутов BGP и таблица маршрутов BGP. Эта возможность не поддерживается классическими API развертывания.

* Партнеры также могут искать объявленные сообщества на пиринге Майкрософт с помощью ресурса *RouteFilter* .

## <a name="api-development-and-integration-steps"></a>Этапы разработки и интеграции API

Для разработки с помощью API-интерфейса партнеров Партнеры ExpressRoute используют тестовую настройку клиента и тестового партнера. Тестовая Настройка клиента будет использоваться для создания каналов ExpressRoute в тестовых расположениях, которые сопоставляются с фиктивными устройствами и портами. Программа установки партнера по тестированию используется для управления каналами ExpressRoute, созданными в расположении тестового пиринга.

### <a name="1-enlist-subscriptions"></a>1. Прикрепление подписок

Чтобы запросить тестового партнера и проверить настройку клиента, прикрепите две подписки Azure с оплатой по мере использования к вашему контакту по техническому проектированию ExpressRoute:
* **ExpressRoute_API_Dev_Provider_Sub:** Эта подписка будет использоваться для управления каналами ExpressRoute, созданными при тестировании расположения пиринга на фиктивных устройствах и портах.

* **ExpressRoute_API_Dev_Customer_Sub:** Эта подписка будет использоваться для создания каналов ExpressRoute в тестовых расположениях, которые сопоставляются с фиктивными устройствами и портами.

Расположения для тестирования пиринга: фиктивные устройства и порты по умолчанию не предоставляются рабочим клиентам. Чтобы создать каналы ExpressRoute, сопоставленные с программой установки тестов, необходимо включить флаг функции подписки.

### <a name="2-register-the-dev_provider-subscription-to-access-the-expressroutecrossconnections-api"></a>2. Зарегистрируйте Dev_Provider подписку для доступа к API Експрессраутекроссконнектионс.

Чтобы получить доступ к API Експрессраутекроссконнектионс, необходимо зарегистрировать партнерскую подписку в **поставщике ресурсов Microsoft. Network**. Выполните действия, описанные в статье [поставщики ресурсов Azure и типы](../azure-resource-manager/management/resource-providers-and-types.md#azure-portal) , чтобы завершить процесс регистрации.

### <a name="3-set-up-authentication-for-azure-resource-manager-rest-api-calls"></a>3. Настройка проверки подлинности для вызовов Azure Resource Manager REST API

Большинству служб Azure требуется клиентский код для проверки подлинности в диспетчер ресурсов с использованием действительных учетных данных перед вызовом API-интерфейсов службы. Служба проверки подлинности координирует связь между различными субъектами в Azure AD и предоставляет клиенту маркер доступа в качестве подтверждения проверки подлинности.

Процесс проверки подлинности состоит из двух основных этапов:

1. [Зарегистрируйте клиент](/rest/api/azure/#register-your-client-application-with-azure-ad).
2. [Создайте запрос на доступ](/rest/api/azure/#create-the-request).

### <a name="4-provide-network-contributor-permission-to-the-client-application"></a>4. Предоставьте клиентскому приложению разрешение на доступ к участнику сети.

После успешной настройки проверки подлинности необходимо предоставить участнику сети доступ к клиентскому приложению в Dev_Provider_Sub. Чтобы предоставить разрешение, войдите в [портал Azure](https://ms.portal.azure.com/#home) и выполните следующие действия.

1. Перейдите к разделу подписки и выберите Dev_Provider_Sub
2. Перейти к контролю доступа (IAM)
3. Добавить назначение ролей
4. Выбор роли "участник сети"
5. Назначение доступа пользователю Azure AD, группе или субъекту-службе
6. Выберите клиентское приложение
7. Сохранение изменений

### <a name="5-develop"></a>5. Разработка

Разработка с помощью [API експрессраутекроссконнектионс](/rest/api/expressroute/expressroutecrossconnections).

## <a name="rest-api"></a>REST API

См. раздел [ExpressRoute кроссконнектионс REST API](/rest/api/expressroute/expressroutecrossconnections) для REST APIной документации.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о всех API-интерфейсах RESTFUL для ExpressRoute см. в разделе [API-интерфейсы RESTful для expressroute](/rest/api/expressroute/).