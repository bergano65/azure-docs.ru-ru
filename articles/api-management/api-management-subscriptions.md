---
title: Подписки в службе управления API Azure | Документация Майкрософт
description: Сведения о концепции подписок в службе управления API Azure.
services: api-management
documentationcenter: ''
author: miaojiang
manager: cfowler
editor: ''
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/14/2018
ms.author: apimpm
ms.openlocfilehash: afd43bbf6f52f498ad8f56d5a48b960d45d84137
ms.sourcegitcommit: 509e1583c3a3dde34c8090d2149d255cb92fe991
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2019
ms.locfileid: "66243263"
---
# <a name="subscriptions-in-azure-api-management"></a>Подписки в службе управления API Azure

Подписки — это важная концепция в Управлении API в Azure. Это самый простой способ для пользователей API получить доступ к API, опубликованным в экземпляре Управления API. В статье представлен обзор этой концепции.

## <a name="what-are-subscriptions"></a>Что такое подписки?

При публикации API в Управлении API использование ключей подписки является самым простым способом защитить доступ к этим интерфейсам API. Разработчики, которым требуется использовать опубликованные API, должны включать действительный ключ подписки в HTTP-запросах при выполнении вызовов к этим API. Иначе все вызовы немедленно игнорируются шлюзом Управления API. Они не передаются в серверные службы.

Чтобы получить ключ подписки для доступа к API, нужна подписка. Подписка по сути является именованным контейнером для пары ключей подписки. Разработчики, которым требуется доступ к опубликованным API, могут получить подписки. Им не требуется согласие издателей API. Издатели API могут самостоятельно создавать подписки напрямую для пользователей API.

> [!TIP]
> Управление API поддерживает также другие механизмы для защиты доступа к API, среди них:
> - OAuth2.0 (дополнительные сведения см. [здесь](api-management-howto-protect-backend-with-aad.md));
> - сертификаты клиентов (см. [эту статью](api-management-howto-mutual-certificates-for-clients.md));
> - список разрешенных IP-адресов (приведен [здесь)](https://docs.microsoft.com/azure/api-management/api-management-access-restriction-policies#RestrictCallerIPs).

## <a name="scope-of-subscriptions"></a>Область подписок

Подписки можно связывать с разными областями, включая продукты, все API или отдельные API.

### <a name="subscriptions-for-a-product"></a>Подписки для продукта

Традиционно подписки в службе управления API связывались с одной областью [продукта API](api-management-terminology.md). Разработчики находят список продуктов на портале разработчика. Потом они отправляют запросы на подписку на продукт, который желают использовать. После утверждения запроса подписки автоматически или издателями API, разработчик может использовать ключи в нем для доступа к всем API в продукте. В настоящее время портал разработчика только отображаются подписки область продукта в разделе "профиль" пользователя. 

![Подписки для продукта](./media/api-management-subscriptions/product-subscription.png)

> [!TIP]
> В некоторых ситуациях издатели API предпочитают публиковать общедоступный продукт API, не требуя использовать подписки. Они могут отменить выбор параметра **Require subscription** (Требуется подписка) на странице продукта **Параметры** на портале Azure. В этом случае все API в составе этого продукта будут доступны без ключа API.

### <a name="subscriptions-for-all-apis-or-an-individual-api"></a>Подписки для всех API или отдельных API

Представив уровень [Потребление](https://aka.ms/apimconsumptionblog) службы "Управление API", мы реализовали ряд изменений, чтобы упростить управление ключами.
- Во-первых, появились две новые области действия подписки: все API и один API. Теперь область действия подписок не ограничивается исключительно продуктом API. Теперь можно создавать ключи, предоставляющие доступ к одному API (или всем API в экземпляре службы управления API) без необходимости создавать продукт и добавлять к нему API. Кроме того, каждый экземпляр Управления API теперь поставляется с неизменяемой подпиской на все API. Эта подписка упрощает и ускоряет тестирование и отладку API в консоли тестирования.

- Во-вторых, служба "Управление API" теперь поддерживает **автономные** подписки. Это означает, что подписки не обязательно должны быть связаны с учетной записью разработчика. Эта функция полезна в сценариях, когда одна подписка совместно используется несколькими разработчиками или группами.

- И наконец, издатели API теперь могут создавать подписки непосредственно на портале Azure. Как это делать, см. в [этой статье](api-management-howto-create-subscriptions.md).

    ![Гибкие подписки](./media/api-management-subscriptions/flexible-subscription.png)

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о службе управления API:

+ Узнайте о терминологии Управления API в [этой статье](api-management-terminology.md).
+ Ознакомьтесь с [руководствами](import-and-publish.md) по использованию службы управления API.
+ Изучите страницу [Часто задаваемые вопросы о службе управления API Azure](api-management-faq.md).
