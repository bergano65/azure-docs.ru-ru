---
title: Диагностика и устранение проблем в службе управления API Azure
description: Узнайте, как устранять проблемы с API в службе управления API Azure с помощью средства "Диагностика и решение" в портал Azure.
author: rzhang628
ms.service: api-management
ms.topic: article
ms.date: 02/05/2021
ms.author: rongzhang
ms.openlocfilehash: d41dcb939f981ce9cb6d3eae328cb2eb9adc20c2
ms.sourcegitcommit: 227b9a1c120cd01f7a39479f20f883e75d86f062
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/18/2021
ms.locfileid: "100654506"
---
# <a name="azure-api-management-diagnostics-overview"></a>Обзор диагностики управления API Azure

При создании API и управлении им в службе управления API Azure необходимо подготовиться к возникновению любых проблем, которые могут возникать из-за ошибки 404, которая не найдена, в 502 неверный шлюз. Диагностика управления API — это интеллектуальный и интерактивный интерфейс, помогающий устранять неполадки API, опубликованные в APIM, без необходимости настройки. При возникновении проблем с опубликованными API-интерфейсами система диагностики управления API выдает сведения о том, что не так, и помогает быстро устранить проблему и устранить ее.

Хотя эта функция наиболее полезна при повторном возникновении проблем с API в течение последних 24 часов, все диагностические диаграммы всегда доступны для анализа.

## <a name="open-api-management-diagnostics"></a>Открыть диагностику управления API

Чтобы получить доступ к диагностике управления API, перейдите к экземпляру службы управления API в [портал Azure](https://portal.azure.com). На панели навигации слева выберите **Диагностика и устранение проблем**.

:::image type="content" source="media/diagnose-solve-problems/apim-diagnostic-home.png" alt-text="На снимке экрана показано, как переходить к диагностике.":::



## <a name="intelligent-search"></a>интеллектуальный поиск.

Вы можете найти свои проблемы или проблемы на панели поиска в верхней части страницы. Поиск также помогает найти средства, которые могут помочь в устранении неполадок или их устранении. 

:::image type="content" source="media/diagnose-solve-problems/intelligent-search.png" alt-text="снимок экрана: интеллектуальный поиск.":::


## <a name="troubleshooting-categories"></a>Категории устранения неполадок

Неполадки можно устранить в разделе категории. Распространенные проблемы, связанные с производительностью API, шлюзом, политиками API и уровнем служб, можно анализировать в каждой категории. Каждая категория также предоставляет более конкретные проверки диагностики. 

:::image type="content" source="media/diagnose-solve-problems/troubleshooting-category.png" alt-text="снимок экрана с обзором категорий.":::


### <a name="availability-and-performance"></a>Доступность и производительность

Проверьте доступность API и проблемы с производительностью в этой категории. Выбрав эту плитку категории, вы увидите в интерактивном интерфейсе несколько распространенных проверок. Щелкните каждую проверку, чтобы углубиться в конкретные особенности каждой проблемы. Кроме того, будет представлена диаграмма, показывающая производительность API и сводку проблем с производительностью. Например, в службе API может возникнуть ошибка 5xx и время ожидания в течение последнего часа в серверной части. 

:::image type="content" source="media/diagnose-solve-problems/category-interactive-search-1.png" alt-text="Снимок экрана 1 интерактивной проверки интерфейса.":::



:::image type="content" source="media/diagnose-solve-problems/category-interactive-search-2.png" alt-text="Снимок экрана 2 интерактивной проверки интерфейса.":::

### <a name="api-policies"></a>Политики API

Эта категория обнаруживает ошибки и уведомляет вас о проблемах с политикой. 

Аналогичный интерактивный интерфейс предоставляет метрики данных, помогающие устранить неполадки с конфигурацией политик API.

:::image type="content" source="media/diagnose-solve-problems/proxy-policies.png" alt-text="снимок экрана: плитка категорий политик API.":::

### <a name="gateway-performance"></a>Производительность шлюза 

Для запросов или ответов шлюза, а также любых ошибок 4xx или 5xx на шлюзе используйте эту категорию для мониторинга и устранения неполадок. Аналогичным образом используйте интерактивный интерфейс, чтобы подробно изучить конкретную область, которую нужно проверить на производительность шлюза API. 

:::image type="content" source="media/diagnose-solve-problems/gateway-performance-tile.png" alt-text="снимок экрана: плитка категории производительности шлюза.":::

### <a name="service-upgrade"></a>Обновление службы

Эта категория проверяет, какой уровень служб (SKU) используется в настоящее время, и напоминает вам об обновлении, чтобы избежать проблем, которые могут быть связаны с этим уровнем. Один и тот же интерактивный интерфейс позволяет глубже работать с большим количеством графических объектов и результатов проверки сводки. 

:::image type="content" source="media/diagnose-solve-problems/service-sku.png" alt-text="снимок экрана: плитка категории обновления службы.":::

## <a name="search-documentation"></a>Поиск в документации

Дополнительно к средствам диагностики и устранения неполадок можно найти документацию по устранению неполадок, связанную с проблемой. После выполнения диагностики в службе выберите **Поиск документации** в интерактивном интерфейсе. 

 :::image type="content" source="media/diagnose-solve-problems/search-documentation.png" alt-text="снимок экрана 1. Использование функции поиска документации.":::


 :::image type="content" source="media/diagnose-solve-problems/search-documentation-2.png" alt-text="снимок экрана, посвященный использованию документации по поиску.":::


## <a name="next-steps"></a>Дальнейшие действия

* Также используйте [аналитику API](howto-use-analytics.md) для анализа использования и производительности API-интерфейсов. 
* Хотите устранить неполадки веб-приложений с помощью диагностики? Прочтите [здесь](../app-service/overview-diagnostics.md)
* Используйте диагностику для проверки проблем с Azure Kubernetes Services. См. раздел [Диагностика в AKS](../aks/concepts-diagnostics.md)
* Опубликуйте свои вопросы или отзывы в [UserVoice](https://feedback.azure.com/forums/248703-api-management) , добавив "[DIAG]" в заголовке.