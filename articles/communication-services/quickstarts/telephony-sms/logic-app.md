---
title: Краткое руководство по отправке SMS-сообщений Azure Logic Apps с помощью Служб коммуникации Azure
titleSuffix: An Azure Communication Services quickstart
description: В этом кратком руководстве описано, как отправлять SMS-сообщения в рабочие процессы Azure Logic Apps с помощью соединителя Служб коммуникации Azure.
author: tophpalmer
manager: anvalent
services: azure-communication-services
ms.author: chpalm
ms.date: 10/06/2020
ms.topic: quickstart
ms.service: azure-communication-services
ms.openlocfilehash: ed9af178c10d033806b05f73372a0642bb28cab4
ms.sourcegitcommit: 23aa0cf152b8f04a294c3fca56f7ae3ba562d272
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2020
ms.locfileid: "91801672"
---
# <a name="quickstart-send-sms-messages-in-azure-logic-apps-with-azure-communication-services"></a>Краткое руководство. Отправка SMS-сообщений Azure Logic Apps с помощью Служб коммуникации Azure

С помощью соединителя [SMS для Служб коммуникации Azure](../../overview.md) и [Azure Logic Apps](../../../logic-apps/logic-apps-overview.md) можно создавать автоматизированные рабочие процессы или *приложения логики*, которые могут отправлять SMS-сообщения. В этом кратком руководстве показано, как автоматически отправлять текстовые сообщения в ответ на события-триггеры. Эта процедура является первым шагом в рабочем процессе приложения логики. Событием-триггером может быть входящее сообщение электронной почты, расписанием повторений, событие ресурса [Сетки событий Azure](../../../event-grid/overview.md) или любой другой [триггер, поддерживаемый Azure Logic Apps](/connectors/connector-reference/connector-reference-logicapps-connectors).

:::image type="content" source="./media/logic-app/azure-communication-services-connector.png" alt-text="Снимок экрана портала Azure, на котором открыт конструктор приложений логики и показан пример приложения логики, использующего действие &quot;Отправить SMS&quot; для соединителя Службы коммуникации Azure.":::

Хотя в этом кратком руководстве основное внимание уделяется использованию соединителя для реагирования именно на триггер, его можно также применять для реагирования на другие действия, которые являются этапами, выполняемыми при срабатывании триггера в рабочем процессе. Если вы не знакомы с возможностями Logic Apps, для начала просмотрите статью [Что такое Azure Logic Apps](../../../logic-apps/logic-apps-overview.md).

> [!NOTE]
> Выполнение этого краткого руководства предполагает небольшую дополнительную плату в несколько центов США в учетной записи Azure.

## <a name="prerequisites"></a>Предварительные требования

- Учетная запись Azure с активной подпиской. [Создать бесплатную учетную запись Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F).

- Активный ресурс Служб коммуникации Azure. [Создать ресурс Служб коммуникации](../create-communication-resource.md).

- Активный ресурс Logic Apps (приложение логики). [Создать пустое приложение логики с необходимым триггером](../../../logic-apps/quickstart-create-first-logic-app-workflow.md). В настоящее время соединитель SMS Служб коммуникации Azure предоставляет только действия, поэтому приложение логики должно содержать как минимум триггер.

  В этом кратком руководстве описано использование триггера **Когда приходит новое электронное письмо**, который доступен в [соединителе Outlook Office 365](/connectors/office365/).

- Номер телефона с поддержкой SMS. [Получить номер телефона](./get-phone-number.md).

## <a name="add-an-sms-action"></a>Добавление действия с SMS

Чтобы добавить с помощью соединителя SMS Служб коммуникации Azure действие **Отправить SMS** в качестве нового шага рабочего процесса, выполните следующие действия на [портале Azure](https://portal.azure.com) с помощью рабочего процесса приложения логики, открытого в конструкторе приложений логики:

1. В конструкторе в шаге, где вы хотите добавить новое действие, выберите **Создать шаг**. Если же необходимо добавить новое действие между шагами, наведите указатель мыши на стрелку между этими шагами, щелкните знак "плюс" ( **+** ) и выберите **Добавить действие**.

1. В поле поиска **Выберите операцию** введите `Azure Communication Services`. В списке действия выберите **Отправить SMS**.

   :::image type="content" source="./media/logic-app/select-send-sms-action.png" alt-text="Снимок экрана портала Azure, на котором открыт конструктор приложений логики и показан пример приложения логики, использующего действие &quot;Отправить SMS&quot; для соединителя Службы коммуникации Azure.":::

1. Теперь создайте подключение к ресурсу Служб коммуникации.

   1. Укажите имя подключения.

   1. Выберите ресурс Служб коммуникации Azure.

   1. Нажмите кнопку **создания**.

   :::image type="content" source="./media/logic-app/send-sms-configuration.png" alt-text="Снимок экрана портала Azure, на котором открыт конструктор приложений логики и показан пример приложения логики, использующего действие &quot;Отправить SMS&quot; для соединителя Службы коммуникации Azure.":::

1. В области действия **Отправить SMS** введите следующие сведения: 

   * Исходный и конечный номера телефонов. В целях тестирования в качестве конечного номера телефона можно использовать собственный номер телефона.

   * Содержимое сообщения, которое необходимо отправить, например "Привет от Logic Apps!".

   Ниже показано действие **Отправить SMS** с примерами сведений.

   :::image type="content" source="./media/logic-app/send-sms-action.png" alt-text="Снимок экрана портала Azure, на котором открыт конструктор приложений логики и показан пример приложения логики, использующего действие &quot;Отправить SMS&quot; для соединителя Службы коммуникации Azure.":::

1. По завершении нажмите кнопку **Сохранить** на панели инструментов конструктора.

Затем запустите приложение логики, чтобы его протестировать.

## <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы вручную запустить приложение логики, на панели инструментов конструктора щелкните **Запустить**. Можно также подождать, пока для приложения логики сработает триггер. В обоих случаях приложение логики должно отправить сообщение SMS на указанный конечный телефонный номер. Дополнительные сведения см. в статье о том, [как запустить приложение логики](../../../logic-apps/quickstart-create-first-logic-app-workflow.md#run-your-logic-app).

## <a name="clean-up-resources"></a>Очистка ресурсов

Чтобы удалить подписку на Службы коммуникации, удалите их ресурс или группу ресурсов. При удалении группы ресурсов удаляются также все остальные связанные с этой группой ресурсы. Дополнительные сведения см. в статье об [очистке Служб коммуникации от ресурсов](../create-communication-resource.md#clean-up-resources).

Сведения о том, как удалить рабочий процесс приложения логики и связанные с ним ресурсы, см в статье об [очистке Logic Apps от ресурсов](../../../logic-apps/quickstart-create-first-logic-app-workflow.md#clean-up-resources).

## <a name="next-steps"></a>Дальнейшие действия

Из этого краткого руководства вы узнали, как реализовать отправку SMS-сообщений с помощью Azure Logic Apps и Служб коммуникации Azure. Чтобы узнать больше, подпишитесь на события SMS:

> [!div class="nextstepaction"]
> [Оформление подписки на события SMS](./handle-sms-events.md)

Дополнительные сведения об использовании SMS в Службах коммуникации Azure см. в следующих статьях:

- [Основные понятия обмена SMS](../../concepts/telephony-sms/concepts.md)
- [Планирование решения для телефонии и SMS](../../concepts/telephony-sms/plan-solution.md)
- [Пакет SDK для SMS](../../concepts/telephony-sms/sdk-features.md)
