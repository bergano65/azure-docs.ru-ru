---
title: Проблемы с подключением баз данных источника
titleSuffix: Azure Database Migration Service
description: Узнайте, как устранять известные проблемы и ошибки, связанные с подключением Azure Database Migration Service к исходным базам данных.
services: database-migration
author: pochiraju
ms.author: rajpo
manager: craigg
ms.reviewer: craigg
ms.service: dms
ms.workload: data-services
ms.custom: seo-lt-2019
ms.topic: article
ms.date: 02/20/2020
ms.openlocfilehash: 3eef7476a729c7b83290b9d8d86ba06524bed72b
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80297099"
---
# <a name="troubleshoot-dms-errors-when-connecting-to-source-databases"></a>Troubleshoot DMS errors when connecting to source databases (Устранение ошибок DMS при подключении к базам данных-источникам)

В следующей статье содержатся сведения о том, как устранить потенциальные проблемы, которые могут возникнуть при подключении Azure Database Migration Service (DMS) к базе данных-источнику. В каждом разделе, относящемся к определенному типу базы данных-источника, описывается ошибка, которая может возникнуть вместе с подробными сведениями и ссылками на информацию об устранении неполадок подключения.

## <a name="sql-server"></a>SQL Server

В следующей таблице приведены потенциальные проблемы, связанные с подключением к базе данных источника SQL Server и их устранением.

| Ошибка         | Сведения о причинах и устранении неполадок |
| ------------- | ------------- |
| Сбой подключения SQL. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не найден или недоступен. Убедитесь, что имя экземпляра указано правильно и что SQL Server настроено для разрешения удаленных подключений.<br> | Эта ошибка возникает, если службе не удается разместить исходный сервер. Сведения о том, как устранить эту ошибку, см. в статье [Ошибка при подключении к источнику SQL Server при использовании динамического порта или именованного экземпляра](https://docs.microsoft.com/azure/dms/known-issues-troubleshooting-dms#error-connecting-to-source-sql-server-when-using-dynamic-port-or-named-instance). |
| **Ошибка 53** -не удалось подключиться к SQL. (Кроме того, для кодов ошибок 1, 2, 5, 53, 233, 258, 1225, 11001)<br><br> | Эта ошибка возникает, если службе не удается подключиться к исходному серверу. Чтобы устранить эту ошибку, ознакомьтесь со следующими ресурсами и повторите попытку. <br><br>  [Интерактивное пользовательское по для устранения проблемы с подключением](https://support.microsoft.com/help/4009936/solving-connectivity-errors-to-sql-server)<br><br> [Предварительные требования для переноса SQL Server в Базу данных SQL Azure](https://docs.microsoft.com/azure/dms/pre-reqs#prerequisites-for-migrating-sql-server-to-azure-sql-database) <br><br> [Необходимые условия для миграции SQL Server в управляемый экземпляр базы данных SQL Azure](https://docs.microsoft.com/azure/dms/pre-reqs#prerequisites-for-migrating-sql-server-to-an-azure-sql-database-managed-instance) |
| **Ошибка 18456** — ошибка входа.<br> | Эта ошибка возникает, если службе не удается подключиться к базе данных-источнику с помощью предоставленных учетных данных T-SQL. Чтобы устранить эту ошибку, проверьте указанные учетные данные. Можно также обратиться к [MSSQLSERVER_18456](https://docs.microsoft.com/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error?view=sql-server-2017) или к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, и повторить попытку. |
| Указано неправильно сформированное{0}значение AccountName "". Для AccountName требуется формат имя_домена \ имя_пользователя.<br> | Эта ошибка возникает, если пользователь выбирает проверку подлинности Windows, но предоставляет имя пользователя в недопустимом формате. Чтобы устранить эту ошибку, предоставьте имя пользователя в правильном формате для проверки подлинности Windows или выберите **Проверка подлинности SQL**. |

## <a name="aws-rds-mysql"></a>AWS RDS MySQL

В следующей таблице приведены потенциальные проблемы, связанные с подключением к источнику базы данных AWS RDS MySQL и способам их устранения.

| Ошибка         | Сведения о причинах и устранении неполадок |
| ------------- | ------------- |
| **Ошибка [2003]**[HY000]-Сбой подключения. Ошибка [HY000] [MySQL] [ODBC x. x (w) Driver] не удается подключиться к серверу MySQL на сервере "{Server}" (10060) | Эта ошибка возникает, если драйверу ODBC MySQL не удается подключиться к исходному серверу. Чтобы устранить эту неполадку, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку.<br> |
| **Ошибка [2005]**[HY000]-Сбой подключения. Ошибка [HY000] [MySQL] [ODBC x. x (w) драйвер] Неизвестный узел сервера MySQL "{Server}" | Эта ошибка возникает, если службе не удается найти исходный узел в RDS. Проблема может быть вызвана тем, что указанный источник не существует или возникла проблема с инфраструктурой RDS. Чтобы устранить эту неполадку, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку.<br> |
| **Ошибка [1045]**[HY000]-Сбой подключения. Ошибка [HY000] [MySQL] [ODBC x. x (w) драйвер] отказано в доступе для пользователя "{User}" @ "{Server}" (с использованием пароля: YES) | Эта ошибка возникает, если драйверу ODBC MySQL не удается подключиться к исходному серверу из-за недопустимых учетных данных. Проверьте введенные учетные данные. Если проблема не будет устранена, убедитесь, что исходный компьютер имеет правильные учетные данные. Может потребоваться сбросить пароль в консоли. Если проблема по-прежнему возникает, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку.<br> |
| **Ошибка [9002]**[HY000]-Сбой подключения. Ошибка [HY000] [MySQL] [ODBC x. x (w) драйвер] строка подключения может быть неправильной. Посетите портал для ссылок.| Эта ошибка возникает в случае сбоя подключения из-за проблемы со строкой подключения. Убедитесь, что указана допустимая строка подключения. Чтобы устранить эту неполадку, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку.<br> |
| **Ошибка при ведении журнала в двоичном формате. Переменная binlog_format имеет значение "{value}". Измените его на "Row".** | Эта ошибка возникает при возникновении ошибки в двоичном ведении журнала. переменная binlog_format имеет неверное значение. Чтобы устранить эту ошибку, измените binlog_format в группе параметров на "строка", а затем перезагрузите экземпляр. Дополнительные сведения см. в статье о [параметрах и переменных ведения журнала в двоичном формате](https://dev.mysql.com/doc/refman/5.7/en/replication-options-binary-log.html) или в [документации по файлам журналов базы данных AWS RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_LogAccess.Concepts.MySQL.html).<br> |

> [!NOTE]
> Дополнительные сведения об устранении проблем, связанных с подключением к исходной базе данных AWS RDS MySQL, см. в следующих ресурсах:
> * [Устранение неполадок с подключением Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html#CHAP_Troubleshooting.Connecting)
> * [Разделы справки устранить неполадки подключения к экземпляру базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="aws-rds-postgresql"></a>AWS RDS PostgreSQL

В следующей таблице приведены потенциальные проблемы, связанные с подключением к исходной базе данных AWS RDS PostgreSQL и способы их устранения.

| Ошибка         | Сведения о причинах и устранении неполадок |
| ------------- | ------------- |
| **Ошибка [101]**[08001]-Сбой подключения. Ошибка [08001] истекло время ожидания. | Эта ошибка возникает, если драйвер postgres не может подключиться к исходному серверу. Чтобы устранить эту неполадку, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку. |
| **Ошибка: параметр wal_level имеет значение "{value}". Измените его на "логическое", чтобы разрешить репликацию.** | Эта ошибка возникает, если параметр wal_level имеет неверное значение. Чтобы устранить эту ошибку, измените значение RDS. logical_replication в группе параметров на 1, а затем перезагрузите экземпляр. Дополнительные сведения см. в статье [Предварительные требования для перехода на Azure PostgreSQL с помощью DMS](https://docs.microsoft.com/azure/dms/tutorial-postgresql-azure-postgresql-online#prerequisites) или [PostgreSQL в Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_PostgreSQL.html). |

> [!NOTE]
> Дополнительные сведения об устранении неполадок, связанных с подключением к исходной базе данных AWS RDS PostgreSQL, см. в следующих ресурсах:
> * [Устранение неполадок с подключением Amazon RDS](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html#CHAP_Troubleshooting.Connecting)
> * [Разделы справки устранить неполадки подключения к экземпляру базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="aws-rds-sql-server"></a>AWS RDS SQL Server

В следующей таблице приведены потенциальные проблемы, связанные с подключением к исходной базе данных AWS RDS SQL Server и их устранению.

| Ошибка         | Сведения о причинах и устранении неполадок |
| ------------- | ------------- |
| **Ошибка 53** -не удалось подключиться к SQL. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не найден или недоступен. Убедитесь, что имя экземпляра указано правильно и что SQL Server настроено для разрешения удаленных подключений. (поставщик: поставщик именованных каналов, ошибка: 40-не удалось открыть подключение к SQL Server | Эта ошибка возникает, если службе не удается подключиться к исходному серверу. Чтобы устранить эту неполадку, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку. |
| **Ошибка 18456** — ошибка входа. Ошибка входа пользователя "{User}" | Эта ошибка возникает, если службе не удается подключиться к базе данных-источнику с помощью предоставленных учетных данных T-SQL. Чтобы устранить эту ошибку, проверьте указанные учетные данные. Можно также обратиться к [MSSQLSERVER_18456](https://docs.microsoft.com/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error?view=sql-server-2017) или к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, и повторить попытку. |
| **Ошибка 87** -недопустимая строка подключения. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не найден или недоступен. Убедитесь, что имя экземпляра указано правильно и что SQL Server настроено для разрешения удаленных подключений. (поставщик: Сетевые интерфейсы SQL, ошибка: 25-строка подключения недопустима) | Эта ошибка возникает, если службе не удается подключиться к исходному серверу из-за недопустимой строки подключения. Чтобы устранить эту ошибку, проверьте указанную строку подключения. Если проблема будет повторяться, ознакомьтесь с документами по устранению неполадок, перечисленными в заметке ниже этой таблицы, и повторите попытку. |
| **Ошибка-сертификат сервера не является доверенным.** Соединение с сервером было успешно установлено, но при входе в систему произошла ошибка. (поставщик: поставщик SSL, ошибка: 0 — цепочка сертификатов была выдана центром сертификации, который не является доверенным.) | Эта ошибка возникает, если используемый сертификат не является доверенным. Чтобы устранить эту ошибку, необходимо найти сертификат, который может быть доверенным, а затем включить его на сервере. Кроме того, при подключении можно выбрать параметр доверять сертификату. Выполните это действие только в том случае, если вы знакомы с используемым сертификатом и доверяете ему. <br> TLS-подключения, зашифрованные с помощью самозаверяющего сертификата, не обеспечивают надежной безопасности. они уязвимы для атак типа "злоумышленник в середине". Не полагайтесь на TLS, используя самозаверяющие сертификаты в рабочей среде или на серверах, подключенных к Интернету. <br> Дополнительные сведения см. в статье [использование SSL с экземпляром Microsoft SQL Server DB или в](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/SQLServer.Concepts.General.SSL.Using.html) [руководстве по переносу SQL Server RDS в Azure с помощью DMS](https://docs.microsoft.com/azure/dms/tutorial-rds-sql-server-azure-sql-and-managed-instance-online#prerequisites). |
| **Ошибка 300** -пользователь не имеет необходимых разрешений. Разрешение на просмотр состояния сервера запрещено для объекта "{Server}", база данных "{Database}" | Эта ошибка возникает, если пользователь не имеет разрешения на выполнение миграции. Чтобы устранить эту ошибку, обратитесь к статье [Grant Server Permissions-Transact-SQL](https://docs.microsoft.com/sql/t-sql/statements/grant-server-permissions-transact-sql?view=sql-server-2017) или руководству [: миграция RDS SQL Server в Azure с помощью DMS](https://docs.microsoft.com/azure/dms/tutorial-rds-sql-server-azure-sql-and-managed-instance-online#prerequisites) для получения дополнительных сведений. |

> [!NOTE]
> Дополнительные сведения об устранении неполадок, связанных с подключением к источнику AWS RDS SQL Server, см. в следующих ресурсах:
>
> * [Устранение ошибок подключения к SQL Server](https://support.microsoft.com/help/4009936/solving-connectivity-errors-to-sql-server)
> * [Разделы справки устранить неполадки подключения к экземпляру базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="known-issues"></a>Известные проблемы

* [Известные проблемы и ограничения миграции при оперативной миграции в базу данных SQL Azure](https://docs.microsoft.com/azure/dms/known-issues-azure-sql-online)
* [Известные проблемы и ограничения миграции при оперативной миграции в базу данных Azure для MySQL](https://docs.microsoft.com/azure/dms/known-issues-azure-mysql-online)
* [Известные проблемы и ограничения миграции при оперативной миграции в базу данных Azure для PostgreSQL](https://docs.microsoft.com/azure/dms/known-issues-azure-postgresql-online)

## <a name="next-steps"></a>Дальнейшие шаги

* Просмотрите статью [Azure Database Migration Service PowerShell](https://docs.microsoft.com/powershell/module/azurerm.datamigration/?view=azurermps-6.13.0#data_migration).
* Ознакомьтесь со статьей [Настройка параметров сервера в базе данных Azure для MySQL с помощью портал Azure](https://docs.microsoft.com/azure/mysql/howto-server-parameters).
* Ознакомьтесь со статьей [Обзор предварительных требований для использования Azure Database Migration Service](https://docs.microsoft.com/azure/dms/pre-reqs).
* См. [вопросы и ответы об использовании Azure Database Migration Service](https://docs.microsoft.com/azure/dms/faq).
