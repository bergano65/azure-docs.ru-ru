---
title: Поиск Azure Data Lake Storage 2-го поколения (Предварительная версия)
titleSuffix: Azure Cognitive Search
description: Узнайте, как индексировать содержимое и метаданные в Azure Data Lake Storage 2-го поколения. Сейчас эта функция доступна в общедоступной предварительной версии
manager: nitinme
author: markheff
ms.author: maheff
ms.devlang: rest-api
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 07/11/2020
ms.openlocfilehash: b1a88398d657e6bc242c7db12f3c0ddc1af828ca
ms.sourcegitcommit: 62e1884457b64fd798da8ada59dbf623ef27fe97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2020
ms.locfileid: "88935863"
---
# <a name="indexing-documents-in-azure-data-lake-storage-gen2"></a>Индексирование документов в Azure Data Lake Storage 2-го поколения

> [!IMPORTANT] 
> Поддержка Azure Data Lake Storage 2-го поколения в настоящее время доступна в общедоступной предварительной версии. Для предварительной версии функции соглашение об уровне обслуживания не предусмотрено. Мы не рекомендуем использовать ее в рабочей среде. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/). Вы можете запросить доступ к предварительным просмотрам, заполнив [эту форму](https://aka.ms/azure-cognitive-search/indexer-preview). Эта функция предоставляется [REST API версии 2020-06-30-Preview](search-api-preview.md) и портале. Пакет SDK для .NET сейчас не поддерживается.


При настройке учетной записи хранения Azure можно включить [Иерархическое пространство имен](../storage/blobs/data-lake-storage-namespace.md). Это позволяет организовать сбор содержимого в учетной записи в иерархию каталогов и вложенных подкаталогов. Включив иерархическое пространство имен, вы включаете [Azure Data Lake Storage 2-го поколения](../storage/blobs/data-lake-storage-introduction.md).

В этой статье описывается, как приступить к индексированию документов, которые находятся в Azure Data Lake Storage 2-го поколения.

## <a name="set-up-azure-data-lake-storage-gen2-indexer"></a>Настройка индексатора Azure Data Lake Storage 2-го поколения

Для индексации содержимого из Data Lake Storage 2-го поколения необходимо выполнить несколько действий.

### <a name="step-1-sign-up-for-the-preview"></a>Шаг 1. Регистрация в предварительной версии

Зарегистрируйтесь в предварительной версии индексатора Data Lake Storage 2-го поколения, заполнив [эту форму](https://aka.ms/azure-cognitive-search/indexer-preview). После принятия предварительной версии вы получите сообщение электронной почты с подтверждением.

### <a name="step-2-follow-the-azure-blob-storage-indexing-setup-steps"></a>Шаг 2. Следуйте инструкциям по настройке индексирования хранилища BLOB-объектов Azure

После получения подтверждения о том, что предварительная версия регистрации прошла успешно, можно приступать к созданию конвейера индексирования.

Вы можете индексировать содержимое и метаданные из Data Lake Storage 2-го поколения с помощью [REST API версии 2020-06-30-Preview](search-api-preview.md) или портала. Поддержка пакета SDK для .NET пока не реализована.

Индексирование содержимого в Data Lake Storage 2-го поколения идентично индексированию содержимого в хранилище BLOB-объектов Azure. Чтобы узнать, как настроить Data Lake Storage 2-го поколения источник данных, индекс и индексатор, см. статью [индексирование документов в хранилище BLOB-объектов Azure с помощью azure когнитивный Поиск](search-howto-indexing-azure-blob-storage.md). В статье хранилище BLOB-объектов также приводятся сведения о поддерживаемых форматах документов, свойствах метаданных больших двоичных объектов, извлечении, добавочном индексировании и т. д. Эта информация будет одинаковой для Data Lake Storage 2-го поколения.

## <a name="access-control"></a>Управление доступом

Azure Data Lake Storage 2-го поколения реализует [модель управления доступом](../storage/blobs/data-lake-storage-access-control.md) , поддерживающую управление доступом на основе ролей Azure (Azure RBAC) и списки управления доступом (ACL), аналогичные стандарту POSIX. При индексировании содержимого из Data Lake Storage 2-го поколения Azure Когнитивный поиск не извлечет сведения о RBAC и ACL из содержимого. В результате эта информация не будет включаться в индекс Azure Когнитивный поиск.

Если важна поддержка контроля доступа для каждого документа в индексе, разработчик приложения должен реализовать [фильтрацию безопасности](./search-security-trimming-for-azure-search.md).

## <a name="change-detection"></a>Обнаружение изменений

Индексатор Data Lake Storage 2-го поколения поддерживает обнаружение изменений. Это означает, что при выполнении индексатора он переиндексирует только измененные большие двоичные объекты, как определено меткой времени большого двоичного объекта `LastModified` .

> [!NOTE] 
> Data Lake Storage 2-го поколения позволяет переименовывать каталоги. При переименовании каталога метки времени для больших двоичных объектов в этом каталоге не обновляются. В результате индексатор не будет переиндексации этих больших двоичных объектов. Если требуется повторное индексирование больших двоичных объектов в каталоге после переименования каталога, так как теперь у них есть новые URL-адреса, необходимо обновить `LastModified` отметку времени для всех больших двоичных объектов в каталоге, чтобы индексатор знал о необходимости повторного индексирования в ходе следующего запуска.