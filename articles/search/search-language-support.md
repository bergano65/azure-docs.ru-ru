---
title: Многоязычная индексация поисковых запросов (не английских) в службе "Поиск Azure"
description: Служба поиска Azure поддерживает 56 языков — для этого используются языковые анализаторы Lucene и технология Майкрософт для обработки естественных языков.
author: yahnoosh
manager: nitinme
services: search
ms.service: search
ms.topic: conceptual
ms.date: 08/08/2019
ms.author: jlembicz
ms.openlocfilehash: 9d2e6418eb925f0d113b7e9a91463951ca52031a
ms.sourcegitcommit: 7a6d8e841a12052f1ddfe483d1c9b313f21ae9e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70186558"
---
# <a name="how-to-create-an-index-for-multiple-languages-in-azure-search"></a>Создание индекса для нескольких языков в службе поиска Azure

Индексы могут включать поля, содержащие содержимое из нескольких языков, например, создание отдельных полей для строк, зависящих от языка. Для получения наилучших результатов при индексировании и выполнении запросов назначьте анализатор языка, предоставляющий соответствующие лингвистические правила. 

Поиск Azure предлагает широкий выбор языковых анализаторов из Lucene и Microsoft, которые могут быть назначены отдельным полям с помощью свойства анализатора. Можно также указать анализатор языка на портале, как описано в этой статье.

## <a name="add-analyzers-to-fields"></a>Добавление анализаторов в поля

При создании поля указывается анализатор языка. Для добавления анализатора к существующему определению поля требуется перезапись (и повторная загрузка) индекса или создание нового поля, идентичного исходному, но с назначением анализатора. После этого можно было бы удалить неиспользуемое поле.

1. Войдите в [портал Azure](https://portal.azure.com) и найдите службу поиска.
1. Щелкните **Добавить индекс** на панели команд вверху панели мониторинга службы, чтобы создать новый индекс, или откройте существующий индекс, чтобы задать анализатор в добавляемых в него полях.
1. Запустите определение поля, указав имя.
1. Выберите тип данных EDM. String. Только строковые поля доступны для полнотекстового поиска.
1. Задайте атрибут с **возможностью поиска** , чтобы включить свойство анализатора. Поле должно быть основано на тексте, чтобы использовать анализатор языка.
1. Выберите один из доступных анализаторов. 

![Назначение анализаторов языка во время определения поля](media/search-language-support/select-analyzer.png "Назначение анализаторов языка во время определения поля")

По умолчанию все поля, поддерживающие поиск, используют [стандартный анализатор Lucene](https://lucene.apache.org/core/6_6_1/core/org/apache/lucene/analysis/standard/StandardAnalyzer.html) , который не зависит от языка. Полный список поддерживаемых анализаторов см. в статье [Добавление языковых анализаторов в индекс службы поиска Azure](index-add-language-analyzers.md).

На портале анализаторы предназначены для использования "как есть". Если требуется настройка или определенная конфигурация фильтров и маркеров, необходимо [создать пользовательский анализатор](index-add-custom-analyzers.md) в коде. Портал не поддерживает выбор и настройку пользовательских анализаторов.

## <a name="query-language-specific-fields"></a>Поля, зависящие от языка запросов

Выбранный для поля анализатор языка будет использоваться при каждом запросе индексирования и поиска для этого поля. При выполнении запроса к нескольким полям с помощью разных анализаторов запрос будет обрабатываться независимо от назначенных анализаторов для каждого поля.

Если известен язык агента, отправившего запрос, запрос поиска можно ограничить определенным полем с помощью параметра **searchFields** . Следующий запрос будет применен только к описанию на польском языке:

`https://[service name].search.windows.net/indexes/[index name]/docs?search=darmowy&searchFields=PolishContent&api-version=2019-05-06`

Вы можете запросить индекс на портале с помощью [**обозревателя поиска**](search-explorer.md) , чтобы вставить запрос, аналогичный показанному выше.

## <a name="boost-language-specific-fields"></a>Повышение уровня полей для конкретного языка

Если язык агента, отправившего запрос, неизвестен, запрос можно применить ко всем полям одновременно. При необходимости можно сделать какой-то язык предпочтительным, воспользовавшись [профилями оценки](index-add-scoring-profiles.md). В следующем примере совпадения, найденные в описании на английском языке, получат более высокую оценку, чем совпадения на польском или французском языках:

    "scoringProfiles": [
      {
        "name": "englishFirst",
        "text": {
          "weights": { "description_en": 2 }
        }
      }
    ]

`https://[service name].search.windows.net/indexes/[index name]/docs?search=Microsoft&scoringProfile=englishFirst&api-version=2019-05-06`

## <a name="next-steps"></a>Следующие шаги

Если вы являетесь разработчиком .NET, обратите внимание, что вы можете настроить языковые анализаторы с помощью [пакета SDK .NET для службы поиска Azure](https://www.nuget.org/packages/Microsoft.Azure.Search) и свойства [анализатора](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.models.analyzer?view=azure-dotnet) . 