---
title: Основные понятия отладочных сеансов (Предварительная версия)
titleSuffix: Azure Cognitive Search
description: Сеансы отладки, доступные через портал Azure, предоставляют интегрированную среду разработки, где можно выявлять и устранять ошибки, проверять изменения и отправлять изменения в набор навыков в конвейере обогащения с помощью ИИ. Сеансы отладки находятся на этапе предварительной версии.
manager: nitinme
author: tchristiani
ms.author: terrychr
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 05/19/2020
ms.openlocfilehash: b428ff4a9a4f4b9110e88dba57cfad20f2221cf1
ms.sourcegitcommit: 62e1884457b64fd798da8ada59dbf623ef27fe97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2020
ms.locfileid: "88936169"
---
# <a name="debug-sessions-in-azure-cognitive-search"></a>Сеансы отладки в Azure Когнитивный поиск

Сеансы отладки — это визуальный редактор, работающий с существующим набором навыков на портале Azure. В рамках сеанса отладки можно выявлять и устранять ошибки, проверять изменения и отправлять изменения в рабочий набор навыков в конвейере обогащения с помощью ИИ.

> [!Important]
> Сеансы отладки — это функция в предварительной версии, которая предоставляется без соглашения об уровне обслуживания, поэтому использовать ее в рабочей среде не рекомендуется. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).
>

## <a name="using-debug-sessions"></a>Использование сеансов отладки

При запуске сеанса служба создает копию набора навыков, индексатор и индекса, где для тестирования набора навыков используется один документ. Изменения, внесенные в сеансе, сохраняются в нем. Изменения, внесенные в сеансе отладки, не повлияют на рабочий набор навыков, если только не будут зафиксированы в нем. Фиксация изменений приведет к перезаписи рабочего набора навыков.

Во время сеанса отладки можно изменить набор навыков, изучить и проверить каждый узел дерева обогащения в контексте определенного документа. После устранения проблем с конвейером обогащения изменения можно сохранить в сеансе и зафиксировать в рабочем наборе навыков. 

Если в конвейере обогащения нет ошибок, можно использовать сеанс отладки для постепенного обогащения документа, тестирования и проверки каждого изменения перед фиксацией изменений.

## <a name="creating-a-debug-session"></a>Создание сеанса отладки

Для запуска сеанса отладки необходим существующий конвейер обогащения с помощью ИИ, включая источник данных, набор навыков, индексатор и индекс. Чтобы настроить сеанс отладки, необходимо присвоить сеансу имя и предоставить учетную запись хранения общего назначения, которая будет использоваться для кэширования выполнения навыков во время выполнения индексатора. Также потребуется выбрать индексатор, который будет выполняться. Индексатор содержит сохраненные ссылки на источник данных, набор навыков и индекс. Сеанс отладки будет по умолчанию использовать первый документ в источнике данных, либо можно указать документ в источнике данных для пошаговой обработки.

> [!div class="mx-imgBorder"]
> ![Создание сеанса отладки](media/cognitive-search-debug/debug-session-new.png)

## <a name="debug-session-features"></a>Функции сеансов отладки

Сеанс отладки начинается с выполнения набора навыков для выбранного документа. В сеансе отладки будут записываться дополнительные метаданные, связанные с каждой операцией в наборе навыков. Метаданные, созданные при выполнении навыков конвейера, уведомляют следующий набор функций, которые затем используются для выявления и устранения проблем с набором навыков.

## <a name="ai-enrichments"></a>Обогащение с помощью ИИ

По мере выполнения навыков дерево обогащений, представляющее документ, растет. Использование дерева для визуализации выходных данных навыков или обогащений дает исчерпывающее представление обо всех выполненных обогащениях. Можно взглянуть на весь документ и изучить каждый узел дерева обогащений. Эта перспектива упрощает формирование объектов. Такой формат также предоставляет визуальные подсказки о типе, пути и содержимом каждого узла в дереве.

## <a name="skill-graph"></a>Граф навыков

Представление **графа навыков** обеспечивает иерархическое визуальное представление набора навыков. Этот граф представляет упорядоченную сверху вниз последовательность выполнения навыков. Навыки, зависящие от выходных данных других навыков, будут расположены в графе ниже. Навыки, находящиеся на одном уровне иерархии, могут выполняться параллельно. 

При выборе навыка на графе будут выделяться связанные с ним навыки, узлы, которые создают входные данные, и узлы, принимающие его выходные данные. Каждый узел навыка отображает его тип, ошибки или предупреждения, а также счетчики выполнения. Именно на **графе навыков** вы выбираете, какой навык следует отлаживать или улучшать. При выборе навыка сведения о нем отображаются в области сведений о навыках справа от графа.

> [!div class="mx-imgBorder"]
> ![Граф навыков](media/cognitive-search-debug/skills-graph.png)

## <a name="skill-details"></a>Сведения о навыках

В области сведений о навыках отображается набор областей для работы с конкретным навыком, когда этот навык выделен на **графе навыков**. Вы можете просматривать и редактировать сведения о параметрах навыка. Предоставляется JSON-определение навыка. Также отображаются сведения о выполнении навыка, его ошибках и предупреждениях. Вкладка **Параметры навыка** и **JSON-редактор навыков** позволяют напрямую редактировать навык. [`</>`](#expression-evaluator) открывает окно для просмотра и редактирования выражений входных и выходных данных навыков.

Элементы управления вложенными входными данными в окне параметров навыка можно использовать для создания сложных фигур для проекций, сопоставлений полей выходных данных для полей сложных типов или входных данных для навыка. При использовании с **вычислителем выражений** вложенные входные данные предоставляют простой построитель выражений для тестирования и проверки.

## <a name="skill-execution-history"></a>Журнал выполнения навыков

Навык может выполняться несколько раз в наборе навыков для одного документа. Например, навык распознавания текста будет выполняться по одному разу для каждого изображения, извлеченного из каждого документа. В области сведений о навыке на вкладке **Выполнения** отображается журнал выполнения навыка, содержащий более подробные сведения о каждом вызове навыка. 

Журнал выполнения позволяет проследить определенное обогащение назад к создавшему его навыку. Если щелкнуть входные данные навыка, выполняется переход к навыку, создавшему их. Это позволяет идентифицировать основную причину проблемы, которая может проявляться в нижележащих навыках. 

При обнаружении возможной проблемы в журнале выполнения отображаются ссылки на навыки, создавшие определенные входные данные, что обеспечивает функциональность, аналогичную трассировке стека. Щелкнув навык, связанный со входными данными, можно перейти к этому навыку, чтобы устранить ошибки или продолжить трассировку конкретной проблемы.

При создании пользовательского навыка или отладке ошибки с ним можно создать запрос на вызов навыков в журнале выполнения.

## <a name="enriched-data-structure"></a>Обогащенная структура данных

Область **Обогащенная структура данных** отображает обогащения документа с помощью набора навыков, подробно описывая контекст для каждого обогащения и исходного навыка. Также можно использовать **вычислитель выражений** для просмотра содержимого каждого обогащения.

> [!div class="mx-imgBorder"]
> ![Обогащенная структура данных](media/cognitive-search-debug/enriched-data-structure-display.png)

## <a name="expression-evaluator"></a>Вычислитель выражений

**Вычислитель выражений** позволяет быстро понять ценность любого пути. Он позволяет изменить путь и проверить результаты перед обновлением любых входных данных или контекста для навыка или проекции.

## <a name="errorswarnings"></a>Ошибки и предупреждения

В этом окне отображаются все ошибки и предупреждения, создаваемые набором навыков при его выполнении для документа в сеансе отладки.

## <a name="limitations"></a>Ограничения

Отладка сесисонс работает со всеми общедоступными источниками данных AMD наиболее предварительных источников данных. API MongoDB (Предварительная версия) и API Cassandra (Предварительная версия) Cosmos DB в настоящее время не поддерживаются.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы изучили элементы сеансов отладки, обратитесь к руководству по получению практического опыта.

> [!div class="nextstepaction"]
> [Обзор возможностей сеансов отладки](./cognitive-search-tutorial-debug-sessions.md)