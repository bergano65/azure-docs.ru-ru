---
title: Обозреватель поиска на портале Azure для запроса индексов в службе "Поиск Azure"
description: Узнайте, как запрашивать индексы в службе "Поиск Azure" с помощью таких средств портала Azure, как обозреватель поиска. Введите условия поиска или полные строки поиска, используя расширенный синтаксис.
manager: cgronlun
author: HeidiSteen
services: search
ms.service: search
ms.topic: conceptual
ms.date: 01/10/2019
ms.author: heidist
ms.custom: seodec2018
ms.openlocfilehash: 2aa372d1f917608de753007cc75ab0d608cafbba
ms.sourcegitcommit: 63b996e9dc7cade181e83e13046a5006b275638d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2019
ms.locfileid: "54188731"
---
# <a name="how-to-use-search-explorer-to-query-indexes-in-azure-search"></a>Как использовать обозреватель поиска для обращения к индексам в службе "Поиск Azure" 

В этой статье показано, как отправлять запросы в существующий индекс службы "Поиск Azure" с помощью **обозревателя поиска** на портале Azure. Используйте обозреватель поиска, чтобы отправить простые строки запросов или расширенные строки запросов Lucene в любой имеющийся индекс в службе.

## <a name="start-search-explorer"></a>Запуск проводника поиска

1. На [портале Azure](https://portal.azure.com) откройте страницу службы поиска на панели мониторинга или [найдите свою службу](https://ms.portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.Search%2FsearchServices) в списке служб.

2. На странице "Обзор службы" щелкните **Проводник поиска**.

   ![Команда "Проводник поиска" на портале](./media/search-explorer/search-explorer-cmd2.png "Команда \"Проводник поиска\" на портале")

3. Выберите индекс для запроса.

   ![Выбор индекса для запроса](./media/search-explorer/search-explorer-changeindex-se2.png "Выбор индекса")

4. При необходимости задайте версию API. По умолчанию выбрана текущая общедоступная версия API, но вы можете выбрать предварительную или одну из предыдущих версий API, если синтаксис, который вы хотите использовать, предназначен для конкретной версии.

5. Выбрав индекс и версию API, введите условия поиска или полные выражения запросов в строке поиска, после чего нажмите кнопку **Найти** для выполнения запроса.

   ![Ввод условий поиска и нажатие кнопки "Найти"](./media/search-explorer/search-explorer-query-string-example.png "Ввод условий поиска и нажатие кнопки \"Найти\"")

Советы по поиску в **проводнике поиска**.

+ Результаты возвращаются в виде подробных документов JSON, чтобы можно было полностью просмотреть структуру и содержимое документа. Можно использовать выражения запросов, как показано в примерах, чтобы ограничить возвращаемые поля.

+ Документы содержат все поля, помеченные как **Доступный для получения** в индексе. Чтобы просмотреть атрибуты индекса на портале, на странице "Общие сведения о поиске" в списке **Индексы** щелкните *realestate-us-sample*.

+ Запросы в свободной форме, аналогичные вводимым в коммерческом веб-браузере, можно использовать для тестирования взаимодействия с пользователем. Например, при использовании встроенного примера индекса недвижимости, можно ввести "Seattle apartments lake washington", а затем с помощью клавиш CTRL-F искать условия в результатах поиска. 

+ Синтаксис выражений запросов и фильтров должен поддерживаться Поиском Azure. По умолчанию используется [простой синтаксис](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search), но при необходимости можно использовать [полный запрос Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), чтобы создавать более эффективные запросы. Для [выражений фильтров](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) используется синтаксис OData.

## <a name="basic-search-strings"></a>Обычный поиск по строкам

В следующих примерах предполагается использование встроенного примера индекса недвижимости. Дополнительные сведения о создании этого индекса см. в разделе [Краткое руководство. Использование встроенных инструментов на портале для импорта, индексирования и отправки запросов в Поиске Azure](search-get-started-portal.md).

### <a name="example-1---empty-search"></a>Пример 1. Поиск с пустыми условиями

Для первого просмотра содержимого выполните поиск с пустыми условиями. Нажмите кнопку **Найти**, не указывая каких-либо условий поиска. Такой поиск удобно использовать в качестве первого запроса, так как он возвращает все документы. Это позволяет ознакомиться со структурой документов. При поиске с пустыми условиями документы не ранжируются и возвращаются в произвольном порядке (`"@search.score": 1` для всех документов). По умолчанию для запроса поиска возвращаются 50 документов.

Аналогичный синтаксис поиска с пустыми условиями: `*` или `search=*`.

   ```Input
   search=*
   ```

   **Результаты**
   
   ![Пример запроса с пустыми условиями](./media/search-explorer/search-explorer-example-empty.png "Пример поиска с неполными или пустыми условиями")

### <a name="example-2---free-text-search"></a>Пример 2. Поиск произвольного текста

Запросы в свободной форме, содержащие или не содержащие операторы, удобны для имитации пользовательских запросов, отправляемых из настраиваемого приложения в Поиск Azure. Обратите внимание на то, что когда вы указываете термины запроса или выражения, вступает в действие рейтинг поиска. В следующем примере показан поиск произвольного текста.

   ```Input
   Seattle apartment "Lake Washington" miele OR thermador appliance
   ```

   **Результаты**

   С помощью клавиш CTRL-F можно искать определенные условия в результатах поиска.

   ![Пример запроса поиска произвольного текста](./media/search-explorer/search-explorer-example-freetext.png "Пример запроса поиска произвольного текста")

### <a name="example-3---count-of-matching-documents"></a>Пример 3. Количество соответствующих документов 

Добавьте **$count** для получения числа совпадений, найденных в индексе. При поиске с пустыми условиями это значение равно общему количеству документов в индексе. При поиске с полными условиями это значение равно количеству документов, соответствующих входному запросу.

   ```Input1
   $count=true
   ```
   **Результаты**

   ![Пример с числом документов](./media/search-explorer/search-explorer-example-count.png "Количество соответствующих документов в индексе")

### <a name="example-4---restrict-fields-in-search-results"></a>Пример 4. Ограничение полей в результатах поиска

Добавьте **$select**, чтобы результаты содержали только явно указанные поля. Это позволит сделать понятнее выходные данные в **проводнике поиска**. Чтобы сохранить строку поиска и **$count=true**, добавьте к аргументам префикс **&**. 

   ```Input
   search=seattle condo&$select=listingId,beds,baths,description,street,city,price&$count=true
   ```

   **Результаты**

   ![Пример с ограничением полей](./media/search-explorer/search-explorer-example-selectfield.png "Ограничение полей в результатах поиска")

### <a name="example-5---return-next-batch-of-results"></a>Пример 5. Возвращение следующего пакета результатов

Поиск Azure возвращает первые 50 совпадений в соответствии с рейтингом поиска. Чтобы получить следующий набор соответствующих документов, добавьте в запрос **$top=100,&$skip=50**. Это позволит увеличить результирующий набор до 100 документов (значение по умолчанию — 50, максимальное значение — 1000), пропустив первые 50 документов. Как вы помните, чтобы получить ранжированные результаты, необходимо указать критерии поиска, например термин запроса или выражение. Обратите внимание на то, что рейтинг поиска уменьшается по мере углубления в результаты поиска.

   ```Input
   search=seattle condo&$select=listingId,beds,baths,description,street,city,price&$count=true&$top=100,&$skip=50
   ```

   **Результаты**

   ![Пакетные результаты поиска](./media/search-explorer/search-explorer-example-topskip.png "Возвращение следующего пакета результатов поиска")

## <a name="filter-expressions-greater-than-less-than-equal-to"></a>Выражения фильтра (больше, меньше, равно)

Используйте параметр **$filter**, если вы хотите указать точные условия, а не произвольный текст для поиска. В этом примере выполняется поиск квартир, в которых больше 3 спален: `search=seattle condo&$filter=beds gt 3&$count=true`

   ![Выражение фильтра](./media/search-explorer/search-explorer-example-filter.png "Фильтрация по условию")

## <a name="order-by-expressions"></a>Выражения OrderBy

Добавьте параметр **$orderby**, чтобы отсортировать результаты не только по рейтингу поиска, а и по другому полю. Пример выражения, который можно использовать, чтобы протестировать этот параметр: `search=seattle condo&$select=listingId,beds,price&$filter=beds gt 3&$count=true&$orderby=price asc`

   ![Выражение OrderBy](./media/search-explorer/search-explorer-example-ordery.png "Изменение порядка сортировки")

Выражения **$filter** и **$orderby** являются конструкциями OData. Дополнительные сведения см. в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure).

## <a name="next-steps"></a>Дополнительная информация

Дополнительные сведения о синтаксисе запросов и примеры см. в следующих ресурсах.

 + [Простой синтаксис запросов](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) 
 + [Синтаксис запросов Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search) 
 + [Примеры запросов Lucene](search-query-lucene-examples.md) 
 + [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure) 