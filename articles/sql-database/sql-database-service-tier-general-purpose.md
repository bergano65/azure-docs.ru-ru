---
title: База данных SQL Azure на уровне службы общего назначения | Документация Майкрософт
description: Дополнительные сведения о Базе данных SQL Azure на уровне общего назначения
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: jovanpop-msft
ms.author: jovanpop-msft
ms.reviewer: sstein
manager: craigg
ms.date: 02/07/2019
ms.openlocfilehash: dc379f1ee67174cd806840e4244054701d18f0d4
ms.sourcegitcommit: c174d408a5522b58160e17a87d2b6ef4482a6694
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59784028"
---
# <a name="general-purpose-service-tier---azure-sql-database"></a>База данных SQL Azure на уровне службы общего назначения

> [!NOTE]
> Уровень службы общего назначения в модели приобретения на основе виртуальных ядер называется стандартным уровнем службы в модели приобретения на основе единиц DTU. Сравнение модели приобретения на основе виртуальных ядер и DTU см. в статье [Ресурсы и модели приобретения для базы данных SQL Azure](sql-database-purchase-models.md).

База данных SQL Azure основана на архитектуре ядра СУБД SQL Server, которая соответствует облачной среде, чтобы даже в случае сбоя инфраструктуры обеспечить доступность на уровне 99,99 %. Существует три модели уровней службы, которые используются в Базе данных SQL Azure, каждая из которых имеет разные архитектурные модели. Ниже указаны эти уровни служб.

- Универсальные
- Критически важный для бизнеса
- Уровень "Гипермасштабирование"

Архитектурная модель для уровня службы общего назначения основана на разделении вычислений и хранилищ. Эта модель архитектуры зависит от высокого уровня доступности и надежности хранилища BLOB-объектов Azure, которое прозрачно реплицирует файлы базы данных и предотвращает потерю данных, если происходит сбой базовой инфраструктуры.

На следующем рисунке показано четыре узла в стандартной архитектурной модели с разделенными уровнями вычислений и хранения.

![Разделение уровней вычисления и хранения](media/sql-database-managed-instance/general-purpose-service-tier.png)

В архитектурной модели для уровня служб общего назначения существует два уровня.

- Уровень вычислений без отслеживания состояния, на котором выполняется процесс `sqlserver.exe` и содержатся только временные и кэшированные данные (например, кэш планов, буферный пул, пул хранения столбцов). Этим узлом SQL Server без отслеживания состояния управляет Azure Service Fabric, которая инициализирует процесс, контролирует работоспособность узла и при необходимости выполняет переход на другой ресурс.
- Уровень данных с отслеживанием состояния, где файлы базы данных (MDF/LDF) хранятся в хранилище BLOB-объектов Azure. Хранилище BLOB-объектов Azure гарантирует, что ни одна из записей, размещенных в любом файле базы данных, не будет потеряна. Благодаря встроенной доступности и избыточности этого хранилища каждая запись в файле журнала или страница в файле данных будет сохранена даже в случае отказа процесса SQL Server.

Каждый раз, когда ядро СУБД или операционная система обновляется, некоторые компоненты базовой инфраструктуры выдают ошибку, или если в процессе SQL Server обнаруживается критическая проблема, Azure Service Fabric перемещает процесс SQL Server без отслеживания состояния на другой узел вычислений без отслеживания состояния. Существует набор резервных узлов, на которых можно запустить новую службу вычислений в случае отработки отказа, чтобы свести к минимуму время отработки отказа. Это не влияет на данные на уровне хранилища Azure, а файлы данных и журнала присоединяются к только что инициализированному процессу SQL Server. Этот процесс гарантирует доступность на уровне 99,99 %, но он может иметь некоторое воздействие на производительность интенсивной выполняемой рабочей нагрузки из-за времени перехода и того, что новый узел SQL Server запускается с холодным кэшем.

## <a name="when-to-choose-this-service-tier"></a>Когда нужно выбирать этот уровень службы?

Уровень служб общего назначения является уровнем служб по умолчанию в базе данных SQL Azure и предназначен для большей части универсальных рабочих нагрузок. Уровень общего назначения вам подойдет, если требуется полностью управляемое ядро СУБД с соглашением об уровне обслуживания 99.99 % и задержкой хранилища от 5 до 10 мс, что соответствует компоненту IaaS Azure SQL в большинстве случаев.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения об уровнях [Критически важный для бизнеса](sql-database-service-tier-business-critical.md) и [Гипермасштабирование](sql-database-service-tier-hyperscale.md).
- Дополнительные сведения о [Service Fabric](../service-fabric/service-fabric-overview.md).
- Дополнительные сведения об обеспечении высокой доступности и аварийного восстановления см. в руководстве по [обеспечении непрерывности бизнес-процессов](sql-database-business-continuity.md).
