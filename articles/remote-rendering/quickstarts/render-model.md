---
title: Отрисовка модели с помощью Unity
description: В этом кратком руководстве описаны шаги, помогающие пользователю выполнить отрисовку модели
author: florianborn71
ms.author: flborn
ms.date: 01/23/2020
ms.topic: quickstart
ms.openlocfilehash: ed533f571ada4cacf053157b397cca07cd65e6f8
ms.sourcegitcommit: d118ad4fb2b66c759b70d4d8a18e6368760da3ad
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/02/2020
ms.locfileid: "84300578"
---
# <a name="quickstart-render-a-model-with-unity"></a>Краткое руководство. Отрисовка модели с помощью Unity

В этом кратком руководстве описано, как запустить пример Unity, который удаленно выполняет отрисовку встроенной модели с помощью службы "Удаленная отрисовка Azure" (ARR).

Мы не будем углубляться в детали о самом API-интерфейсе ARR или о том, как настроить новый проект Unity. Эти темы рассматриваются в [учебнике по настройке проекта Unity с нуля](../tutorials/unity/project-setup.md).

В этом кратком руководстве описано следующее:
> [!div class="checklist"]
>
>* настройка локальной среды разработки;
>* получение и сборка примера приложения быстрого запуска ARR для Unity;
>* отрисовка модели в примере приложения быстрого запуска ARR.

## <a name="prerequisites"></a>Предварительные требования

Чтобы получить доступ к службе "Удаленная отрисовка Azure", сначала необходимо [создать учетную запись](../how-tos/create-an-account.md).

Необходимо установить следующее программное обеспечение:

* Windows SDK 10.0.18362.0 [(скачать)](https://developer.microsoft.com/windows/downloads/windows-10-sdk).
* Последняя версия Visual Studio 2019 [(скачать)](https://visualstudio.microsoft.com/vs/older-downloads/).
* [Средства Visual Studio для службы "Смешанная реальность"](https://docs.microsoft.com/windows/mixed-reality/install-the-tools). В частности, обязательно установить следующие *рабочие нагрузки*:
  * **Разработка классических приложений на C++** .
  * **Разработка приложений для универсальной платформы Windows (UWP)** .
* GIT [(скачать)](https://git-scm.com/downloads).
* Unity 2019.3.1 [(скачать)](https://unity3d.com/get-unity/download).
  * Установите следующие модули в Unity:
    * **UWP** — обеспечивает поддержку для создания приложений универсальной платформы Windows;
    * **IL2CPP** — обеспечивает поддержку сборки для Windows (IL2CPP).

## <a name="clone-the-sample-app"></a>Клонирования примера приложения

Откройте командную строку (введите `cmd` в меню "Пуск" в Windows) и перейдите в каталог, в котором вы хотите сохранить пример проекта ARR.

Выполните следующие команды:

```cmd
mkdir ARR
cd ARR
git clone https://github.com/Azure/azure-remote-rendering
```

Последняя команда создает подкаталог в каталоге ARR, который содержит различные примеры проектов для Удаленной отрисовки Azure.

Пример приложения быстрого запуска для Unity находится в подкаталоге *Unity/QuickStart*.

## <a name="rendering-a-model-with-the-unity-sample-project"></a>Отрисовка модели с помощью примера проекта Unity

Откройте Unity Hub и добавьте пример проекта, который является папкой *ARR\azure-remote-rendering\Unity\Quickstart*.
Откройте проект. При необходимости разрешите Unity обновить проект до установленной версии.

Модель по умолчанию, для которой мы выполняем отрисовку, является [встроенным примером модели](../samples/sample-model.md). В [следующем кратком руководстве](convert-model.md) мы покажем, как преобразовать пользовательскую модель с помощью службы преобразования ARR.

### <a name="enter-your-account-info"></a>Введение сведений об учетной записи

1. В обозревателе ресурсов Unity перейдите к папке *Scenes* (Сцены) и откройте сцену **Quickstart** (Быстрый запуск).
1. В разделе *Hierarchy* (Иерархия) выберите игровой объект **RemoteRendering**.
1. В разделе *Inspector* (Инспектор) введите [учетные данные учетной записи](../how-tos/create-an-account.md). Если у вас нет учетной записи, [создайте ее](../how-tos/create-an-account.md).

![Сведения об учетной записи ARR](./media/arr-sample-account-info.png)

> [!IMPORTANT]
> На портале Azure домен вашей учетной записи отображается только как *mixedreality.azure.com*. Этого недостаточно для успешного подключения.
> Задайте для параметра **AccountDomain** значение `<region>.mixedreality.azure.com`, где `<region>` — [это один из доступных ближайших регионов](../reference/regions.md).

Позже мы развернем этот проект в HoloLens и подключим к службе "Удаленная отрисовка" с этого устройства. Так как у нас нет простого способа ввода учетных данных на устройстве, пример для быстрого запуска **сохранит учетные данные в сцене Unity**.

> [!WARNING]
> Убедитесь, что проект не был зарегистрирован с помощью сохраненных учетных данных в каком-нибудь репозитории, где может произойти утечка секретных данных для входа.

### <a name="create-a-session-and-view-the-default-model"></a>Создание сеанса и просмотр модели по умолчанию

Нажмите кнопку **Play** (Воспроизвести) в Unity, чтобы начать сеанс. В нижней части окна просмотра на панели *Game* (Игра) должно отобразиться наложение с текстом состояния. В сеансе произойдет ряд переходов состояния. Удаленная виртуальная машина развертывается в состоянии **запуска**. Это займет всего несколько минут. После этого происходит переход в состояние **готовности**. Теперь сеанс переходит в состояние **подключения**, где он пытается связаться со средой выполнения отрисовки на этой виртуальной машине. При успешном выполнении образец переходит в **подключенное** состояние. На этом этапе начнется загрузка модели для отрисовки. Из-за значительного размера модели загрузка может занять несколько минут. После этого появится модель удаленной отрисовки.

![Выходные данные примера](media/arr-sample-output.png)

Поздравляем! Теперь вы просматриваете модель удаленной отрисовки!

## <a name="inspecting-the-scene"></a>Проверка сцены

После запуска подключения удаленной отрисовки панель Inspector (Инспектор) обновляется с учетом дополнительных сведений о состоянии:

![Воспроизведение примера Unity](./media/arr-sample-configure-session-running.png)

Теперь можно изучить график сцены, выбрав новый узел и щелкнув **Show children** (Показать дочерние элементы) в окне инспектора.

![Иерархия Unity](./media/unity-hierarchy.png)

В сцене имеется объект [плоскости вырезания](../overview/features/cut-planes.md). Попробуйте включить его свойства и переместить:

![Изменение плоскости вырезания](media/arr-sample-unity-cutplane.png)

Чтобы синхронизировать преобразования, щелкните **Sync now** (Синхронизировать сейчас) или установите флажок **Sync every frame** (Синхронизировать каждый кадр). Достаточно просто изменить свойства компонента.

## <a name="next-steps"></a>Дальнейшие действия

В следующем кратком руководстве мы развернем пример в HoloLens, чтобы отобразить модель удаленной отрисовки в исходном размере.

> [!div class="nextstepaction"]
> [Краткое руководство. Развертывание примера Unity в HoloLens](deploy-to-hololens.md)

Кроме того, пример можно развернуть на настольном компьютере.

> [!div class="nextstepaction"]
> [Краткое руководство. Развертывание примера Unity на настольном компьютере](deploy-to-desktop.md)