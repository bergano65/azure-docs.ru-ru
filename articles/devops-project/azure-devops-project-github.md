---
title: Руководство по Создание конвейера CI/CD для существующего кода с помощью Azure DevOps Projects
description: Azure DevOps Projects упрощает начало работы с Azure. С помощью DevOps Projects вы можете с помощью нескольких простых действий запустить приложение в службе Azure, используя собственный код и репозиторий GitHub.
services: vsts
documentationcenter: vs-devops-build
ms.author: mlearned
ms.manager: gwallace
editor: ''
ms.assetid: ''
ms.workload: web
ms.prod: devops
ms.technology: devops-cicd
ms.tgt_pltfrm: na
ms.topic: tutorial
ms.date: 06/27/2019
author: mlearned
ms.custom: mvc
monikerRange: vsts
ms.openlocfilehash: a0496999a9a5dc3e9bfd57df0ec035e6db77d620
ms.sourcegitcommit: b2fb32ae73b12cf2d180e6e4ffffa13a31aa4c6f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2019
ms.locfileid: "73615130"
---
# <a name="tutorial-create-a-cicd-pipeline-for-your-existing-code-by-using-azure-devops-projects"></a>Руководство по Создание конвейера CI/CD для существующего кода с помощью Azure DevOps Projects

Azure DevOps Projects обеспечивает упрощенный процесс создания в Azure конвейера непрерывной интеграции (CI) и непрерывной доставки (CD). Вы можете использовать уже написанный собственный код или готовый пример приложения.

Вы сможете выполнять следующие задачи:

> [!div class="checklist"]
> * создание конвейера CI/CD с помощью DevOps Projects;
> * настройка доступа к репозиторию GitHub и выбор платформы;
> * настройка Azure DevOps и подписки Azure; 
> * фиксация изменений в GitHub и их автоматическое развертывание в Azure;
> * изучение конвейера CI/CD в Azure Pipelines;
> * Очистка ресурсов

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Вы можете получить бесплатную подписку с помощью [Visual Studio Dev Essentials](https://visualstudio.microsoft.com/dev-essentials/).
* Доступ к GitHub или внешнему репозиторию Git, содержащему код .NET, Java, PHP, Node.js, Python или статический веб-код.

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Azure DevOps Projects создает конвейер CI/CD в Azure Pipelines. Вы можете создать новую организацию Azure DevOps или использовать существующую. Azure DevOps Projects также создает ресурсы Azure в требуемой подписке Azure.

1. Войдите на [портале Azure](https://portal.azure.com).

2. В меню портала Azure выберите **Создать ресурс**.

   ![Меню портала Azure: "Создать ресурс"](_img/azure-devops-project-github/createaresource.png)

3. Выберите **DevOps** > **Проект DevOps**.

   ![Панель мониторинга DevOps Projects](_img/azure-devops-project-github/azuredashboard.png)

1. Выберите **Добавьте свой код** и нажмите кнопку **Далее**.

## <a name="configure-access-to-your-github-repo-and-select-a-framework"></a>Настройка доступа к репозиторию GitHub и выбор платформы

1. Выберите **GitHub** или внешний репозиторий кода **Git**. Для работы с этим руководством выберите **GitHub**. В первый раз, возможно, вам потребуется пройти аутентификацию в GitHub, чтобы разрешить Azure доступ к репозиторию GitHub.

1. Выберите **репозиторий** и **ветвь**, а затем щелкните **Далее**.

1. Если вы используете контейнеры Docker, для параметра **Приложение в контейнере Docker** выберите значение **ДА**. Для работы с этим руководством сохраните выбранное значение **НЕТ** и щелкните **Далее**. Чтобы получить дополнительные сведения об использовании контейнеров Docker, наведите указатель мыши на значок **i**.

   ![Выбор платформы приложений в раскрывающемся меню](_img/azure-devops-project-github/appframework.png)

1. В раскрывающихся меню выберите **среду выполнения приложения** и **платформу приложения**, а затем щелкните **Далее**. Платформа приложения определяет доступный тип целевого объекта для развертывания службы Azure.

1. Выберите **службу Azure** для развертывания приложения и щелкните **Далее**.

## <a name="configure-azure-devops-and-an-azure-subscription"></a>настройка Azure DevOps и подписки Azure;

1. Введите **имя проекта**.

1. Создайте бесплатную организацию в разделе **Организация Azure DevOps** или выберите готовую в раскрывающемся меню.

1. Выберите подписку в разделе **Подписка Azure**, а в области **Веб-приложение** введите новое имя или подтвердите имя по умолчанию. После этого выберите **расположение** и щелкните **Готово**. Через несколько минут на портале Azure отобразится информация о развертывании DevOps Projects.

1. Щелкните **Перейти к ресурсу**, чтобы открыть панель мониторинга DevOps Projects. В правом верхнем углу закрепите **проект** на панели мониторинга для быстрого доступа. Azure DevOps Projects автоматически настраивает сборку непрерывной интеграции и триггер выпуска. Код остается в репозитории GitHub или другом внешнем репозитории, а пример приложения создается в репозитории в **организации Azure DevOps**. Azure DevOps Projects скомпилирует и развернет приложение в Azure.

   ![Представление панели мониторинга DevOps Projects](_img/azure-devops-project-github/projectsdashboard.png)

1. На панели мониторинга можно просмотреть сведения о репозитории кода, конвейере CI/CD и приложении в Azure. В области справа под разделом "Ресурсы Azure" щелкните **Обзор**, чтобы просмотреть сведения о выполняющемся приложении.

## <a name="commit-changes-to-github-and-automatically-deploy-them-to-azure"></a>фиксация изменений в GitHub и их автоматическое развертывание в Azure;

Теперь все готово для совместной работы над приложением в команде. В процессе CI/CD автоматически развертывается последняя опубликованная работа на веб-сайте. При каждом изменении в репозитории GitHub запускается сборка в Azure DevOps, а в рамках конвейера CD выполняется развертывание в Azure.

1. На панели мониторинга DevOps Projects щелкните **Репозитории**. В новой вкладке браузера откроется репозиторий GitHub. Внесите изменения в приложение и щелкните **Сохранить изменения**.

1. Через несколько секунд в Azure Pipelines начнется выполнение сборки. Вы можете отслеживать состояние сборки на панели мониторинга DevOps Projects. Кроме того, состояние можно отслеживать в организации Azure DevOps. Для этого выберите вкладку **Конвейеры сборки** на панели мониторинга DevOps Projects.

## <a name="examine-the-azure-pipelines-cicd-pipeline"></a>изучение конвейера CI/CD в Azure Pipelines;

Azure DevOps Projects автоматически настраивает конвейер CI/CD в Azure Pipelines. При необходимости изучите и настройте конвейер. Чтобы составить представление о конвейерах сборки и выпуска, сделайте следующее:

1. На панели мониторинга DevOps Projects выберите **Конвейеры сборки**.

1. Когда откроется страница **Azure Pipelines**, отобразятся журнал последних сборок и сведения о состоянии каждой из них.

   ![Страница сборок в Azure Pipelines](_img/azure-devops-project-github/pipelinesbuildpage.png)

1. В правом верхнем углу страницы **Сборки** вы можете нажать элемент **Изменить**, который позволяет изменить текущую сборку (**Очередь**) и добавить сборку, или значок вертикального многоточия ( **&#8942;** ), который позволяет открыть меню с дополнительными действиями. Выберите **Изменить**

1. При сборке выполняются различные задачи, такие как получение исходного кода из репозитория, восстановление зависимостей и публикация результатов для развертывания. Справа в разделе **Имя** измените имя конвейера сборки на более описательное. Выберите **Сохранить и поместить в очередь**, а затем щелкните **Сохранить**. Добавьте комментарий и снова щелкните **Сохранить**.

   ![Страница сборок Azure DevOps](_img/azure-devops-project-github/buildpage.png)

1. Чтобы просмотреть журнал аудита последних изменений сборки, щелкните вкладку **Журнал**.  Azure DevOps отслеживает все изменения, внесенные в конвейер сборки, и позволяет сравнивать версии.

1. Щелкните вкладку **Триггеры**. В Azure DevOps Projects автоматически будет создан триггер CI с параметрами по умолчанию. Здесь можно задать триггеры, такие как **Включить непрерывную интеграцию**, для запуска сборки при каждой фиксации изменений кода. Вы также можете задать триггеры для выполнения сборок в определенное время.

## <a name="clean-up-resources"></a>Очистка ресурсов

Службу приложений Azure и связанные с ней ресурсы, созданные при работе с этим руководством, можно удалить, когда вы закончите работу с ними. Для этого воспользуйтесь функцией **Удалить** на панели мониторинга DevOps Projects.

## <a name="next-steps"></a>Дополнительная информация

При настройке процесса CI/CD в Azure DevOps Projects, которую вы выполнили при работе с этим руководством, был автоматически создан конвейер сборки и выпуска. Вы можете изменить эти конвейеры сборки и выпуска в соответствии с потребностями вашей команды.

См. дополнительные сведения о конвейере CI/CD:

> [!div class="nextstepaction"]
> [Define your multi-stage continuous deployment (CD) pipeline](https://docs.microsoft.com/azure/devops/pipelines/release/define-multistage-release-process?view=vsts) (Настройка многоэтапного конвейера для непрерывного развертывания)

Дополнительные сведения о мониторинге приложений см. в следующей статье:
  
 > [!div class="nextstepaction"]
 > [Общие сведения о службе Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/overview)
