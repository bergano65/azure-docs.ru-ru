---
title: Регистрация ресурсов данных в Каталоге данных Azure
description: В руководстве демонстрируется, как зарегистрировать ресурсы данных в Каталоге данных Azure
author: JasonWHowell
ms.author: jasonh
ms.service: data-catalog
ms.topic: tutorial
ms.date: 08/01/2019
ms.openlocfilehash: 4bd2b7093100ff24b21b67ea84613ac9b2ec8299
ms.sourcegitcommit: 78ebf29ee6be84b415c558f43d34cbe1bcc0b38a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/12/2019
ms.locfileid: "68950244"
---
# <a name="tutorial-register-data-assets-in-azure-data-catalog"></a>Руководство по Регистрация ресурсов данных в Каталоге данных Azure

В рамках этого руководства мы зарегистрируем ресурсы данных из примера базы данных Azure SQL в каталоге с помощью средства регистрации. Регистрация — это процесс извлечения ключевых метаданных структуры, таких как имена, типы и расположения, из источника данных и ресурсов, содержащихся в нем, и копирования этих метаданных в каталог. Источники и ресурсы данных остаются на своем месте, а каталог использует метаданные, чтобы упростить их обнаружение и понимание.

Из этого руководства вы узнаете, как выполнять следующие задачи:
> [!div class="checklist"]
> * Регистрация ресурсов данных 
> * поиск ресурсов данных;
> * Заметки к ресурсам данных
> * Подключение к ресурсам данных
> * Управление ресурсами данных
> * удаление ресурсов данных.

## <a name="prerequisites"></a>Предварительные требования

Чтобы приступить к работе, следует выполнить инструкции, приведенные в [этом кратком руководстве](register-data-assets-tutorial.md).

* [Подписка Microsoft Azure](https://azure.microsoft.com/).
* Вам потребуется собственный [арендатор Azure Active Directory](../active-directory/fundamentals/active-directory-access-create-new-tenant.md).

Чтобы настроить каталог данных, необходимо быть владельцем или совладельцем подписки Azure.

## <a name="register-data-assets"></a>Регистрация ресурсов данных

### <a name="register-a-data-source"></a>Регистрация источника данных

Мы предлагаем зарегистрировать ресурсы данных (таблицы) из [образца базы данных Azure SQL](../sql-database/sql-database-single-database-get-started.md), но вы можете использовать любой другой поддерживаемый источник, если предпочитаете работать со знакомыми и (или) соответствующими вашей роли данными. Список поддерживаемых источников данных см. в статье [Источники данных, поддерживаемые каталогом данных Azure](data-catalog-dsr.md).

В рамках этого руководства мы используем базу данных Azure SQL с именем *RLSTest*.

Теперь вы можете зарегистрировать ресурсы данных из образца базы данных Azure SQL в Каталоге данных Azure.

1. Откройте [домашнюю страницу Каталога данных Azure](http://azuredatacatalog.com) и щелкните **Опубликовать данные**.

   ![Каталог данных Azure — кнопка публикации данных](media/register-data-assets-tutorial/data-catalog-publish-data.png)

2. Нажмите кнопку **Запустить приложение**, чтобы скачать, установить и запустить средство регистрации на компьютере.

   ![Каталог данных Azure — кнопка запуска](media/register-data-assets-tutorial/data-catalog-launch-application.png)

3. На странице **приветствия** щелкните **Войти** и введите учетные данные.

    ![Каталог данных Azure — страница продукта](media/register-data-assets-tutorial/data-catalog-welcome-dialog.png)

4. На странице **Каталог данных Microsoft Azure** щелкните **SQL Server** и нажмите кнопку **Далее**.

    ![Каталог данных Azure — источники данных](media/register-data-assets-tutorial/data-catalog-data-sources.png)

5. Введите свойства подключения к SQL Server для образца базы данных Azure SQL и нажмите кнопку **Подключить**.

   ![Каталог данных Azure — параметры подключения SQL Server](media/register-data-assets-tutorial/data-catalog-sql-server-connection.png)

6. Зарегистрируйте метаданные ресурса данных. В этом примере вы зарегистрируете объект **Product** из пространства имен примера базы данных Azure SQL.

    1. В дереве **иерархии сервера** разверните пример базы данных Azure SQL и выберите **SalesLT**.

    2. Поочередно щелкните **Product**, **ProductCategory**, **ProductDescription** и **ProductModel**, удерживая клавишу CTRL.

    3. Щелкните **стрелку перемещения выбранных элементов** ( **>** ). Так вы переместите все выбранные объекты Product в список **Объекты для регистрации** .

          ![Руководство по каталогу данных Azure — поиск и выбор объектов](media/register-data-assets-tutorial/data-catalog-server-hierarchy.png)

    4. Установите флажок **Include a Preview** (Включить предварительный просмотр), чтобы добавить предварительный просмотр данных на основе моментального снимка. Моментальный снимок содержит до 20 записей из каждой таблицы. Он копируется в каталог.

    5. Установите флажок **Включить профиль данных**, чтобы добавить моментальный снимок статистики объекта для профиля данных (например, минимальное, максимальное и среднее значения для столбца, количество строк и т. д.).

    6. В поле **Добавить теги** введите **sales, product, azure sql**. Это позволит добавить теги поиска для этих ресурсов данных. Теги — отличный способ помочь пользователям найти зарегистрированный источник данных.

    7. Укажите имя **эксперта** для этих данных (необязательно).

          ![Руководство по каталогу данных Azure — объекты для регистрации](media/register-data-assets-tutorial/data-catalog-objects-register.png)

    8. Нажмите кнопку **Зарегистрировать**. Каталог данных Azure регистрирует выбранные объекты. В этом упражнении вы зарегистрируете выбранные объекты из примера базы данных Azure SQL. Средство регистрации извлекает метаданные из ресурса данных и копирует их в службу каталога данных Azure. Эти данные остаются в текущем расположении. Для данных сохраняется управление администраторов и политик исходной системы.

          ![Каталог данных Azure — зарегистрированные объекты](media/register-data-assets-tutorial/data-catalog-registered-objects.png)

    9. Для просмотра зарегистрированных объектов источника данных щелкните **Просмотреть портал**. На портале Каталога данных Azure должны отображаться все четыре таблицы и база данных в представлении сетки (убедитесь, что в поле поиска ничего не введено).

        ![Объекты на портале каталога данных Azure](media/register-data-assets-tutorial/data-catalog-view-portal.png)

В этом упражнении вы зарегистрировали объекты из образца базы данных Azure SQL. Теперь корпоративные пользователи без труда найдут их.

В следующем упражнении вы узнаете, как находить зарегистрированные ресурсы данных.

## <a name="discover-data-assets"></a>Поиск ресурсов данных

Для обнаружения информации в каталоге данных Azure используется два основных механизма: поиск и фильтрация.

Поиск должен быть одновременно понятным и эффективным. Условия поиска по умолчанию должны соответствовать всем свойствам в каталоге, включая пользовательские заметки.

Фильтрация дополняет поиск. Вы можете выбирать определенные характеристики (например, имена экспертов, тип источника данных, тип объекта и теги), чтобы просматривать только соответствующие ресурсы данных, а также ограничивать результаты поиска соответствующими ресурсами.

Используя сочетание поиска и фильтрации, вы можете быстро просматривать источники данных, которые зарегистрированы в Каталоге данных Azure.

В этом упражнении с помощью портала каталога данных Azure мы найдем ресурсы данных, зарегистрированные при выполнении предыдущего упражнения. Дополнительные сведения о синтаксисе поиска см. в [справочнике по синтаксису поиска в каталоге данных](/rest/api/datacatalog/#search-syntax-reference).

Рассмотрим несколько примеров поиска ресурсов данных в каталоге.  

### <a name="discover-data-assets-with-basic-search"></a>Обнаружение ресурсов данных с помощью базового поиска

Базовый поиск позволяет выполнять поиск в каталоге, используя одно или несколько условий поиска. Результаты представлены ресурсами, которые соответствуют любому свойству с одним или несколькими указанными терминами.

1. На портале Каталога данных Azure щелкните **Главная**. Если вы уже закрыли веб-браузер, откройте [домашнюю страницу Каталога данных Azure](https://www.azuredatacatalog.com).

2. В поле поиска введите `product` и нажмите клавишу **ВВОД**.

    ![Каталог данных Azure — базовый текстовый поиск](media/register-data-assets-tutorial/data-catalog-basic-text-search.png)

3. Убедитесь, что в результатах отображаются все четыре таблицы и база данных. Чтобы переключиться между представлениями **сетки** и **списка**, используйте кнопки на панели инструментов, как показано на следующем рисунке. Обратите внимание, что ключевое слово выделено в результатах поиска, так как переключатель **Выделение** находится в положении **Вкл**. Вы также можете указать количество **результатов поиска на одной странице** .

    ![Каталог данных Azure — результаты базового текстового поиска](media/register-data-assets-tutorial/data-catalog-basic-text-search-results.png)

    Слева отображается панель **Поисковые запросы**, а справа — **Свойства**. На панели **Поисковые запросы** можно изменить условия поиска и отфильтровать результаты, а на панели **Свойства** отображаются свойства выбранного объекта в представлении сетки или списка.

4. В результатах поиска выберите **Product**. Выберите вкладки **Предварительный просмотр**, **Столбцы**, **Профиль данных** и **Документация** или щелкните стрелку, чтобы развернуть нижнюю панель.  

    ![Каталог данных Azure — нижняя панель](media/register-data-assets-tutorial/data-catalog-data-asset-preview.png)

    На вкладке **Предварительный просмотр** отобразится представление предварительного просмотра данных в таблице **Product**.  
5. Щелкните вкладку **Столбцы**, чтобы найти сведения о столбцах (например, **имя** и **тип данных**) в ресурсе данных.

6. Щелкните вкладку **Профиль данных**, чтобы просмотреть профиль данных (например, количество строк, размер данных, минимальное значение в столбце) в ресурсе данных.

### <a name="discover-data-assets-with-property-scoping"></a>Обнаружение ресурсов данных с использованием ограничения по свойству

Функция ограничения по свойству помогает находить ресурсы данных по условию поиска, которое совпадает с указанным свойством.

1. Снимите флажок **Таблица** для параметра **Тип объекта** в разделе **Фильтры**.  

2. В поле поиска введите `tags:product` и нажмите клавишу **ВВОД**. Список всех свойств, используемых для поиска в каталоге данных, см. в [справочнике по синтаксису поиска в каталоге данных](/rest/api/datacatalog/#search-syntax-reference).

3. Убедитесь, что в результатах отображаются таблицы и база данных.  

    ![Каталог данных Azure — результаты поиска с ограничением по свойству](media/register-data-assets-tutorial/data-catalog-property-scoping-results.png)

### <a name="save-the-search"></a>Сохранение условий поиска

1. На панели **Поисковые запросы** раздела **Текущий поиск** введите имя для поиска и щелкните **Сохранить**.

    ![Каталог данных Azure — сохранение поиска](media/register-data-assets-tutorial/data-catalog-save-search.png)

2. Убедитесь, что имя сохраненных условий поиска отображается в разделе **Сохраненные условия поиска**.

3. Выберите одно из действий, которые можно выполнять с сохраненными условиями поиска (**переименовать**, **удалить**, **установить по умолчанию**).

### <a name="grouping-with-parentheses"></a>Группирование с помощью скобок

Скобки используются для группирования частей запросов, чтобы добиться логической изоляции. Это особенно удобно при использовании логических операторов.

1. В поле поиска введите `name:product AND (tags:product AND objectType:table)` и нажмите клавишу **ВВОД**.

2. Убедитесь, что теперь в результатах поиска отображается только таблица **Product** .

    ![Каталог данных Azure — поиск с группированием](media/register-data-assets-tutorial/data-catalog-grouping-search.png)

### <a name="comparison-operators"></a>Операторы сравнения

Помимо операторов равенства, можно также использовать операторы сравнения для свойств с числовым типом данных и типом данных даты.

1. В поле поиска введите `lastRegisteredTime:>"06/09/2016"`.

2. Снимите флажок **Таблица** для параметра **Тип объекта**.

3. Нажмите клавишу **ВВОД**.

4. Убедитесь, что в результатах поиска отображается зарегистрированная база данных Azure SQL, а также таблицы **Product**, **ProductCategory** и **ProductDescription**.

    ![Каталог данных Azure — результаты поиска с применением операторов сравнения](media/register-data-assets-tutorial/data-catalog-comparison-operator-results.png)

См. дополнительные сведения [об обнаружении ресурсов данных](data-catalog-how-to-discover.md). См. дополнительные сведения в [справочнике по синтаксису поиска в каталоге данных](/rest/api/datacatalog/#search-syntax-reference).

## <a name="annotate-data-assets"></a>Заметки к ресурсам данных

В этом упражнении вы добавите на портале Каталога данных Azure заметки (описания, теги, имена экспертов и другую информацию) к ресурсам данных, которые уже зарегистрированы в каталоге. Эти заметки дополняют структурные метаданные, извлеченные из источника данных во время регистрации. Заметки значительно упрощают обнаружение ресурсов данных и информируют о таких ресурсах.

В этом упражнении мы создадим аннотацию к ресурсу данных (ProductPhoto). Мы добавим понятное имя и описание для ресурса данных ProductPhoto.  

1. Откройте [домашнюю страницу Каталога данных Azure](https://www.azuredatacatalog.com) и введите в поле поиска `tags:product` для поиска зарегистрированных ресурсов данных.

2. Выберите **ProductModel** в результатах поиска.  

3. В поле **Понятное имя** введите **Product images** (Изображения продуктов), а в поле **Описание** — **Product photos for marketing materials** (Фотографии продуктов для рекламных материалов).

    ![Каталог данных Azure — описание объекта ProductPhoto](media/register-data-assets-tutorial/data-catalog-productmodel-description.png)

    **Описание** поможет другим пользователям понять, как и для чего можно использовать выбранный ресурс данных. Вы также можете добавлять дополнительные теги и просматривать столбцы. Вы можете применить поиск и фильтрацию по описательным метаданным, которые вы добавили в каталог.

На этой странице также можно выполнить следующие действия:

* Добавить экспертов для ресурса данных. Нажмите **Добавить** в области **Эксперты**.

* Добавить теги на уровне набора данных. Нажмите **Добавить** в области **Тэги**. Это может быть тег пользователя или тег глоссария. Стандартный выпуск каталога данных включает в себя бизнес-глоссарий, помогающий администраторам каталога определить основную таксономию бизнес-процессов. После этого пользователи каталога смогут добавлять заметки к ресурсам данных с помощью терминов из глоссария. Дополнительные сведения см. в статье [Как настроить бизнес-глоссарий для регулируемого добавления тегов](data-catalog-how-to-business-glossary.md).

* Добавить теги на уровне столбца. Нажмите кнопку **Добавить** в разделе **Теги** для столбца, к которому решили добавить заметку.

* Добавить описание на уровне столбца. Введите **описание** столбца. Можно также просмотреть метаданные описания, извлеченные из источника данных.

* Добавьте сведения о том, как **запросить доступ** , чтобы объяснить пользователям, как получить доступ к ресурсу данных.
  
* Выберите вкладку **Документация** и укажите документацию для ресурса данных. Документация позволяет использовать каталог данных Azure в качестве репозитория содержимого, создавая с его помощью полное описание ресурсов данных.
  
Вы также можете добавить аннотацию к нескольким ресурсам данных. Например, можно выбрать все зарегистрированные ресурсы данных и указать для них эксперта.

![Каталог данных Azure — добавление аннотаций к нескольким ресурсам данных](media/register-data-assets-tutorial/data-catalog-multi-select-annotate.png)

Каталог данных Azure поддерживает коллективную работу с аннотациями. Любой пользователь Каталога данных может добавлять теги (пользователя или глоссария), описания и другие метаданные. С помощью заметок пользователи добавляют новые сведения о на ресурсе данных и его использовании, чтобы поделиться им с другими пользователями.

Дополнительные сведения см. в статье [Создание заметок к источникам данных](data-catalog-how-to-annotate.md).

## <a name="connect-to-data-assets"></a>Подключение к ресурсам данных

Используя сведения о подключении, в этом упражнении вы откроете ресурсы данных в интегрированном клиентском средстве (Excel) и в неинтегрированной среде SQL Server Management Studio.

> [!NOTE]
> Важно помнить, что каталог данных Azure не предоставляет вам доступ к исходному источнику данных. Он только облегчает поиск и понимание информации. При подключении к источнику данных выбранное вами клиентское приложение использует ваши учетные данные Windows или при необходимости запрашивает учетные данные. Если раньше у вас не было доступа к источнику данных, то нужно получить доступ, прежде чем вы сможете подключиться.

### <a name="connect-to-a-data-asset-from-excel"></a>Подключение к ресурсу данных из Excel

1. В результатах поиска выберите **Product** . На панели инструментов щелкните **Открыть в** и выберите **Excel**.

    ![Каталог данных Azure — подключение к ресурсу данных](media/register-data-assets-tutorial/data-catalog-connect1.png)

2. Во всплывающем окне скачивания щелкните **Открыть**. Это процедура выглядит иначе в разных браузерах.

3. В окне **Microsoft Excel Security Notice** (Уведомление безопасности Microsoft Excel) нажмите кнопку **Включить**.

    ![Каталог данных Azure — всплывающее окно безопасности в Excel](media/register-data-assets-tutorial/data-catalog-excel-security-popup.png)

4. В диалоговом окне **Импорт данных** сохраните все значения по умолчанию и нажмите кнопку **OК**.

    ![Каталог данных Azure — импорт данных в Excel](media/register-data-assets-tutorial/data-catalog-excel-import-data.png)

5. Просмотрите источник данных в Excel.

    ![Каталог данных Azure — таблица Product в Excel](media/register-data-assets-tutorial/data-catalog-connect2.png)

### <a name="sql-server-management-studio"></a>SQL Server Management Studio

В этом упражнении вы подключились к ресурсам данных, найденным с помощью каталога данных Azure. Используя портал каталога данных Azure, вы можете подключаться напрямую к ресурсам с помощью клиентских приложений, интегрированных в меню каталога **Открыть в** . Кроме того, вы можете подключаться напрямую к ресурсам с помощью любого выбранного приложения, используя сведения о расположении подключения, указанные в метаданных ресурса. Например, вы можете использовать SQL Server Management Studio, чтобы подключиться к базе данных Azure SQL и получить доступ к данным в ресурсах, зарегистрированных при работе с этим руководством.

1. Откройте **SQL Server Management Studio**.

2. В диалоговом окне **Подключение к серверу** введите имя сервера, указанное на панели **Свойства** на портале каталога данных Azure.

3. Используйте соответствующие учетные данные и проверку подлинности для доступа к ресурсу данных. Если у вас нет доступа, используйте сведения в поле **Запрос на доступ** , чтобы получить его.

    ![Каталог данных Azure — запрос на доступ](media/register-data-assets-tutorial/data-catalog-request-access.png)

Щелкните **Просмотреть строки подключения**, чтобы просмотреть строки подключения ADF.NET, ODBC и OLEDB и скопировать их в буфер обмена для использования в приложении.

## <a name="manage-data-assets"></a>Управление ресурсами данных

На этом шаге показано, как настроить защиту ресурсов данных. Каталог данных не предоставляет пользователям доступ к самим данным. Доступом к данным управляет владелец источника данных.

Вы можете использовать каталог данных для обнаружения источников данных и просмотра метаданных, которые относятся к источникам, зарегистрированным в каталоге. При этом бывают ситуации, когда источники данных должны быть видимыми только для определенных пользователей или участников определенных групп. В таких случаях вы можете использовать каталог данных, чтобы стать владельцем зарегистрированных ресурсов данных и управлять отображением сведений о своих ресурсах.

> [!NOTE]
> Возможности управления, описанные в этом упражнении, доступны только в стандартном выпуске каталога данных Azure. В бесплатном выпуске они недоступны.
> В каталоге данных Azure можно стать владельцем ресурсов данных, добавить совладельцев ресурсов данных или задать ограничения видимости ресурсов данных.

### <a name="take-ownership-of-data-assets-and-restrict-visibility"></a>Назначение владельцем ресурсов данных и ограничение их видимости

1. Перейдите на [домашнюю страницу каталога данных Azure](https://www.azuredatacatalog.com). В текстовом поле **Поиск** введите `tags:cycles` и нажмите клавишу **ВВОД**.

2. В списке результатов выберите элемент и щелкните **Сменить владельца** на панели инструментов.

3. На панели **Свойства** в разделе **Управление** щелкните **Сменить владельца**.

    ![Каталог данных Azure — назначение владельцем](media/register-data-assets-tutorial/data-catalog-take-ownership.png)

4. Чтобы ограничить отображение, в разделе **Видимость** щелкните **Owners & These Users** (Владельцы и эти пользователи) и щелкните **Добавить**. Введите адрес электронной почты пользователя в соответствующем текстовом поле и нажмите клавишу **ВВОД**.

    ![Каталог данных Azure — ограничение доступа](media/register-data-assets-tutorial/data-catalog-ownership.png)

## <a name="remove-data-assets"></a>Удаление ресурсов данных

В этом упражнении мы используем портал каталога данных Azure для удаления ознакомительных данных из зарегистрированных ресурсов данных и удаления ресурсов данных из каталога.

В каталоге данных Azure вы можете удалять и отдельные ресурсы, и несколько ресурсов сразу.

1. Перейдите на [домашнюю страницу каталога данных Azure](https://www.azuredatacatalog.com).

2. В текстовом поле **Поиск** введите `tags:cycles` и нажмите клавишу **ВВОД**.

3. Выберите элемент в списке результатов и щелкните **Удалить** на панели инструментов, как показано на приведенном ниже рисунке.

    ![Каталог данных Azure — удаление элемента сетки](media/register-data-assets-tutorial/data-catalog-delete-grid-item.png)

    Если вы используете представление списка, флажок отображается слева от элемента, как показано на приведенном ниже рисунке.

    ![Каталог данных Azure — удаление элемента списка](media/register-data-assets-tutorial/data-catalog-delete-list-item.png)

    Вы можете также выбрать несколько ресурсов данных и удалить их все вместе, как показано на следующем рисунке.

    ![Каталог данных Azure — удаление нескольких ресурсов данных](media/register-data-assets-tutorial/data-catalog-delete-assets.png)

> [!NOTE]
> Каталог по умолчанию дает любому пользователю возможность зарегистрировать любой источник данных и удалить любой зарегистрированный ресурс данных. Функции управления, включенные в стандартный выпуск каталога данных Azure, предоставляют дополнительные возможности для смены владельца ресурсов и ограничения круга пользователей, которые могут обнаруживать или удалять ресурсы.

## <a name="summary"></a>Сводка

В этом руководстве вы изучили основные возможности каталога данных Azure, в том числе регистрацию и поиск корпоративных ресурсов данных, а также добавление к ним аннотаций и управление ими. Теперь, после завершения учебника, пора начать работу. Вы можете начать прямо сегодня, зарегистрировав источники данных, используемые вами и вашей командой, и пригласив коллег использовать каталог.

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Поддерживаемые источники данных](data-catalog-dsr.md)
