---
title: Оркестрация внедрения службы Azure DevTest Labs
description: Эта статья содержит рекомендации по оркестрации внедрения службы Azure DevTest Labs в организации.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/11/2019
ms.author: spelluru
ms.reviewer: christianreddington,anthdela,juselph
ms.openlocfilehash: e0ac09a68bda539fe7abd05fce1739d1a58a3c99
ms.sourcegitcommit: b3d74ce0a4acea922eadd96abfb7710ae79356e0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2019
ms.locfileid: "56242997"
---
# <a name="orchestrate-the-implementation-of-azure-devtest-labs"></a>Оркестрация внедрения службы Azure DevTest Labs
В этой статье предоставляется рекомендуемый подход для быстрого развертывания и реализации службы Azure DevTest Labs. На следующем изображении поэтапно представлен весь процесс, который гибко поддерживает различные сценарии и отраслевые требования.

![Шаги по реализации Azure DevTest Labs](./media/devtest-lab-guidance-orchestrate-implementation/implementation-steps.png)

## <a name="assumptions"></a>Предположения
В этой статье предполагается, что перед реализацией пилотного проекта DevTest Labs у вас подготовлены следующие компоненты:

- **Подписка Azure**. Команда пилотного проекта имеет доступ к развертыванию ресурсов в подписке Azure. Если единственными рабочими нагрузками является разработка и тестирование, рекомендуется выбрать предложение Enterprise DevTest, чтобы получить дополнительные образы и более низкие тарифы для виртуальных машин Windows.
- **Локальный доступ**. Если требуется локальный доступ, его нужно настроить заранее. Локальный доступ может осуществляться через VPN-подключение типа "сеть —сеть" или через ExpressRoute. Установка подключения через ExpressRoute обычно может занять несколько недель. Рекомендуется развернуть ExpressRoute перед запуском проекта.
- **Команды пилотных проектов**. Должна быть определена первоначальная команда разработчиков проекта, которая использует DevTest Labs, а также задачи разработки и тестирования, и согласованы требования, цели и задачи для этих команд.

## <a name="milestone-1-establish-initial-network-topology-and-design"></a>Веха 1. Определение начальной топологии сети и разработка
Первой основной задачей при развертывании решения Azure DevTest Labs является установка запланированного подключения для виртуальных машин. Ниже приведены необходимые процедуры:

1. Определите **начальные диапазоны IP-адресов**, которые будут назначены подписке Azure DevTest Labs в Azure. На этом шаге нужно спрогнозировать ожидаемое использование (в количестве виртуальных машин), чтобы вы могли обеспечить достаточно большой блок для будущего расширения.
2. Определите **методы необходимого доступа** в DevTest Labs (например, внешний или внутренний доступ). Ключевой момент на этом шаге — определить, имеют ли виртуальные машины общедоступные IP-адреса (то есть, доступны из Интернета напрямую).
3. Идентифицируйте и установите **методы подключения** к остальным облачным и локальным средам Azure. Если включена принудительная маршрутизация с помощью ExpressRoute, вполне вероятно, что виртуальным машинам понадобятся соответствующие конфигурации прокси-сервера для прохождения через корпоративный брандмауэр.
4. Если виртуальные машины должны быть **присоединены к домену**, определите, к какому домену они присоединяются: к облачному (например, службы каталогов AAD) или локальному. Для локального домена определите, к какому подразделению в Active Directory присоединяются виртуальные машины. Кроме того, убедитесь, что пользователи имеют право на присоединение, или создайте учетную запись службы, которая может создавать записи компьютера в домене.

## <a name="milestone-2-deploy-the-pilot-lab"></a>Веха 2. Развертывание лаборатории пилотного проекта
Когда сетевая топология будет настроена, можно создать первую или экспериментальную лабораторию, выполнив следующие действия:

1. Создайте начальную среду DevTest Labs (пошаговые инструкции можно найти [здесь](https://github.com/Azure/fta-devops/blob/master/devtest-labs/articles/devtest-labs-walkthrough-it.md)).
2. Определите допустимые образы виртуальных машин и их размеры для использования в лаборатории. Решите, можно ли отправлять пользовательские образы в Azure для использования с DevTest Labs.
3. Защитите доступ к лаборатории, создав начальные элементы управления доступом на основе ролей (пользователей и владельцев лаборатории). Мы рекомендуем синхронизировать учетные записи Active Directory с Azure Active Directory для идентификации в DevTest Labs.
4. Настройте в DevTest Labs использование политик, например расписания, управления затратами, запрашиваемых виртуальных машин, пользовательских образов или формул.
5. Создайте онлайн-репозиторий, например Azure Repos/Git.
6. Решите, какие репозитории использовать: общедоступные, частные или комбинируемые. Упорядочите шаблоны JSON для развертывания и долгосрочной поддержки.
7. Создайте настраиваемые артефакты, если это необходимо. Этот шаг не является обязательным. 

## <a name="milestone-3-documentation-support-learn-and-improve"></a>Веха 3. Документация, поддержка, обучение и улучшения
Для начала работы командам пилотных проектов может потребоваться глубокая поддержка. В процессе работы команд предоставляйте им подходящую документацию и поддержку для продолжения развертывания Azure DevTest Labs.

1. Предоставьте командам пилотных проектов новые ресурсы DevTest Labs (демонстрации, документация).
2. Исходя из продвижения команд пилотных проектов, планируйте и предоставляйте документацию по мере необходимости
3. Формализуйте процесс задействования новых команд (создание и настройка лабораторий, предоставление доступа и т. д.).
4. Основываясь на первоначальном использовании, убедитесь, что исходный прогноз пространства IP-адресов по-прежнему разумный и правильный.
5. Убедитесь, что были выполнены соответствующие проверки обеспечения соответствия и безопасности.

## <a name="next-steps"></a>Дополнительная информация
См. следующую статью в этом цикле: [Система управления инфраструктурой Azure DevTest Labs — ресурсы](devtest-lab-guidance-governance-resources.md)
