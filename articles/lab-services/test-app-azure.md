---
title: Тестирование приложения в Azure | Документация Майкрософт
description: Сведения о том, как создать общую папку в лаборатории и подключить ее на локальном компьютере и виртуальной машине в лаборатории, а затем развернуть в общей папке классические приложения или веб-приложения и протестировать их.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/04/2018
ms.author: spelluru
ms.openlocfilehash: f8c57b9e1fabbd04a7d9c92484b0f52f074c2577
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65872410"
---
# <a name="test-your-app-in-azure"></a>Тестирование приложения в Azure 
В этой статье описаны действия по тестированию приложения в Azure с помощью DevTest Labs. Сначала необходимо настроить общую папку в лаборатории и подключить ее как диск на локальном компьютере разработки и на виртуальной машине в лаборатории. Затем используется 2019 г. Visual Studio для развертывания приложения в файловый ресурс, чтобы обеспечить возможность выполнения приложения на виртуальной Машине в лаборатории.  

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]

## <a name="prerequisites"></a>Технические условия 
1. [Создайте подписку Azure](https://azure.microsoft.com/free/), если у вас ее еще нет, и войдите на [портал Azure](https://portal.azure.com).
2. Следуя инструкциям из [этой статьи](devtest-lab-create-lab.md), создайте лабораторию с помощью Azure DevTest Labs. Закрепите лабораторию на панели мониторинга, чтобы ее можно было легко найти при следующем входе. Azure DevTest Labs позволяет быстро создавать ресурсы в Azure, минимизируя простои и контролируя расходы. Чтобы узнать больше о DevTest Labs, см. [обзор](devtest-lab-overview.md). 
3. Создайте учетную запись хранения Azure в группе ресурсов лаборатории, следуя инструкциям из статьи [Создание учетной записи хранения](../storage/common/storage-create-storage-account.md). На странице **Создание учетной записи хранения** выберите **Использовать существующую** в поле **Группа ресурсов**, а затем выберите **группу ресурсов лаборатории**. 
4. Создайте общую папку в службе хранилища Azure, следуя инструкциям из статьи [Создание общей папки в службе файлов Azure](../storage/files/storage-how-to-create-file-share.md). 

## <a name="mount-the-file-share-on-your-local-machine"></a>Подключение общей папки на локальном компьютере
1. На локальном компьютере выполните скрипт из раздела [Сохранение учетных данных общей папки Azure в Windows](../storage/files/storage-how-to-use-files-windows.md#persisting-azure-file-share-credentials-in-windows) статьи [Использование общей папки Azure в Windows](../storage/files/storage-how-to-use-files-windows.md). 
2. Затем с помощью команды `net use` подключите общую папку на компьютере. Ниже приведен пример команды. Перед ее выполнением укажите имя хранилища Azure и имя общей папки. 

    `net use Z: \\<YOUR AZURE STORAGE NAME>.file.core.windows.net\<YOUR FILE SHARE NAME> /persistent:yes`

## <a name="create-a-vm-in-the-lab"></a>Создание виртуальной машины в лаборатории
1. На странице **Общая папка** выберите **группу ресурсов** в меню навигации вверху. Откроется страница **Группа ресурсов**. 
    
    ![Выбор группы ресурсов в меню навигации](media/test-app-in-azure/select-resource-group-bread-crump.png)
2. На странице **Группа ресурсов** выберите **лабораторию**, которую вы создали в DevTest Labs.

    ![Выбор лаборатории](media/test-app-in-azure/select-devtest-lab-in-resource-group.png)
3. На странице **DevTest Lab** созданной лаборатории выберите **+ Добавить** на панели инструментов. 

    ![Кнопка добавления для лаборатории](media/test-app-in-azure/add-button-in-lab.png)
4. На странице **Choose a base** (Выбор базы) выполните поиск по слову **smalldisk**, а затем выберите **[smalldisk] Windows Server 2016 Data Center**. 

    ![Выбор варианта "[smalldisk] Windows Server"](media/test-app-in-azure/choose-small-disk-windows-server.png)
5. На странице **Виртуальная машина** укажите **имя виртуальной машины**, **имя пользователя**, **пароль** и нажмите кнопку **Создать**.    
    
    ![Страница создания виртуальной машины](media/test-app-in-azure/create-virtual-machine-page.png)    

## <a name="mount-the-file-share-on-your-vm"></a>Подключение общей папки на виртуальной машине
1. После создания виртуальной машины выберите **виртуальную машину** из списка.    

    ![Выбор виртуальной машины для лаборатории](media/test-app-in-azure/select-lab-vm.png)
2. Выберите **Подключиться** на панели инструментов для подключения к виртуальной машине. 
3. [Установите Azure PowerShell](/powershell/azure/install-az-ps).
4. Следуйте инструкциям из раздела о подключении общей папки. 

## <a name="publish-your-app-from-visual-studio"></a>Публикация веб-приложения из Visual Studio
В этом разделе описана публикация приложения из Visual Studio на тестовой виртуальной машине в облаке.

1. Создание рабочего стола или веб-приложения с помощью Visual Studio 2019.
2. Выполните сборку приложения.
3. Чтобы опубликовать приложение, щелкните проект правой кнопкой мыши в **обозревателе решений** и выберите **Опубликовать**. 
4. В **мастере публикации** укажите **диск**, сопоставленный с общей папкой.

    **Классическое приложение:**

    ![Классическое приложение](media/test-app-in-azure/desktop-app.png)

    **Веб-приложение:**

    ![Веб-приложение](media/test-app-in-azure/web-app.png)

1. Выберите **Далее**, чтобы завершить процесс публикации, и нажмите кнопку **Готово**. После завершения шагов мастера Visual Studio выполнит сборку приложения и опубликует его в общей папке. 


## <a name="test-the-app-on-your-test-vm-in-the-lab"></a>Тестирование приложения на тестовой виртуальной машине в лаборатории

1. Перейдите на страницу виртуальной машины в лаборатории. 
2. Выберите **Запустить** на панели инструментов, чтобы запустить виртуальную машину, если она находится в остановленном состоянии. Можно настроить политики автоматического запуска и автоматического завершения работы для виртуальной машины, чтобы не запускать и не останавливать ее каждый раз вручную. 
3. Нажмите кнопку **Подключиться**.

    ![Страница виртуальной машины](media/test-app-in-azure/virtual-machine-page.png)
4. На виртуальной машине запустите **проводник** и выберите **Этот компьютер**, чтобы найти общую папку.

    ![Поиск общей папки на виртуальной машине](media/test-app-in-azure/find-share-on-vm.png)

    > [!NOTE]
    > Если по какой-либо причине общую папку не удается найти на виртуальной машине или на локальном компьютере, ее можно заново подключить, выполнив команду `net use`. Команду `net use` можно найти в **мастере подключения** **общей папки** на портале Azure.
1. Откройте общую папку и убедитесь, что отображается приложение, развернутое из Visual Studio. 

    ![Открытие общей папки на виртуальной машине](media/test-app-in-azure/open-file-share.png)

    Теперь можно получить доступ к приложению и протестировать его на тестовой виртуальной машине, созданной в Azure.

## <a name="next-steps"></a>Дальнейшие действия
Из следующих статей вы узнаете, как использовать виртуальные машины в лаборатории. 

- [Добавление виртуальной машины в лабораторию](devtest-lab-add-vm.md)
- [Перезагрузка виртуальной машины в лаборатории](devtest-lab-restart-vm.md)
- [Изменение размера виртуальной машины в лаборатории](devtest-lab-resize-vm.md)
