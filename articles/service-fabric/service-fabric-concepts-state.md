---
title: Управление состоянием в службах службы Azure
description: Узнайте о состоянии в структуре службы Azure, в том числе о том, как определить состояние службы и управлять в службах Service Fabric.
author: masnider
ms.topic: conceptual
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9acd3031d1071d1822791b333976aaf76161600f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75614576"
---
# <a name="service-state"></a>Состояние службы
**Состояние службы** — это данные в памяти или на диске, необходимые службе для функционирования. Например, к ним относятся структуры данных и переменные-члены, которые считываются и записываются работающей службой. В зависимости от архитектуры службы она может также включать в себя файлы и другие ресурсы, которые хранятся на диске. Например, это могут быть файлы, которые база данных будет использовать для хранения данных и журналов транзакций.

В качестве примера службы давайте рассмотрим калькулятор. Простая служба калькулятора получает два числа и возвращает их сумму. В этом вычислении не используются переменные-члены или другие сведения.

Теперь рассмотрим такой же калькулятор, но с дополнительным методом для сохранения и возврата последней вычисленной суммы. Сейчас это служба с отслеживанием состояния. Эта означает, что она содержит некоторое состояние, в которое осуществляется запись (при вычислении новой суммы) и из которого осуществляется чтение (при возврате последней вычисляемой суммы).

В Azure Service Fabric первая служба называется службой без отслеживания состояния. Вторая служба называется службой с отслеживанием состояния.

## <a name="storing-service-state"></a>Сохранение состояния службы
Состояние может быть выведено вовне или размещено совместно с кодом, который оперирует состоянием. Перенос состояния вовне, как правило, выполняется с помощью внешней базы данных или другого хранилища данных, работающего на разных компьютерах в сети или вне процесса на том же компьютере. В нашем примере калькулятора хранилищем данных может быть база данных SQL или экземпляр хранилища таблиц Azure. Каждый запрос на вычисление суммы приводит к обновлению этих данных, а запросы на возврат значения к службе приводят к получению текущего значения из хранилища. 

Состояние может также размещаться вместе с кодом, который манипулирует этим состоянием. Как правило, службы с отслеживанием состояния в Service Fabric создаются на основе этой модели. Service Fabric предоставляет инфраструктуру, которая гарантирует высокий уровень доступности, согласованность и устойчивость этого состояния, а также простое масштабирование служб, создаваемых на основе этой модели.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о понятиях Service Fabric см. в следующих статьях:

* [Доступность служб структуры служб](service-fabric-availability-services.md)
* [Масштабируемость служб структуры служб](service-fabric-concepts-scalability.md)
* [Разделение служб Service Fabric](service-fabric-concepts-partitioning.md)
* [Reliable Services на платформе Service Fabric](service-fabric-reliable-services-introduction.md)
