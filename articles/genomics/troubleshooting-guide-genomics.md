---
title: Руководство по устранению неполадок
titleSuffix: Microsoft Genomics
description: Узнайте о стратегиях устранения неполадок при использовании Microsoft Genomics.
keywords: troubleshooting, error, debugging
services: genomics
author: ruchir
editor: jasonwhowell
ms.author: ruchir
ms.service: genomics
ms.workload: genomics
ms.topic: troubleshooting
ms.date: 10/29/2018
ms.openlocfilehash: ce8af4d444e642a8f67f43f8cf403ce9b2cb08ab
ms.sourcegitcommit: 961468fa0cfe650dc1bec87e032e648486f67651
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/10/2019
ms.locfileid: "72248509"
---
# <a name="troubleshooting-guide"></a>Руководство по устранению неполадок

Здесь приведены стратегии по устранению распространенных неполадок при использовании службы Microsoft Genomics, MSGEN.

 Ответы на общие часто задаваемые вопросы о Microsoft Genomics см. в статье [Microsoft Genomics: часто задаваемые вопросы](frequently-asked-questions-genomics.md).
## <a name="step-1-locate-error-codes-associated-with-the-workflow"></a>Шаг 1. Определение кодов ошибок, связанных с рабочим процессом

Вы можете найти сообщения об ошибках, связанные с рабочим процессом:

1. Использовав командную строку и введя `msgen status`
2. Проверив содержимое standardoutput.txt.

### <a name="1-using-the-command-line-msgen-status"></a>1. Использованием командной строки `msgen status`

```bash
msgen status -u URL -k KEY -w ID 
```




Существуют три обязательных аргумента:

* URL — базовый универсальный код ресурса (URI) для API.
* KEY — ключ доступа к учетной записи Genomics
    * Чтобы получить аргументы URL и KEY, перейдите на портал Azure и откройте страницу учетной записи Microsoft Genomics. В разделе **управления** выберите **Ключи доступа**. Вы получите URL-адрес API и ключи доступа.

  
* ID — идентификатор рабочего процесса.
    * Чтобы найти идентификатор типа рабочего процесса в команде `msgen list`. При условии, что файл конфигурации содержит URL-адрес и ключи доступа, а также находится в одном расположении с msgen exe-файл, команда будет выглядеть следующим образом: 
        
        ```bash
        msgen list -f "config.txt"
        ```
        Выходные данные этой команды будут выглядеть следующим образом:
        
        ```bash
            Microsoft Genomics command-line client v0.7.4
                Copyright (c) 2018 Microsoft. All rights reserved.
                
                Workflow List
                -------------
                Total Count  : 1
                
                Workflow ID     : 10001
                Status          : Completed successfully
                Message         :
                Process         : snapgatk-20180730_1
                Description     :
                Created Date    : Mon, 27 Aug 2018 20:27:24 GMT
                End Date        : Mon, 27 Aug 2018 20:55:12 GMT
                Wall Clock Time : 0h 27m 48s
                Bases Processed : 1,348,613,600 (1 GBase)
        ```

  > [!NOTE]
  >  Кроме того, можно указать путь к файлу конфигурации вместо того, чтобы вводить URL-адрес и ключ. Если указать эти аргументы в командной строке и использовать файл конфигурации, то аргументы командной строки будут иметь приоритет.  

Если идентификатор рабочего процесса 1001 и файл config.txt помещены в тот же путь, что и исполняемый файл msgen, то команда будет выглядеть следующим образом:

```bash
msgen status -w 1001 -f "config.txt"
```

### <a name="2--examine-the-contents-of-standardoutputtxt"></a>2.  Изучите содержимое standardoutput.txt 
Найдите контейнер выходных данных для необходимого рабочего процесса. MSGEN создает папку `[workflowfilename].logs.zip` после каждого выполнения рабочего процесса. Распакуйте папку, чтобы просмотреть ее содержимое:

* outputFileList.txt — список выходных файлов, созданных во время выполнения рабочего процесса.
* standardError.txt — этот файл пуст.
* standardoutput.txt — регистрирует все сообщения верхнего уровня о состоянии, включая ошибки, возникшие во время выполнения рабочего процесса.
* Файлы журнала GATK — все файлы в папке `logs`.

Чтобы устранить неполадки, просмотрите содержимое standardoutput.txt и отметьте все сообщения об ошибках, которые отображаются.


## <a name="step-2-try-recommended-steps-for-common-errors"></a>Шаг 2. Попробуйте выполнить Рекомендуемые действия для распространенных ошибок.

В этом разделе кратко описаны распространенные ошибки службы Microsoft Genomics (msgen) и стратегии, которые можно использовать для их устранения. 

Служба Microsoft Genomics (msgen) может выдавать такие два типа ошибок:

1. Внутренние ошибки службы: Ошибки, являющиеся внутренними для службы, которые могут быть не разрешены путем исправления параметров или входных файлов. Иногда повторный запуск рабочего процесса может исправить эти ошибки.
2. Ошибки ввода: Ошибки, которые могут быть разрешены с помощью правильных аргументов или исправления форматов файлов.

### <a name="1-internal-service-errors"></a>1. Внутренние ошибки службы

Пользователь не может устранять внутренние ошибки службы. Вы можете повторно запустить рабочий процесс, но если это не поможет, обратитесь в службу поддержки Microsoft Genomics

| Сообщение об ошибке                                                                                                                            | Рекомендуемые шаги по устранению неполадок                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Произошла внутренняя ошибка. Попробуйте повторно запустить рабочий процесс. Если эта ошибка появится снова, то обратитесь за помощью в службу поддержки Microsoft Genomics | Повторно запустите рабочий процесс. Обратитесь за помощью в службу поддержки Microsoft Genomics, если проблема возникнет повторно, создав [запрос](file-support-ticket-genomics.md ) в службу поддержки. |

### <a name="2-input-errors"></a>2. Ошибки ввода

Пользователь может устранять такой тип ошибок. В зависимости от типа файла и кода ошибки служба Microsoft Genomics выводит коды различных ошибок. Выполните следующие рекомендуемые действия по устранению неполадок.

| Тип файла | Код ошибки | Сообщение об ошибке                                                                           | Рекомендуемые шаги по устранению неполадок                                                                                         |
|--------------|------------|-----------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
| Any          | 701        | Чтение [readId] имеет [numberOfBases] баз, но максимальное значение равно [maxReadLength]           | Наиболее распространенной причиной этой ошибки является повреждение файла, что приводит к объединению двух операций чтения. Проверьте свои входные файлы. |
| BAM          | 200        |   Не удалось прочитать файл "[yourFileName]".                                                                                       | Проверьте формат файла BAM. Еще раз отправьте рабочий процесс с файлом, у которого правильное форматирование.                                                                           |
| BAM          | 201        |  Не удалось прочитать файл BAM [File_name].                                                                                      |Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                            |
| BAM          | 202        | Не удалось прочитать файл BAM [File_name]. Файл слишком мал, а заголовок отсутствует.                                                                                        | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                            |
| BAM          | 203        |   Не удалось прочитать файл BAM [File_name]. Заголовок файла поврежден.                                                                                      |Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                           |
| BAM          | 204        |    Не удалось прочитать файл BAM [File_name]. Заголовок файла поврежден.                                                                                     | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                           |
| BAM          | 205        |    Не удалось прочитать файл BAM [file_name]. Заголовок файла поврежден.                                                                                     | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                            |
| BAM          | 206        |   Не удалось прочитать файл BAM [File_name]. Заголовок файла поврежден.                                                                                      | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                            |
| BAM          | 207        |  Не удалось прочитать файл BAM [File_name]. Файл усечен близко смещения [offset].                                                                                       | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                            |
| BAM          | 208        |   Недопустимый файл BAM. В файле [File_name] нет последовательности ReadID [Read_Id].                                                                                      | Проверьте формат файла BAM.  Запустите рабочий процесс с помощью файла правильного формата.                                                                             |
| Файл FASTQ        | 300        |  Не удалось прочитать файл FASTQ. [File_name] не заканчивается новой строкой.                                                                                     | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                           |
| Файл FASTQ        | 301        |   Не удалось прочитать файл FASTQ [File_name]. Запись FASTQ больше, чем размер буфера по смещению: [_offset]                                                                                      | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                         |
| Файл FASTQ        | 302        |     Синтаксическая ошибка файла FASTQ. Файл [File_name] содержит пустую строку.                                                                                    | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                         |
| Файл FASTQ        | 303        |       Синтаксическая ошибка файла FASTQ. Файл [File_name] содержит недопустимый начальный символ по смещению: [_offset], типу строки: [line_type], символу: [_char]                                                                                  | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                         |
| Файл FASTQ        | 304      |  Синтаксическая ошибка файла FASTQ Syntax в readID [_ReadID].  Первое чтение пакета не имеет readID, что заканчивается на /1 в файле [File_name]                                                                                       | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                         |
| Файл FASTQ        | 305        |  Синтаксическая ошибка файла FASTQ Syntax в readID [_ReadID]. Второе чтение пакета не имеет readID, что заканчивается на /2 в файле [File_name]                                                                                      | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                          |
| Файл FASTQ        | 306        |  Синтаксическая ошибка файла FASTQ Syntax в readID [_ReadID]. Первое чтение пары не имеет идентификатора, который заканчивается на /1 в файле [File_name]                                                                                       | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                          |
| Файл FASTQ        | 307        |   Синтаксическая ошибка файла FASTQ Syntax в readID [_ReadID]. ReadID не заканчивается на /1 или /2. Файл [File_name] нельзя использовать как парный файл FASTQ.                                                                                      |Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                          |
| Файл FASTQ        | 308        |  Ошибка чтения файла FASTQ. Ответы операций чтения с обеих сторон разные. Вы выбрали правильные файлы FASTQ?                                                                                       | Исправьте формат файла FASTQ и повторно запустите рабочий процесс.                                                                         |
|        |       |                                                                                        |                                                                           |

## <a name="step-3-contact-microsoft-genomics-support"></a>Шаг 3. Обратитесь в службу поддержки Microsoft Genomics

Если у вас по-прежнему возникают проблемы с заданием или у вас есть другие вопросы, обратитесь в службу поддержки Microsoft Genomics с портала Azure. Дополнительные сведения о том, как отправить запрос в службу поддержки, см. [здесь](file-support-ticket-genomics.md).

## <a name="next-steps"></a>Следующие шаги

В этой статье вы узнали, как устранять распространенные проблемы с помощью службы Microsoft Genomics. Дополнительные сведения и ответы на общие вопросы см. в статье [Microsoft Genomics: часто задаваемые вопросы](frequently-asked-questions-genomics.md). 
