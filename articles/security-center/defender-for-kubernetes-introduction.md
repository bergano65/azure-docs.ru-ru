---
title: Преимущества и функции Azure Defender для Kubernetes
description: Сведения о преимуществах и функциях Azure Defender для Kubernetes.
author: memildin
ms.author: memildin
ms.date: 9/12/2020
ms.topic: overview
ms.service: security-center
manager: rkarlin
ms.openlocfilehash: a815295c4f2ab78cbd3aff82949d7c28197afd82
ms.sourcegitcommit: 400f473e8aa6301539179d4b320ffbe7dfae42fe
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/28/2020
ms.locfileid: "92791925"
---
# <a name="introduction-to-azure-defender-for-kubernetes"></a>Общие сведения об Azure Defender для Kubernetes

Служба Azure Kubernetes (AKS) — это управляемая служба Майкрософт для разработки, развертывания контейнерных приложений и управления ими.

В комплексе Центр безопасности Azure и AKS представляют собой лучшее из ориентированных на облако решений по обеспечению безопасности Kubernetes. Они обеспечивают усиление защиты среды, защиту рабочих нагрузок и защиту во время выполнения, как описано ниже.

Для обнаружения угроз в кластерах Kubernetes включите **Azure Defender для Kubernetes**.

Обнаружение угроз на уровне узла доступно для узлов AKS в Linux при включенном [Azure Defender для серверов](defender-for-servers-introduction.md).

## <a name="availability"></a>Доступность

|Аспект|Сведения|
|----|:----|
|Состояние выпуска:|Общедоступная версия (GA)|
|Цены|Плата за использование **Azure Defender для Kubernetes** начисляется по тарифам, приведенным на [странице с ценами](security-center-pricing.md).|
|Требуемые роли и разрешения|**Администратор безопасности** может отклонять предупреждения.<br>**Читатель сведений о безопасности** может просматривать результаты.|
|Облако.|![Да](./media/icons/yes-icon.png) Коммерческие облака<br>![Нет](./media/icons/no-icon.png) Национальные и независимые (US Gov, China Gov, другие правительственные облака)|
|||

## <a name="what-are-the-benefits-of-azure-defender-for-kubernetes"></a>Каковы преимущества Azure Defender для Kubernetes?

### <a name="run-time-protection"></a>Защита в режиме реального времени

Благодаря непрерывному анализу перечисленных ниже источников AKS Центр безопасности обеспечивает для контейнерных сред защиту от угроз в режиме реального времени и создает оповещения об угрозах и вредоносных действиях, обнаруженных на уровнях узла *и* кластера AKS. Эти сведения можно использовать для быстрого устранения проблем безопасности и повышения безопасности контейнеров.

Центр безопасности обеспечивает защиту от угроз на разных уровнях. 

- **Уровень узла (предоставляется Azure Defender для серверов).** Тот же агент Log Analytics, который используется Центром безопасности на других виртуальных машинах, позволяет Azure Defender отслеживать подозрительные действия на узлах AKS в Linux, например обнаруживать веб-оболочки и подключения с известных подозрительных IP-адресов. Этот агент отслеживает такие события, как создание привилегированных контейнеров, подозрительный доступ к серверам API и запуск серверов Secure Shell (SSH) в контейнере Docker.

    Список оповещений на уровне узла AKS см. в [справочной таблице оповещений](alerts-reference.md#alerts-containerhost).

    >[!IMPORTANT]
    > Если вы решили не устанавливать агенты на узлах, то получите только часть преимуществ защиты от угроз и лишь некоторые из оповещений системы безопасности. Вы будете по-прежнему получать оповещения, связанные с анализом сети и обменом данными с вредоносными серверами.

- **Уровень кластера AKS (предоставляется Azure Defender для Kubernetes).** На уровне кластера защита от угроз реализуется на основе анализа журналов аудита Kubernetes. Чтобы включить **мониторинг без агента** , включите Azure Defender. Для создания предупреждений на этом уровне Центр безопасности отслеживает службы, которыми управляет служба AKS, с помощью полученных ею журналов. Примерами событий на этом уровне могут служить представление панелей мониторинга Kubernetes, создание ролей с высоким уровнем привилегий и создание конфиденциальных подключений.

    Список оповещений на уровне кластера AKS см. в [справочной таблице оповещений](alerts-reference.md#alerts-akscluster).

    >[!NOTE]
    > Центр безопасности создает оповещения системы безопасности для действий и развертываний Службы Azure Kubernetes, происходящих после включения параметра Kubernetes в параметрах подписки. 

Следует также отметить, что наша международная команда специалистов по безопасности постоянно отслеживает ландшафт угроз. Они добавляют оповещение и уязвимости для конкретных контейнеров по мере их обнаружения.

> [!TIP]
> Вы можете имитировать оповещения для контейнеров, выполнив инструкции в [этой записи блога](https://techcommunity.microsoft.com/t5/azure-security-center/how-to-demonstrate-the-new-containers-features-in-azure-security/ba-p/1011270).



## <a name="how-does-security-centers-kubernetes-protection-work"></a>Как работает защита Kubernetes в Центре безопасности?

Ниже приведена подробная схема взаимодействия между Центром безопасности Azure, Службой Azure Kubernetes и Политикой Azure.

Как видите, Центр безопасности собирает и анализирует следующие элементы:

- журналы аудита с сервера API;
- необработанные события безопасности от агента Log Analytics;
- сведения о конфигурации кластера из кластера AKS;
- конфигурации рабочих нагрузок из Политики Azure (через **надстройку Политики Azure для Kubernetes** ). [Дополнительные сведения о защите рабочих нагрузок с использованием средств управления допуском в Kubernetes](container-security.md#workload-protection-best-practices-using-kubernetes-admission-control)

:::image type="content" source="./media/defender-for-kubernetes-intro/kubernetes-service-security-center-integration-detailed.png" alt-text="Подробная схема взаимодействия между Центром безопасности Azure, Службой Azure Kubernetes и Политикой Azure" lightbox="./media/defender-for-kubernetes-intro/kubernetes-service-security-center-integration-detailed.png":::




## <a name="azure-defender-for-kubernetes---faq"></a>Вопросы и ответы по Azure Defender для Kubernetes

### <a name="can-i-still-get-aks-protections-without-the-log-analytics-agent"></a>Можно ли сейчас обеспечить защиту AKS без агента Log Analytics?

Как уже упоминалось выше, дополнительный план **Azure Defender для Kubernetes** обеспечивает защиту на уровне кластера, а агент Log Analytics для **Azure Defender для серверов** защищает узлы. 

Мы рекомендуем развернуть оба инструмента, чтобы обеспечить максимально полную защиту.

Если вы решите не устанавливать агенты на узлах, то получите только часть преимуществ защиты от угроз и лишь некоторые из оповещений системы безопасности. Вы будете по-прежнему получать оповещения, связанные с анализом сети и обменом данными с вредоносными серверами.


### <a name="does-aks-allow-me-to-install-custom-vm-extensions-on-my-aks-nodes"></a>Разрешает ли AKS устанавливать пользовательские расширения виртуальных машин в узлах AKS?

Чтобы средство Azure Defender отслеживало узлы AKS, на них должен работать агент Log Analytics. 

AKS — это управляемая служба, а так как агент Log analytics является расширением, управляемым корпорацией Майкрософт, его также поддерживают кластеры AKS.



### <a name="if-my-cluster-is-already-running-an-azure-monitor-for-containers-agent-do-i-need-the-log-analytics-agent-too"></a>Если в моем кластере уже выполняется Azure Monitor для агента контейнеров, мне также нужен агент Log Analytics?

Чтобы средство Azure Defender отслеживало узлы AKS, на них должен работать агент Log Analytics.

Если в кластерах уже используется агент Azure Monitor для контейнеров, вы можете установить и агент Log Analytics. Два агента могут работать параллельно без каких бы то ни было проблем.

[См. сведения об Azure Monitor для агента контейнеров](../azure-monitor/insights/container-insights-manage-agent.md).


## <a name="next-steps"></a>Дальнейшие действия

Из этой статьи вы узнали о защите Kubernetes в Центре безопасности, в том числе об Azure Defender для Kubernetes. 

Связанные материалы см. в следующих статьях: 

- [Включение Azure Defender](security-center-pricing.md)
- [Потоковая передача оповещений в решение SIEM, SOAR или решение для управления ИТ-услугами](export-to-siem.md)
- [Справочная таблица предупреждений](alerts-reference.md)