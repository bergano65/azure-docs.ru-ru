---
title: Заметки о выпуске
description: Заметки о выпуске для хранилища данных SQL Azure.
services: sql-data-warehouse
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.subservice: ''
ms.date: 09/18/2019
author: anumjs
ms.author: anjangsh
ms.reviewer: jrasnick
manager: craigg
ms.custom: seo-lt-2019
ms.openlocfilehash: bb9aa1cf547c37670732665a8d207f8c9f01eee0
ms.sourcegitcommit: 609d4bdb0467fd0af40e14a86eb40b9d03669ea1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2019
ms.locfileid: "73692912"
---
# <a name="azure-sql-data-warehouse-release-notes"></a>Заметки о выпуске для Хранилища данных SQL Azure

В этой статье перечислены новые функции и усовершенствования в последних выпусках [хранилища данных SQL Azure](sql-data-warehouse-overview-what-is.md) (хранилище Azure SQL). В статье также перечислены важные обновления содержимого, которые не связаны непосредственно с выпуском, но опубликованы в одном и том же кадре. Улучшения других служб Azure см. в разделе [обновления служб](https://azure.microsoft.com/updates).

## <a name="check-your-azure-sql-data-warehouse-version"></a>Проверка версии хранилища данных SQL Azure

По мере выпуска новых функций во все регионы Проверьте версию, развернутую в экземпляре, и последние заметки о выпуске хранилища данных SQL Azure для доступности функций. Чтобы проверить версию хранилища данных SQL Azure, подключитесь к хранилищу с помощью SQL Server Management Studio (SSMS) и запустите `SELECT @@VERSION;`, чтобы получить текущую версию хранилища Azure SQL.

Выходные данные примера:

![Версия хранилища данных SQL](./media/release-notes/sql_data_warehouse_version.png)

Используйте указанную дату, чтобы подтвердить, какой выпуск был применен к ХРАНИЛИЩу данных SQL Azure.

## <a name="september-2019"></a>Сентябрь 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Частная ссылка Azure (Предварительная версия)**|С помощью [частного канала Azure](https://azure.microsoft.com/blog/announcing-azure-private-link/)можно создать частную конечную точку в виртуальной сети и связать ее с хранилищем данных SQL Azure. Затем эти ресурсы доступны через частный IP-адрес в виртуальной сети, что позволяет осуществлять подключение из локальной среды через частный пиринг Azure ExpressRoute и (или) VPN-шлюз. В целом, это упрощает настройку сети за счет того, что не требуется открывать общедоступные IP-адреса. Это также обеспечивает защиту от рисков утечка данных. Дополнительные сведения см. в разделе [Обзор](/azure/private-link/private-link-overview) и [Документация по хранилищу данных SQL](/azure/sql-database/sql-database-private-endpoint-overview).|
|**Классификация & обнаружения данных (общедоступная версия)**|Функция [обнаружения и классификации данных](/azure/sql-database/sql-database-data-discovery-and-classification?toc=/azure/sql-data-warehouse/toc.json) теперь общедоступна. Эта функция предоставляет расширенные возможности для **обнаружения, классификации и маркировки & защиты** конфиденциальных данных в базах данных.|
|**Интеграция Azure Advisor одним щелчком**|Хранилище данных SQL прямо интегрируется с рекомендациями помощника по Azure в колонке "Обзор" и предоставляет возможность однократного щелчка. Теперь вы можете найти рекомендации в колонке "Обзор" вместо перехода к колонке помощника по Azure. Дополнительные сведения о рекомендациях см. [здесь](sql-data-warehouse-concept-recommendations.md).|
|**Изоляция моментальных снимков READ COMMITTED (Предварительная версия)**|Чтобы включить или отключить изоляцию моментального снимка для пользовательской базы данных, можно использовать инструкцию ALTER базе данных.  Чтобы не влиять на текущую рабочую нагрузку, можно установить этот параметр во время периода обслуживания базы данных или подождать, пока не появится активное соединение с базой данных. Дополнительные сведения см. в разделе [Параметры ALTER DATABASE SET](/sql/t-sql/statements/alter-database-transact-sql-set-options?view=azure-sqldw-latest).|
|**EXECUTE AS (Transact-SQL)**| [выполнить как](/sql/t-sql/statements/execute-as-transact-sql?view=azure-sqldw-latest) Поддержка T-SQL теперь доступна в хранилище данных SQL, что позволяет клиентам задавать контекст выполнения сеанса для указанного пользователя.|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для хранилища данных SQL была расширена и включает поддержку следующих функций: </br> [формат - (Transact-SQL)](/sql/t-sql/functions/format-transact-sql?view=azure-sqldw-latest)</br> - [TRY_PARSE (Transact-SQL)](/sql/t-sql/functions/try-parse-transact-sql?view=azure-sqldw-latest)</br> - [TRY_CAST (Transact-SQL)](/sql/t-sql/functions/try-cast-transact-sql?view=azure-sqldw-latest)</br> - [TRY_CONVERT (Transact-SQL)](/sql/t-sql/functions/try-convert-transact-sql?view=azure-sqldw-latest)</br> - [sys. user_token (Transact-SQL)](/sql//relational-databases/system-catalog-views/sys-user-token-transact-sql?view=azure-sqldw-latest)|

## <a name="july-2019"></a>2019 июля

| Улучшения службы | Сведения |
| --- | --- |
|**Материализованные представления (Предварительная версия)**|Материализованный режим сохраняет данные, возвращаемые запросом определения представления, и автоматически обновляется по мере изменения данных в базовых таблицах. Он повышает производительность сложных запросов (обычно запросы с объединениями и агрегатами), предоставляя простые операции обслуживания. Дополнительные сведения можно найти в разделе </br> - [создать материализованный представление как SELECT &#40;Transact-SQL&#41; ](/sql/t-sql/statements/create-materialized-view-as-select-transact-sql?view=azure-sqldw-latest)</br> - [изменении материализованных представлений &#40;Transact-SQL&#41; ](/sql/t-sql/statements/alter-materialized-view-transact-sql?view=azure-sqldw-latest) </br> - [инструкций t-SQL, поддерживаемых в хранилище данных SQL Azure](/azure/sql-data-warehouse/sql-data-warehouse-reference-tsql-statements)|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для хранилища данных SQL была расширена и включает поддержку следующих функций: </br> - [в часовом поясе (Transact-SQL)](/sql/t-sql/queries/at-time-zone-transact-sql?view=azure-sqldw-latest)</br> - [STRING_AGG (Transact-SQL)](/sql/t-sql/functions/string-agg-transact-sql?view=azure-sqldw-latest)|
|**Кэширование результирующего набора (Предварительная версия)**|Добавлены команды DBCC для управления ранее объявленным кэшем результирующего набора. Дополнительные сведения можно найти в разделе </br> - [DBCC дропресултсеткаче &#40;Transact-SQL&#41; ](/sql/t-sql/database-console-commands/dbcc-dropresultsetcache-transact-sql?view=azure-sqldw-latest)  </br> - [DBCC шовресулткачеспацеусед &#40;Transact-SQL&#41; ](/sql/t-sql/database-console-commands/dbcc-showresultcachespaceused-transact-sql?view=azure-sqldw-latest) </br></br> Также см. новый столбец result_set_cache в [представлении sys. DM _pdw_exec_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql?view=azure-sqldw-latest) , показывающий, когда выполненный запрос использовал кэш результирующего набора.|
|**Упорядоченный кластеризованный индекс columnstore (Предварительная версия)**|Новый столбец column_store_order_ordinal, добавленный в [sys. index_columns](/sql/relational-databases/system-catalog-views/sys-index-columns-transact-sql?view=azure-sqldw-latest) для задания порядка столбцов в упорядоченном кластеризованном индексе columnstore.|

## <a name="may-2019"></a>Май 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Динамическое маскирование данных (Предварительная версия)**|Функция динамического маскирования данных предотвращает несанкционированный доступ к вашим конфиденциальным данным в хранилище данных благодаря немедленному их маскированию в результатах запроса. При этом используются заданные вами правила маскирования. Дополнительные сведения см. в разделе [Динамическое маскирование данных в базе данных SQL](/azure/sql-database/sql-database-dynamic-data-masking-get-started).|
|**Уровень важности рабочей нагрузки теперь общедоступен**|Классификация и важность управления рабочими нагрузками позволяют определять порядок выполнения запросов. Дополнительные сведения о важности рабочей нагрузки см. в статьях Обзор [классификации](sql-data-warehouse-workload-classification.md) и [важности](sql-data-warehouse-workload-importance.md) в документации. Ознакомьтесь с документом- [классификатором создания рабочей нагрузки](/sql/t-sql/statements/create-workload-classifier-transact-sql?view=azure-sqldw-latest) .<br/><br/>См. раздел важность рабочей нагрузки в действии в следующих видеороликах:<br/> [Основные понятия управления рабочей Нагрузкой](https://www.youtube.com/embed/QcCRBAhoXpM) -<br/> [сценарии управления рабочей Нагрузкой](https://www.youtube.com/embed/_2rLMljOjw8) -|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для хранилища данных SQL была расширена и включает поддержку следующих функций: </br> - [обрезать](/sql/t-sql/functions/trim-transact-sql?view=azure-sqldw-latest)|
|**Функции JSON**|Бизнес-аналитики теперь могут использовать знакомый язык T-SQL для запроса и обработки документов, отформатированных как данные JSON, с помощью следующих новых функций JSON в хранилище данных Azure:</br> - а [JSON](/sql/t-sql/functions/isjson-transact-sql?view=azure-sqldw-latest)</br> - [JSON_VALUE](/sql/t-sql/functions/json-value-transact-sql?view=azure-sqldw-latest)</br> -  [JSON_QUERY](/sql/t-sql/functions/json-query-transact-sql?view=azure-sqldw-latest)</br> -  [JSON_MODIFY](/sql/t-sql/functions/json-modify-transact-sql?view=azure-sqldw-latest)</br> - [OPENJSON](/sql/t-sql/functions/openjson-transact-sql?view=azure-sqldw-latest)|
|**Кэширование результирующего набора (Предварительная версия)**|Кэширование наборов результатов позволяет мгновенно отреагировать на запросы, уменьшая время на анализ бизнес-аналитиков и пользователей отчетов. Дополнительные сведения можно найти в разделе</br> - [ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql?view=azure-sqldw-latest)</br> - [Параметры инструкции ALTER DATABASE SET (TRANSACT SQL)](/sql/t-sql/statements/alter-database-transact-sql-set-options?view=azure-sqldw-latest)</br> - [установить кэширование результирующего набора (Transact-SQL)](/sql/t-sql/statements/set-result-set-caching-transact-sql?view=azure-sqldw-latest)</br> [инструкция SET - (Transact-SQL)](/sql/t-sql/statements/set-statements-transact-sql)</br> - [sys. databases (Transact-SQL)](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql?view=azure-sqldw-latest)|
|**Упорядоченный кластеризованный индекс columnstore (Предварительная версия)**|Columnstore — это основная возможность хранения и эффективного запрашивания больших объемов данных. Для каждой таблицы входящие данные делятся на группы строк, а каждый столбец группы строк составляет сегмент на диске.  Упорядоченные кластеризованные индексы columnstore еще больше оптимизируют выполнение запросов, так как они обеспечивают эффективную корректировку сегментов.   Дополнительные сведения см. в следующих статьях:</br> [CREATE TABLE -  (хранилище данных SQL Azure)](/sql/t-sql/statements/create-table-azure-sql-data-warehouse?view=azure-sqldw-latest)</br> -  [создать индекс COLUMNSTORE (Transact-SQL)](/sql/t-sql/statements/create-columnstore-index-transact-sql?view=azure-sqldw-latest).|

## <a name="march-2019"></a>Март 2019 г.

| Улучшения службы | Сведения |
| --- | --- |
|**Обнаружение и классификация данных**|Теперь предоставляется общедоступная предварительная версия функции обнаружения и классификации данных для Хранилища данных SQL Azure. Важно защищать конфиденциальные данные и конфиденциальность ваших клиентов. По мере роста бизнес-ресурсов и данных клиентов они становятся неуправляемыми для обнаружения, классификации и защиты данных. Функция обнаружения и классификации данных, представляемая в собственном коде с помощью хранилища данных SQL Azure, помогает защитить данные более управляемыми. Основные преимущества таких возможностей:<br/>&bull; &nbsp; соответствии стандартам конфиденциальности данных и нормативным требованиям.<br/>&bull; &nbsp; ограничения доступа к хранилищам данных, содержащим строго конфиденциальные данные, и усиления безопасности.<br/>&bull; &nbsp; мониторинг и оповещение о аномальном доступе к конфиденциальным данным.<br/>&bull; &nbsp; визуализации конфиденциальных данных в центральной панели мониторинга портал Azure. </br></br>Классификация & обнаружения данных доступна для хранилища данных SQL Azure во всех регионах Azure, оно является частью дополнительной защиты данных, включая оценку уязвимостей и обнаружение угроз. Дополнительные сведения о классификации & обнаружения данных см. в записи [блога](https://azure.microsoft.com/blog/announcing-public-preview-of-data-discovery-classification-for-microsoft-azure-sql-data-warehouse/) и в нашей электронной [документации](/azure/sql-database/sql-database-data-discovery-and-classification).|
|**СВЕДЕНИЕ GROUP BY**|СВЕРТКА теперь поддерживается параметром GROUP BY в хранилище данных Azure.   СВЕРТКА GROUP BY создает группу для каждого сочетания выражений столбцов. GROUP BY также выполняет сведение результатов в подытоги и общие итоги. Функция GROUP BY обрабатывает справа налево, уменьшая число выражений столбцов, по которым создаются группы и агрегаты.  Порядок столбцов влияет на выходные данные СВЕРТКИ и может повлиять на количество строк в результирующем наборе.<br/><br/>Дополнительные сведения о группе "СВЕДЕНИЕ по" см. в разделе [Group By (Transact-SQL)](/sql/t-sql/queries/select-group-by-transact-sql?view=azure-sqldw-latest) .
|**Улучшенная точность использования DWU и метрик на портале ЦП**|Хранилище данных SQL значительно повышает точность метрик в портал Azure.  Этот выпуск включает в себя исправление для ЦП и DWU использовало определение метрики, чтобы правильно отразить рабочую нагрузку на всех вычислительных узлах. Перед этим исправлением значения метрик были неподчиненными. Вы должны увидеть увеличение количества используемых DWU и метрик ЦП в портал Azure. |
|**Безопасность на уровне строк**|Мы включили функции безопасности на уровне строк в ноября 2017. Теперь эта поддержка также расширена для внешних таблиц. Кроме того, добавлена поддержка вызова недетерминированных функций во встроенных возвращающих табличное значение функциях (inline возвращающие табличное), необходимых для определения предиката фильтра безопасности. Это добавление позволяет указать IS_ROLEMEMBER (), USER_NAME () и т. д. в предикате фильтра безопасности. Дополнительные сведения см. в примерах в документации по [безопасности на уровне строк](/sql/relational-databases/security/row-level-security).|
|**Дополнительная поддержка T-SQL**|Контактная зона языка T-SQL для хранилища данных SQL была расширена и включает поддержку [STRING_SPLIT (Transact-SQL)](/sql/t-sql/functions/string-split-transact-sql).
|**Усовершенствования оптимизатора запросов** |Оптимизация запросов является важнейшим компонентом любой базы данных. Выбор оптимального способа выполнения запроса может привести к значительному улучшению.  При выполнении сложных аналитических запросов в распределенной среде количество выполненных операций имеет значение. Производительность запросов была улучшена за счет создания лучших планов качества. Эти планы снижают объем ресурсоемких операций по переносу данных и избыточных вычислений, таких как повторяющиеся вложенные запросы. Дополнительные сведения см. в этой [записи блога](https://azure.microsoft.com/blog/smarter-faster-safer-azure-sql-data-warehouse-is-simply-unmatched/)хранилища данных SQL Azure.|
| | |

### <a name="documentation-improvements"></a>Улучшения документации

| Улучшения документации | Сведения |
| --- | --- |
| | |

## <a name="january-2019"></a>Январь 2019 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**Оптимизация возврата результатов запросов по порядку**|В этом выпуске повышается производительность запросов SELECT...ORDER BY.   Теперь все расчетные узлы отправляют свои результаты в один узел вычислений. Этот узел выполняет слияние и сортировку результатов и возвращает их пользователю.  Объединение через один вычислительный узел обеспечивает прирост производительности, если результирующий набор запросов содержит большое количество строк. Ранее механизм выполнения запросов будет упорядочивать результаты на каждом вычислительном узле. Результаты будут передаваться в поток управления на управляющий узел. Затем узел элемента управления объединит результаты.|
|**Усовершенствования перемещения данных для PartitionMove и BroadcastMove**|В Gen2 хранилища данных SQL Azure шаги перемещения данных типа Шуффлемове используют методы перемещения данных мгновенно.  Дополнительные сведения см. в [блоге улучшение производительности](https://azure.microsoft.com/blog/lightning-fast-query-performance-with-azure-sql-data-warehouse/). В этом выпуске Партитионмове и Броадкастмове теперь являются одними и теми же методами перемещения мгновенных данных. Запросы пользователей, которые используют эти типы шагов перемещения данных, будут выполняться с улучшенной производительностью. Чтобы воспользоваться преимуществами улучшений производительности, не нужно вносить изменения в код.|
|**Важные ошибки**|Неправильная версия хранилища данных SQL Azure — `SELECT @@VERSION` может возвращать неправильную версию, 10.0.9999.0. Правильная версия текущего выпуска — 10.0.10106.0. Эта ошибка нам известна и находится на рассмотрении.
| | |

### <a name="documentation-improvements"></a>Улучшения документации

| Улучшения документации | Сведения |
| --- | --- |
|Нет | |
| | |

## <a name="december-2018"></a>Декабрь 2018 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**Общедоступные конечные точки службы виртуальной сети**|Этот выпуск включает общедоступную версию конечных точек службы виртуальной сети для Хранилища данных SQL Azure во всех регионах Azure. Конечные точки виртуальной сети позволяют изолировать подключение к логическому серверу из заданной подсети или набора подсетей в виртуальной сети. Трафик, поступающий из виртуальной сети в Хранилище данных SQL Azure, всегда остается в магистральной сети Azure. Этот прямой маршрут предпочтительнее, чем какие-либо специальные маршруты, предполагающие прием трафика из Интернета через виртуальные модули или локальные службы. Дополнительная плата за доступ к виртуальной сети через конечные точки службы не взимается. Текущая модель ценообразования для [Хранилища данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-data-warehouse/gen2/) применяется без изменений.<br/><br/>В этом выпуске также реализовано подключение PolyBase к [Azure Data Lake Storage 2-го поколения](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) (ADLS) через драйвер [файловой системы больших двоичных объектов Azure](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-abfs-driver) (ABFS). Хранилище Azure Data Lake Storage 2-го поколения обладает всеми качествами, необходимыми для выполнения каждого из этапов жизненного цикла данных аналитики для службы хранилища Azure. В нем объединены возможности двух существующих служб хранилища Azure (хранилище BLOB-объектов Azure и ADLS 1-го поколения). Функции, описанные в статье [Документация по Azure Data Lake Storage Gen1](https://docs.microsoft.com/azure/data-lake-store/index), например семантика файловой системы, защита на уровне файлов и масштабирование, объединены с экономичностью, многоуровневостью, возможностями высокой доступности и аварийного восстановления [хранилища BLOB-объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction).<br/><br/>С помощью PolyBase также можно импортировать данные в Хранилище данных SQL Azure из хранилища Azure, закрепленного за вашей виртуальной сетью. Кроме того, PolyBase поддерживает экспорт данных из Хранилища данных SQL Azure в хранилище Azure, закрепленное за вашей виртуальной сетью.<br/><br/>Дополнительные сведения о конечных точках службы виртуальной сети в Хранилище данных SQL Azure см. в [записи блога](https://azure.microsoft.com/blog/general-availability-of-vnet-service-endpoints-for-azure-sql-data-warehouse/) или [документации](https://docs.microsoft.com/azure/sql-database/sql-database-vnet-service-endpoint-rule-overview?toc=/azure/sql-data-warehouse/toc.json).|
|**Автоматическое наблюдение за производительностью (Предварительная версия)**|[Хранилище запросов](https://docs.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-2017) теперь доступно в предварительной версии для Хранилища данных SQL Azure. Хранилище запросов упрощает устранение проблем с производительностью запросов за счет отслеживания запросов, планов запросов, статистики среды выполнения и журнала запросов, с помощью которых можно выполнять мониторинг активности и производительности хранилища данных. Хранилище запросов — это набор внутренних хранилищ и динамических административных представлений (DMV), с помощью которых можно:<br/><br/>&bull; &nbsp; выявление и настройка наиболее ресурсоемких запросов, использующих ресурсы<br/>&bull; &nbsp; выявление и улучшение незапланированных рабочих нагрузок<br/>&bull; &nbsp; оценивать производительность запросов и влияние на план путем изменения статистики, индексов или размера системы (параметр DWU).<br/>&bull; &nbsp; см. полный текст запроса для всех выполненных запросов<br/><br/>Хранилище запросов содержит три фактических хранилища:<br/>&bull; &nbsp; хранилище планов для сохранения сведений о плане выполнения<br/>&bull; &nbsp; хранилище статистики времени выполнения для сохранения сведений о статистике выполнения<br/>&bull; &nbsp; хранилище статистики ожидания для сохранения сведений о статистике ожидания.<br/><br/>Хранилище данных SQL управляет этими хранилищами автоматически и предоставляет неограниченное количество запросов, сториед за последние семь дней без дополнительной оплаты. Чтобы включить хранилище запросов, просто выполните инструкцию T-SQL ALTER DATABASE: <br/>SQL----ALTER DATABASE [DatabaseName] SET QUERY_STORE = ON;-------дополнительные сведения о хранилище запросов в хранилище данных SQL Azure см. в статье [мониторинг производительности с помощью хранилища запросов](/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store)и динамических административных представлений хранилища запросов, таких как [sys. query_store_. запрос](/sql/relational-databases/system-catalog-views/sys-query-store-query-transact-sql). Вот [запись блога](https://azure.microsoft.com/blog/automatic-performance-monitoring-in-azure-sql-data-warehouse-with-query-store/) с объявлением о выпуске.|
|**Более низкие уровни вычислений для хранилища данных SQL Azure Gen2**|Хранилище данных SQL Azure 2-го поколения теперь поддерживает более низкие уровни вычислений. Клиенты могут оценить лучшую производительность, гибкость и возможности безопасности Хранилища данных SQL Azure, начиная со 100 cDWU ([вычислительные единицы использования хранилища данных](what-is-a-data-warehouse-unit-dwu-cdwu.md)), и увеличивать масштаб до 30 000 cDWU за считаные минуты. Начиная с середины декабря 2018 года клиенты могут использовать преимущества производительности и гибкость 2-го поколения на низких уровнях вычислений в [этих регионах](gen2-migration-schedule.md#automated-schedule-and-region-availability-table). Поддержка для остальных регионов станет доступна в течение 2019 года.<br/><br/>Обеспечив точку входа для хранилищ данных следующего поколения, корпорация Майкрософт открыла возможности для ориентированных на прибыль пользователей, которые хотят оценить все преимущества безопасного, высокопроизводительного хранилища данных, не тратя время на поиски наиболее подходящей для них пробной среды. Пользователи могут начать со 100 cDWU (ниже чем текущая точка входа в 500 cDWU). Хранилище данных SQL 2-го поколения продолжает поддерживать операции остановки и возобновления и выходит за рамки простой гибкости при вычислениях. 2 поколение также поддерживает неограниченную емкость хранилища столбцов, а также в 2,5 раза больше памяти для каждого запроса, до 128 одновременных запросов и функции [адаптивного кэширования](https://azure.microsoft.com/blog/adaptive-caching-powers-azure-sql-data-warehouse-performance-gains/). Эти функции в среднем дают в пять раз большую производительность по сравнению с той же единицей использования хранилища данных 1-го поколения за ту же цену. Геоизбыточные резервные копии являются стандартными для 2-го поколения и обеспечивают встроенную гарантированную защиту данных. Хранилище данных SQL Azure 2-го поколения выполнит масштабирование, когда вы будете готовы.|
|**Слияние фона columnstore**|По умолчанию хранилище данных SQL Azure (Azure SQL DW) хранит данные в столбчатом формате с микроразделами, называемыми [группами строк](sql-data-warehouse-memory-optimizations-for-columnstore-compression.md). Иногда, из-за ограничений памяти при построении индекса или времени загрузки данных, группы строк могут быть сжаты в размере (меньше оптимального размера миллионов строк). Группы строк могут также стать фрагментированными из-за удалений. Небольшие или фрагментированные группы строк приводят к более высокому потреблению памяти, а также к неэффективному выполнению запросов. В этом выпуске Azure SQL DW задача фонового обслуживания columnstore объединяет небольшие сжатые группы строк, создавая большие группы строк, чтобы лучше использовать память и ускорить выполнение запросов.
| | |

## <a name="october-2018"></a>Октябрь 2018 г.

### <a name="service-improvements"></a>Улучшения службы

| Улучшения службы | Сведения |
| --- | --- |
|**DevOps для хранилищ данных**|Часто запрашиваемая функция для хранилища данных SQL теперь доступна в режиме предварительной версии с поддержкой средств SQL Server Data Tools (SSDT) для Visual Studio! Теперь разработчики смогут использовать для совместной работы единую базу кода с управлением версиями и быстро распространять изменения на любой экземпляр в любой точке мира. Вас это тоже интересует? Эта функция уже предоставляется в режиме предварительной версии. Чтобы зарегистрироваться, посетите страницу [с формой регистрации для использования предварительной версии SQL Server Data Tools для Хранилища данных SQL для Visual Studio](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR4-brmKy3TZOjoktwuHd7S1UODkwQ1lVMEw1NDBGRjNLRDNWOFlQRUpIRi4u). Учитывая высокий спрос, мы ограничиваем доступ к предварительной версии, чтобы обеспечить максимальное удобство для клиентов. Мы ставим задачу подтвердить ваш статус в течение семи рабочих дней после регистрации.|
|**безопасность на уровне строк общедоступная версия**|Хранилище данных SQL Azure (хранилище данных SQL) теперь поддерживает безопасность на уровне строк (RLS), которая дает мощные возможности для защиты конфиденциальных данных. С появлением RLS вы сможете внедрять политики безопасности, которые управляют доступом конкретных пользователей к конкретным строкам в таблицах. RLS обеспечивает такой точный контроль доступа, не требуя изменять архитектуру хранилища данных. RLS упрощает реализацию системы безопасности в целом, перемещая логику ограничения доступа на уровень базы данных из уровня приложения, который отделен от данных. Также RLS избавляет от необходимости создавать представления специально для фильтрации строк при управлении доступом. Для всех наших клиентов эта функция безопасности корпоративного уровня предоставляется без дополнительной оплаты.|
|**Дополнительные рекомендации**|Тонкая настройки для хранилища данных SQL Azure стала еще проще благодаря дополнительным рекомендациям и метрикам для хранилища данных. В Помощнике по Azure вам доступны дополнительные рекомендации по повышению производительности, в том числе следующие.<br/><br/>1. адаптивный кэш — рекомендуется использовать для оптимизации использования кэша.<br/>2. Распределение таблиц — определите, когда следует реплицировать таблицы, чтобы уменьшить перемещение данных и повысить производительность рабочей нагрузки.<br/>3. tempdb — сведения о том, когда следует масштабировать и настраивать классы ресурсов, чтобы снизить состязание за базу данных tempdb.<br/><br/>Метрики хранилища данных более тесно интегрированы с [Azure Monitor](https://azure.microsoft.com/blog/enhanced-capabilities-to-monitor-manage-and-integrate-sql-data-warehouse-in-the-azure-portal/), в том числе улучшена настраиваемая таблица мониторинга для метрик в колонке обзора, обновляемых практически в реальном времени. Вам больше не нужно покидать колонку обзора хранилища данных, чтобы получить доступ к метрикам Azure Monitor при отслеживании использования либо проверять и применять рекомендации для хранилища данных. Кроме того, доступны новые метрики, например использование tempdb и адаптивного кэша, дополняющие рекомендации по производительности.|
|**Расширенная настройка с помощью встроенных помощников**|Дополнительная настройка Хранилища данных SQL Azure теперь стала еще проще благодаря новым рекомендациям и метрикам для хранилища данных и новому интерфейсу колонки сводных данных на портале, которая теперь объединяет функции помощника по Azure и Azure Monitor.|
|**Ускоренное восстановление базы данных (ADR)**|Ускоренное восстановление базы данных (ADR) для Хранилища данных SQL Azure теперь находится в режиме общедоступной предварительной версии. ADR — это новая функция ядра СУБД SQL Server, которая значительно повышает доступность базы данных, особенно при наличии длительных транзакций, благодаря полностью обновленному процессу восстановления. Основных преимуществ ADR: быстрое и согласованное восстановление базы данных и мгновенный откат транзакций.|
|**Журналы диагностики Azure Monitor**|Теперь Хранилище данных SQL предоставляет расширенные аналитические сведения о рабочих нагрузках благодаря непосредственной интеграции с журналами диагностики Azure Monitor. Эта новая возможность позволяет разработчикам анализировать поведение рабочих нагрузок в течение продолжительного времени и принимать обоснованные решения касательно оптимизации запросов или управления производительностью. Теперь мы добавили внешний процесс ведения журнала, который реализован через [журналы диагностики Azure Monitor](https://docs.microsoft.com/azure/monitoring/monitoring-data-collection?toc=/azure/azure-monitor/toc.json#logs) и предоставляет дополнительные сведения о рабочей нагрузке хранилища данных. Одним нажатием кнопки вы теперь можете настроить журналы диагностики для устранения неполадок по истории производительности запросов с применением [Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-queries). Журналы диагностики Azure Monitor поддерживают настраиваемые периоды удержания за счет сохранения журналов в учетной записи хранения для аудита, возможность потоковой передачи журналов в концентраторы событий для получения аналитических данных телеметрии практически в реальном времени, а также возможность анализировать журналы, используя Log Analytics с запросами журналов. Журналы диагностики состоят из представлений телеметрии для хранилища данных, эквивалентных динамическим административным представлениям для устранения неполадок, связанных с производительностью Хранилища данных SQL. В этом первоначальном выпуске доступны следующие динамические административные представления системы:<br/><br/>&bull; &nbsp; [sys. DM _pdw_exec_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql)<br/>&bull; &nbsp; [sys. DM _pdw_request_steps](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-request-steps-transact-sql)<br/>&bull; &nbsp; [sys. DM _pdw_dms_workers](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-dms-workers-transact-sql)<br/>&bull; &nbsp; [sys. DM _pdw_waits](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-waits-transact-sql)<br/>&bull; &nbsp; [sys. DM _pdw_sql_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-sql-requests-transact-sql)|
|**Управление памятью columnstore**|По мере того как количество групп строк для хранилища столбцов возрастает, увеличивается и объем памяти, необходимый для управления внутренними метаданными сегментов столбцов для этих групп строк.  В результате общая производительность запросов и результативность запросов к одному из динамических административных представлений columnstore может снизиться.  В этом выпуске реализованы улучшения, которые позволят оптимизировать размер внутренних метаданных в таких случаях. Это обеспечит удобство и высокую производительность при выполнении запросов.|
|**Интеграция Azure Data Lake Storage 2-го поколения (GA**|Хранилище данных SQL Azure теперь имеет встроенную возможности интеграции с Azure Data Lake Storage 2-го поколения Клиенты теперь могут с помощью внешних таблиц загружать данные из ABFS в Хранилище данных SQL. Эта функция позволяет пользователям интегрировать пулы данных в Azure Data Lake Storage 2-го поколения.|
|**Важные ошибки**|CETAS to Parquet сбои в небольших классах ресурсов в хранилищах данных DW2000 и др. Это исправление правильно определяет пустую ссылку в таблице Create External Table как на Parquet кода.<br/><br/>Значение столбца идентификаторов может потеряться в некоторых CTAS операциях. значение столбца идентификации может не сохраняться при Ктасед в другую таблицу. Сообщается в [блоге](https://blog.westmonroepartners.com/azure-sql-dw-identity-column-bugs/).<br/><br/>Внутренняя ошибка в некоторых случаях, когда сеанс завершается, пока запрос еще выполняется. Это исправление запускает исключение InvalidOperationException, если при выполнении запроса происходит прерывание сеанса.<br/><br/>(Развернуто в ноябре 2018) Клиенты столкнулись с неоптимальной производительностью при попытке загрузить несколько небольших файлов из ADLS (GEN1) с помощью polybase. — Производительность системы была узким местом во время проверки маркера безопасности AAD. Кэширование маркеров безопасности помогло решить проблемы с производительностью. |
| | |

## <a name="next-steps"></a>Дальнейшие действия

- [Создание хранилища данных SQL](./create-data-warehouse-portal.md)

## <a name="more-information"></a>Дополнительные сведения

- [Хранилище данных Azure SQL](https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/)
- [Блоги группы консультирования клиентов](https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/)
- [Истории успеха клиентов](https://azure.microsoft.com/case-studies/?service=sql-data-warehouse)
- [Форум Stack Overflow](https://stackoverflow.com/questions/tagged/azure-sqldw)
- [Twitter](https://twitter.com/hashtag/SQLDW)
- [Видео](https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse)
- [глоссарий Azure Глоссарий](../azure-glossary-cloud-terminology.md)
