---
title: Что такое хранилище ключей Azure? | Документация Майкрософт
description: Узнайте, как Azure Key Vault защищает криптографические ключи и секреты, используемые облачными приложениями и службами.
services: key-vault
documentationcenter: ''
author: barclayn
manager: barbkess
tags: azure-resource-manager
ms.assetid: e759df6f-0638-43b1-98ed-30b3913f9b82
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: conceptual
ms.date: 01/18/2019
ms.author: barclayn
ms.openlocfilehash: 48ac0c3efe74723099e87a77871aa1a78834efbd
ms.sourcegitcommit: fdd6a2927976f99137bb0fcd571975ff42b2cac0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2019
ms.locfileid: "56958547"
---
# <a name="what-is-azure-key-vault"></a>Что такое хранилище ключей Azure?

Облачных приложений и служб используйте криптографические ключи и секреты для обеспечения актуальности информации secure. Azure Key Vault защищает эти ключи и секреты. При использовании Key Vault можно шифровать ключи аутентификации, ключи учетной записи хранения, ключи шифрования данных, PFX-файлы и пароли, используя ключи, защищенные аппаратными модулями безопасности (HSM).

Key Vault помогает решить следующие проблемы:

- **Управление секретами**: Безопасное хранение и строгий контроль доступа к токены, пароли, сертификаты, ключи API и другой секретной информации.
- **Управление ключами**: Создавать и контролировать ключи шифрования, шифрование данных. 
- **Управление сертификатами**: Подготовка, управлять и развертывать открытых и закрытых сертификатов Secure Sockets слоя/безопасности транспортного уровня (SSL/TLS) для использования с Azure и вашим внутренним ресурсам подключенной. 
- **Store секреты, поддерживаемый аппаратные модули безопасности**: Используйте программное обеспечение или FIPS 140-2 уровня 2 проверки аппаратные модули безопасности для защиты секретов и ключей.

## <a name="basic-concepts"></a>Основные понятия

Azure Key Vault — это средство для безопасного хранения и доступа к секретам. Секрет — это то, к чему необходимо строго контролировать доступ, например ключи API, пароли или сертификаты. Хранилище — это логическая группа секреты.

Ниже приведены другие важные термины.

- **Tenant:** Это организация, которая владеет и управляет определенным экземпляром облачных служб Майкрософт. Чаще всего используется для ссылки на набор служб Azure и Office 365 для организации.

- **Владелец хранилища**. Он может создать хранилище ключей, получить полный доступ и контроль над ним. Владелец хранилища имеет доступ к секретам и ключам, а также может настроить аудит журнала. Администраторы могут управлять жизненным циклом ключей. Он может откатить ключ до новой версии, создать ее резервную копию и выполнять другие связанные задачи.

- **Объект-получатель хранилища**. Он может выполнять действия в ресурсах хранилища ключей, когда владелец хранилища предоставляет пользовательский доступ. Доступные действия зависят от предоставленных разрешений.

- **Ресурс**: Это управляемый элемент, доступный в Azure. Типичными примерами являются виртуальной машины, учетной записи хранения, веб-приложения, базы данных и виртуальной сети. Есть многие другие.

- **Группа ресурсов.** Группа ресурсов — это контейнер, содержащий связанные ресурсы для решения Azure. В группу ресурсов могут входить все ресурсы приложения или только те, которыми необходимо управлять совместно. Пользователи могут выбрать оптимальный для своей организации способ распределения ресурсов в группах ресурсов.

- **Субъект-служба**. Субъект-служба является удостоверением безопасности, созданные пользователем приложения, службы и средства автоматизации для доступа к определенным ресурсам Azure. Представьте себе, как «идентификатор пользователя» (имя пользователя и пароль или сертификат) с определенной ролью и строго контролируемыми разрешениями. В отличие от удостоверений пользователей субъект-служба должен выполнять только определенные задачи. Это решение повышает безопасность, если вы предоставляете только минимальные уровни разрешений, необходимые для выполнения задач управления.

- [Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md). Это служба Active Directory для клиента. Каждый каталог содержит один или несколько доменов. Каталог может иметь много подписок, связанных с ним, но только один клиент.

- **Идентификатор клиента Azure**. Это уникальный способ идентификации экземпляра Azure AD в пределах подписки Azure.

- **Управляемые удостоверения**: Azure Key Vault позволяет обеспечить безопасное хранение учетных данных, а также других ключей и секретов, но для их получения код должен выполнять аутентификацию в Key Vault. Управляемое удостоверение упрощает решение этой задачи, предоставляя службам Azure автоматически управляемое удостоверение в Azure AD. Это удостоверение можно использовать для аутентификации хранилища ключей или любой службы, которая поддерживает аутентификацию Azure AD, не храня какие-либо учетные данные в коде. Дополнительные сведения см. ниже и [Обзор управляемых удостоверений для ресурсов Azure](../active-directory/managed-identities-azure-resources/overview.md).

    ![Схема управляемых удостоверений для работы с ресурсами Azure](./media/key-vault-whatis/msi.png)

## <a name="authentication"></a>Authentication
Чтобы сделать все операции с хранилищем ключей, необходимо сначала для проверки подлинности к нему. Существует три способа аутентификации в Key Vault:

- [Управляемые удостоверения для ресурсов Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview). При развертывании приложения на виртуальной машине в Azure, можно назначить удостоверение для виртуальной машины, имеющей доступ к Key Vault. Вы также можете назначить удостоверений для [ресурсы Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview). Преимуществом этого подхода является, приложения или службы не управляет угол поворота первой secret. Azure автоматически меняет удостоверение. Мы рекомендуем этот подход рекомендуется. 
- **Субъект и сертификат службы**: Можно использовать субъект-службу и связан сертификат, который имеет доступ к хранилищу ключей. Мы не рекомендуем такой подход, так как владелец приложения или разработчика необходимо сменить сертификат.
- **Субъект-службу и секрет**: Несмотря на то, что субъект-службу и секретный ключ можно использовать для проверки подлинности в хранилище ключей, не рекомендуется. Это затрудняет автоматически изменять начальной загрузки секрет, который используется для аутентификации в Key Vault.


## <a name="key-vault-roles"></a>Роли Key Vault

Используйте таблицу ниже, чтобы лучше понять, как хранилище ключей может помочь в удовлетворении требований разработчиков и администраторов безопасности.

| Роль | Проблема | Решение с помощью хранилища ключей Azure |
| --- | --- | --- |
| Разработчик приложения Azure |«Я хочу написать приложение для Azure, которая использует ключи для подписывания и шифрования. Но эти ключи должны быть внешними по отношению к приложению, таким образом, чтобы решение подходило для географически удаленного приложения. <br/><br/>Необходимо, чтобы эти ключи и секреты были защищены и не нужно было писать код самостоятельно, а также чтобы их можно было с легкостью и оптимальной производительностью использовать в моем приложении". |√ Ключи хранятся в хранилище, и при необходимости их можно вызывать с помощью URI.<br/><br/> √ Azure защищает ключи с использованием стандартных отраслевых алгоритмов, методов управления длиной ключей и аппаратных модулей безопасности.<br/><br/>  √ Ключи обрабатываются в аппаратных модулях безопасности, которые находятся в тех же центрах обработки данных Azure, что и приложения. Это обеспечивает более высокую надежность и менее длительную задержку, чем при расположении ключей в другом месте, например в локальной среде. |
| Разработчик программного обеспечения как услуги (SaaS) |«Я не хочу нести ответственность или связывать себя потенциальными обязательствами, связанными с ключами и секретами клиентов моих заказчиков. <br/><br/>Мне нужно, чтобы заказчики владели и управляли своими ключами, а мне можно было полностью сосредоточиться на своей основной работе, а именно предоставлении базовых функций программного обеспечения". |√ Клиенты могут импортировать свои ключи в Azure и управлять ими. Если приложению SaaS необходимо выполнять операции шифрования, используя ключи клиентов, хранилище ключей выполняет эти операции от имени приложения. Приложение не видит ключи клиентов. |
| Руководитель службы безопасности |«Мне необходимо знать, что аппаратные модули безопасности, используемые в наших приложениях, соответствуют стандарту FIPS 140-2 уровня 2, обеспечивающему безопасное управление ключами. <br/><br/>Я также хочу убедиться, что моя организация может управлять жизненным циклом ключей и отслеживать их использование. <br/><br/>Кроме того, хотя мы используем множество служб и ресурсов Azure, необходимо, чтобы ключами можно было управлять из одного расположения в Azure». |√ Аппаратные модули безопасности прошли проверку по стандарту FIPS 140-2 уровня 2.<br/><br/>√ Хранилище ключей разработано таким образом, чтобы сотрудники Майкрософт не могли видеть или извлекать ваши ключи.<br/><br/>√ Использование ключа протоколируется почти в реальном времени.<br/><br/>√ Хранилище предоставляет единый интерфейс, независимо от количества хранилищ в Azure, поддерживаемых регионов и использующих их приложений. |

Хранилища ключей может создавать и использовать любой пользователь, у которого есть подписка Azure. Несмотря на то, что Key Vault преимущества для разработчиков и администраторов безопасности, его можно реализовать и управляются администратором организации, ответственный за управление другими службами Azure. Например этот администратор могут войти в подписку Azure, создайте хранилище в организации, в которых необходимо хранить ключи, а затем нести ответственность за рабочие задачи, такие:

- создание или импорт ключа или секрета;
- отзыв или удаление ключа или секрета;
- авторизация пользователей или приложений для доступа к хранилищу ключей с целью управления ключами и секретами или их использования;
- настройка использования ключей (например, подписи и шифрования);
- мониторинг использования ключей.

Этот администратор затем дает разработчикам URI для вызова из своих приложений. Этот администратор также делает данные журналов использования ключей администратора безопасности. 

![Общие сведения о работе хранилища Azure Key Vault][1]

Разработчики также могут управлять ключами напрямую с помощью API. Дополнительные сведения см. в статье [Руководство разработчика хранилища ключей Azure](key-vault-developers-guide.md).

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как [защита хранилища](key-vault-secure-your-key-vault.md).

<!--Image references-->
[1]: ./media/key-vault-whatis/AzureKeyVault_overview.png
Хранилище ключей Azure доступно в большинстве регионов. Дополнительные сведения см. на странице [цен на хранилище ключей](https://azure.microsoft.com/pricing/details/key-vault/).
