---
title: Базовый план безопасности Azure для базы данных Azure для PostgreSQL — масштабирование (Цитус)
description: Базовый план безопасности базы данных Azure для PostgreSQL-Scale (Цитус) содержит руководство по использованию процедур и ресурсов для реализации рекомендаций по безопасности, указанных в тестовом плане безопасности Azure.
author: msmbaldwin
ms.service: postgresql
ms.topic: conceptual
ms.date: 08/04/2020
ms.author: mbaldwin
ms.custom: subject-security-benchmark
ms.openlocfilehash: 836cf4600e353da61673ec8ee5df8f30fb4b9562
ms.sourcegitcommit: 8c3a656f82aa6f9c2792a27b02bbaa634786f42d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/17/2020
ms.locfileid: "97629856"
---
# <a name="azure-security-baseline-for-azure-database-for-postgresql---hyperscale-citus"></a>Базовый план безопасности Azure для базы данных Azure для PostgreSQL — масштабирование (Цитус)

Базовый план безопасности Azure для базы данных Azure для PostgreSQL-Scale (Цитус) содержит рекомендации, которые помогут повысить уровень безопасности развертывания.

Базовая конфигурация безопасности для этой службы взята из [теста производительности системы Azure версии 1.0](../security/benchmarks/overview.md), содержащего рекомендации по обеспечению безопасности облачных решений в Azure с помощью наших практических рекомендаций.

Дополнительные сведения см. в статье [Обзор базовой конфигурации безопасности Azure](../security/benchmarks/security-baselines-overview.md).

## <a name="network-security"></a>Безопасность сети

*Дополнительные сведения см. в статье [Управление безопасностью: безопасность сети](../security/benchmarks/security-control-network-security.md).*

### <a name="11-protect-azure-resources-within-virtual-networks"></a>1,1: защита ресурсов Azure в виртуальных сетях

**Руководство**. брандмауэр сервера базы данных Azure для PostgreSQL предотвращает доступ к узлу координатора масштабирования (Цитус), пока вы не укажете, какие компьютеры имеют разрешение. Брандмауэр предоставляет доступ к серверу на основе исходного IP-адреса каждого запроса. Для настройки брандмауэра можно создать правила брандмауэра, которые указывают диапазон допустимых IP-адресов. Правила брандмауэра можно создавать на уровне сервера.

- [Настройка правил брандмауэра в базе данных Azure для PostgreSQL — изменение масштаба (Цитус)](./concepts-hyperscale-firewall-rules.md)

**Мониторинг Центра безопасности Azure**: в настоящее время недоступен.

**Ответственность**: Customer

### <a name="19-maintain-standard-security-configurations-for-network-devices"></a>1.9: Поддержание стандартных конфигураций безопасности для сетевых устройств

**Руководство**: Определите и реализуйте стандартные конфигурации безопасности для сетевых настроек и сетевых ресурсов, связанных с вашей базой данных Azure для экземпляров PostgreSQL, с помощью политики Azure. Используйте псевдонимы политик Azure в пространстве имен Microsoft. Network, чтобы создать настраиваемые политики для аудита или принудительно применить конфигурацию сети для экземпляров базы данных Azure для PostgreSQL.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Примеры политик Azure для работы в сети](../governance/policy/samples/built-in-policies.md#network)

- [Создание схемы Azure](../governance/blueprints/create-blueprint-portal.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

## <a name="logging-and-monitoring"></a>Ведение журналов и мониторинг

*Дополнительные сведения см. в статье [Управление безопасностью: ведение журналов и мониторинг](../security/benchmarks/security-control-logging-monitoring.md).*

### <a name="22-configure-central-security-log-management"></a>2.2. Настройка централизованного управления журналами безопасности

**Руководство**. для ведения журнала аудита на плоскости управления включите параметры диагностики журнала действий Azure и отправьте журналы в рабочую область log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. С помощью данных журнала действий Azure вы можете определить, что нужно сделать, с чем и когда, для операций записи (PUT, POST, DELETE), выполненных на уровне управления для ресурсов Azure.

Кроме того, прием журналов осуществляется с помощью Azure Monitor для агрегирования данных безопасности, формируемых функцией масштабирования (Цитус). В Azure Monitor использовать рабочие области Log Analytics для запроса и выполнения анализа, а также использовать учетные записи хранения для долгосрочного и архивного хранения. Кроме того, вы можете включить и подключить данные к Azure Sentinel или сторонним системам управления информационной безопасностью и событиями безопасности (SIEM). 

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/platform/activity-log.md)

- [Метрики в масштабировании (Цитус)](./concepts-hyperscale-monitoring.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**: Customer

### <a name="23-enable-audit-logging-for-azure-resources"></a>2.3. Включение журналов аудита для ресурсов Azure

**Руководство**. масштабирование (Цитус) предоставляет метрики для каждого узла в группе серверов. Метрики дают представление о поведении вспомогательных ресурсов. Каждая метрика создается с частотой раз в минуту. В журнале содержится история о метриках за период в 30 дней.

Для ведения журнала аудита на плоскости управления включите параметры диагностики журнала действий Azure и отправьте журналы в рабочую область Log Analytics, в концентратор событий Azure или в учетную запись хранения Azure для архивации. С помощью данных журнала действий Azure вы можете определить, что нужно сделать, с чем и когда, для операций записи (PUT, POST, DELETE), выполненных на уровне управления для ресурсов Azure.

Кроме того, прием журналов осуществляется с помощью Azure Monitor для агрегирования данных безопасности, формируемых функцией масштабирования (Цитус). В Azure Monitor использовать рабочие области Log Analytics для запроса и выполнения анализа, а также использовать учетные записи хранения для долгосрочного и архивного хранения. Кроме того, вы можете включить и подключить данные к Azure Sentinel или сторонним системам управления информационной безопасностью и событиями безопасности (SIEM). 

- [Метрики в масштабировании (Цитус)](./concepts-hyperscale-monitoring.md)

- [Как включить параметры диагностики для журнала действий Azure](../azure-monitor/platform/activity-log.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**. Customer

### <a name="25-configure-security-log-storage-retention"></a>2.5. Настройка хранения журнала безопасности

**Руководство**. в Azure Monitor для рабочей области log Analytics, используемой для хранения журналов Цитус, задайте срок хранения согласно нормативным требованиям Организации. Используйте учетные записи хранения Azure для долгосрочного и архивного хранения.

- [Задание параметров хранения журналов для рабочих областей Log Analytics](../azure-monitor/platform/manage-cost-storage.md#change-the-data-retention-period)

- [Хранение журналов ресурсов в учетной записи хранения Azure](../azure-monitor/platform/resource-logs.md#send-to-azure-storage)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="26-monitor-and-review-logs"></a>2,6: мониторинг и просмотр журналов

**Руководство**. анализ и мониторинг журналов из экземпляров Цитус для аномального поведения. Используйте аналитику журналов Azure Monitor для просмотра журналов и выполнения запросов к данным журнала. Кроме того, вы можете включить и подключить данные к Azure Sentinel или сторонним SIEM.

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

- [Дополнительные сведения о Log Analytics](../azure-monitor/log-query/log-analytics-tutorial.md)

- [Выполнение пользовательских запросов в Azure Monitor](../azure-monitor/log-query/get-started-queries.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="27-enable-alerts-for-anomalous-activities"></a>2,7: Включение оповещений для аномальных действий

**Руководство**. Вы можете включить параметры диагностики для Цитус и отправить журналы в рабочую область log Analytics. Вы можете настроить и получать оповещения на основе метрик мониторинга для служб Azure. Используйте аналитику журналов Azure Monitor для просмотра журналов и выполнения запросов к данным журнала. Кроме того, вы можете включить и подключить данные к Azure Sentinel или сторонним SIEM.

Подключите рабочую область Log Analytics к Azure Sentinel, так как она предоставляет решение для оркестрации событий безопасности и автоматического реагирования (SOAR). Это позволяет создавать и использовать сборники схем (автоматизированные решения) для устранения проблем безопасности.

- [Метрики в масштабировании (Цитус)](./howto-hyperscale-alert-on-metric.md)

- [Настройка параметров диагностики для журнала действий Azure](../azure-monitor/platform/activity-log.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**: Customer

## <a name="identity-and-access-control"></a>Идентификаторы и управление доступом

*Дополнительные сведения см. в статье [Управление безопасностью: идентификаторы и управление доступом](../security/benchmarks/security-control-identity-access-control.md).*

### <a name="31-maintain-an-inventory-of-administrative-accounts"></a>3.1. Инвентаризация учетных записей администраторов

**Руководство**. обслуживание учетных записей пользователей, имеющих административный доступ к плоскости управления (например, портал Azure) экземпляров Цитус. Кроме того, необходимо поддерживать инвентаризацию учетных записей администраторов, имеющих доступ к плоскости данных (в самой базе данных) экземпляров Цитус.

Масштабирование (Цитус) не поддерживает встроенные функции управления доступом на основе ролей, но можно создавать пользовательские роли на основе конкретных операций с поставщиками ресурсов.

Кроме того, подсистема PostgreSQL использует роли для управления доступом к объектам базы данных, а вновь созданная группа серверов с горизонтальным масштабированием (Цитус) поставляется с несколькими предварительно определенными ролями. Чтобы изменить привилегии пользователя, используйте стандартные команды PostgreSQL, используя такие средства, как PgAdmin или psql.

- [Общие сведения о пользовательских ролях для подписки Azure](../role-based-access-control/custom-roles.md) 

- [Общие сведения об операциях поставщика ресурсов базы данных Azure для PostgreSQL](../role-based-access-control/resource-provider-operations.md#microsoftdbforpostgresql) 

- [Общие сведения об управлении доступом для базы данных Azure для PostgreSQL](./concepts-security.md#access-management)

- [Создание пользователей в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./howto-hyperscale-create-users.md)

- [Подключение к PostgreSQL-Scale (Цитус) с помощью psql](./quickstart-create-hyperscale-portal.md#connect-to-the-database-using-psql)


**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="32-change-default-passwords-where-applicable"></a>3.2. Изменение паролей по умолчанию, где применимо

**Рекомендации**. В Azure AD нет концепции паролей по умолчанию. Другие ресурсы Azure, которым требуется пароль, принудительно запрашивают пароль с требованиями к сложности и минимальной длиной пароля, которая зависит от службы. Вы несете ответственность за сторонние приложения и службы Marketplace, которые могут использовать пароли по умолчанию.

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="33-use-dedicated-administrative-accounts"></a>3.3. Применение выделенных административных учетных записей

**Руководство**. Создание стандартных рабочих процедур для использования выделенных административных учетных записей, которые используются для доступа к экземплярам Цитус. Учетные записи администратора для управления ресурсом Azure привязаны к Azure Active Directory. также существуют учетные записи администратора локального сервера, которые существуют в группе серверов Цитус для управления разрешениями на доступ к базе данных. Используйте управление удостоверениями и доступом центра безопасности Azure, чтобы отслеживать количество административных учетных записей в Azure Active Directory.

- [Общие сведения об удостоверениях и доступе центра безопасности Azure](../security-center/security-center-identity-access.md) 

- [Создание пользователей в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./howto-hyperscale-create-users.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="35-use-multi-factor-authentication-for-all-azure-active-directory-based-access"></a>3.5. Использование многофакторной проверки подлинности для любого доступа на основе Azure Active Directory

**Руководство**. для доступа к портал Azure включите Azure Active Directory многофакторную идентификацию (MFA) и следуйте рекомендациям по управлению удостоверениями и доступом в центре безопасности Azure.

- [Включение MFA в Azure](../active-directory/authentication/howto-mfa-getstarted.md)

- [Мониторинг идентификации и доступа в Центре безопасности Azure](../security-center/security-center-identity-access.md)


**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="36-use-dedicated-machines-privileged-access-workstations-for-all-administrative-tasks"></a>3.6: Используйте выделенные компьютеры (рабочие станции с привилегированным доступом) для всех административных задач

**Руководство**: Используйте рабочие станции привилегированного доступа (PAW) с настроенной многофакторной проверкой подлинности (MFA) для входа в ресурсы Azure и их настройки.

- [Использование рабочих станций с привилегированным доступом](/windows-server/identity/securing-privileged-access/privileged-access-workstations)

- [Включение MFA в Azure](../active-directory/authentication/howto-mfa-getstarted.md)


**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="37-alert-on-account-login-behavior-deviation"></a>3,7: предупреждение об отклонении режима входа учетной записи

**Руководство**. Используйте Privileged Identity Management (PIM) в Azure Active Directory (AD) для создания журналов и оповещений при возникновении подозрительных или небезопасных действий в среде.

Используйте обнаружение рисков Azure AD для просмотра предупреждений и отчетов об опасном поведении пользователя.

- [Развертывание Privileged Identity Management (PIM)](../active-directory/privileged-identity-management/pim-deployment-plan.md)

- [Общие сведения об обнаружении рисков в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)


**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="38-manage-azure-resources-from-only-approved-locations"></a>3.8. Управление ресурсами Azure только из утвержденных расположений

**Рекомендации**. Используйте именованные расположения с условным доступом, чтобы разрешить порталу и Azure Resource Manager доступ только из конкретных логических групп диапазонов IP-адресов или стран и регионов.

- [Настройка именованных расположений в Azure](../active-directory/reports-monitoring/quickstart-configure-named-locations.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="39-use-azure-active-directory"></a>3.9. Использование Azure Active Directory

**Руководство**. Использование Azure Active Directory (AD) в качестве централизованной системы проверки подлинности и авторизации для управления ресурсами PostgreSQL. Azure AD защищает данные с помощью надежного шифрования для хранимых и транзитных данных. Кроме того, в Azure AD используются salt-записи, хэши и безопасное хранение учетных данных пользователей.

Пользователи из группы серверов Цитус не могут напрямую привязываться к учетным записям Azure Active Directory. Чтобы изменить привилегии пользователя для доступа к объектам базы данных, используйте стандартные команды PostgreSQL с такими инструментами, как PgAdmin или psql.

- [Изменение привилегий для ролей пользователей](./howto-hyperscale-create-users.md#how-to-modify-privileges-for-user-role)

- [Создание и настройка экземпляра Azure AD](../active-directory/fundamentals/active-directory-access-create-new-tenant.md)



**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="310-regularly-review-and-reconcile-user-access"></a>3.10. Регулярная проверка и согласование доступа пользователей

**Руководство**. Просмотр и согласование доступа для пользователей, имеющих доступ к локальной базе данных, а также с помощью Azure Active Directory для управления ресурсами PostgreSQL.

Для пользователей, имеющих доступ к управлению ресурсами Azure базы данных, ознакомьтесь с журналами Azure Active Directory (AD), чтобы упростить обнаружение устаревших учетных записей. Кроме того, используйте проверку доступа удостоверений Azure для эффективного управления членством в группах, доступом к корпоративным приложениям, которые могут использоваться для доступа к масштабированию (Цитус), и назначения ролей. Доступ пользователей следует проверять регулярно, например каждые 90 дней, чтобы убедиться, что доступ к ним имеют только нужные пользователи.

- [Проверка пользователей PostgreSQL и назначенных ролей](https://www.postgresql.org/docs/current/database-roles.html)

- [Общие сведения об отчетах Azure AD](../active-directory/reports-monitoring/index.yml)

- [Использование проверок доступа для идентификации Azure](../active-directory/governance/access-reviews-overview.md)

**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="311-monitor-attempts-to-access-deactivated-credentials"></a>3,11: монитор пытается получить доступ к отключенным учетным данным

**Руководство**. в рамках Azure Active Directory (AD) у вас есть доступ к действиям входа в Azure AD, аудиту и риску, а также к источникам журналов событий, которые позволяют интегрироваться с любым средством SIEM/Monitoring. 

Этот процесс можно упростить, создав параметры диагностики для учетных записей пользователей Azure Active Directory и отправив журналы аудита и журналы входа в рабочую область Log Analytics. Вы можете настроить необходимые оповещения в рабочей области Log Analytics. 

- [Как интегрировать журналы действий Azure в Azure Monitor](../active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics.md)


**Мониторинг Центра безопасности Azure**. Неприменимо

**Ответственность**: Customer

### <a name="312-alert-on-account-sign-in-behavior-deviation"></a>3,12: предупреждение об отклонении при входе в учетную запись

**Руководство**. Использование функций защиты идентификации и обнаружения рисков Azure Active Directory для настройки автоматических ответов на обнаруженные подозрительные действия на уровне Azure Active Directory (AD). Вы можете включить автоматические ответы с помощью Azure Sentinel, чтобы оперативно реагировать на угрозы.

Вы также можете включить журналы в Azure Sentinel для дальнейшего изучения.

- [Общие сведения о Защите идентификации Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

- [Просмотр рискованных входов в Azure AD](../active-directory/identity-protection/overview-identity-protection.md)

- [Подключение к Azure Sentinel](../sentinel/quickstart-onboard.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="313-provide-microsoft-with-access-to-relevant-customer-data-during-support-scenarios"></a>3.13. Предоставление корпорации Майкрософт доступа к соответствующим данным клиентов в рамках сценариев поддержки

**Руководство**: Сейчас недоступно; Защищенное хранилище еще не поддерживается для масштабирования (Цитус).

- [Список поддерживаемых защищенное хранилище служб](../security/fundamentals/customer-lockbox-overview.md#supported-services-and-scenarios-in-general-availability)

**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**. Сейчас это недоступно.

## <a name="data-protection"></a>Защита данных

*Дополнительные сведения см. в статье [Управление безопасностью: защита данных](../security/benchmarks/security-control-data-protection.md).*

### <a name="41-maintain-an-inventory-of-sensitive-information"></a>4.1. Инвентаризация конфиденциальных данных

**Руководство**. Использование тегов для отслеживания экземпляров Цитус или связанных ресурсов, в которых хранятся или обрабатываются конфиденциальные данные.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="42-isolate-systems-storing-or-processing-sensitive-information"></a>4.2. Изолирование систем, хранящих или обрабатывающих конфиденциальные данные

**Руководство**. Реализуйте отдельные подписки и группы управления для разработки, тестирования и производства. Используйте сочетание административных ролей и правил брандмауэра, чтобы изолировать и ограничить сетевой доступ к базе данных Azure для экземпляров PostgreSQL.

- [Создание дополнительных подписок Azure](../cost-management-billing/manage/create-subscription.md)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Общие сведения о правилах брандмауэра в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-firewall-rules.md)

- [Общие сведения о ролях в подмасштабировании (Цитус)](./howto-hyperscale-create-users.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="44-encrypt-all-sensitive-information-in-transit"></a>4.4. Шифрование любой конфиденциальной информации при передаче

**Руководство**. для подключения клиентских приложений к узлу координатора Цитус требуется протокол TLS 1,2. Применение TLS-подключений между сервером базы данных и клиентскими приложениями помогает защититься от атак типа "злоумышленник в середине" путем шифрования потока данных между сервером и приложением.

Для всех серверов базы данных Azure для PostgreSQL, подготовленных с помощью портал Azure, принудительное применение TLS-подключений включено по умолчанию.

В некоторых случаях сторонние приложения должны иметь локальный файл сертификата, созданный из файла сертификата доверенного центра сертификации (CA) для безопасного подключения.

- [Настройка TLS в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-ssl-connection-security.md)

- [Приложения, для которых требуется проверка сертификата для подключения TLS](./concepts-hyperscale-ssl-connection-security.md)



**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Совмещаемая блокировка

### <a name="46-use-azure-rbac-to-control-access-to-resources"></a>4.6. Контроль доступа к ресурсам с помощью RBAC

**Руководство**. Использование управления доступом на основе ролей Azure (Azure RBAC) для управления доступом к плоскости управления "горизонтальное масштабирование (Цитус)" (например, портал Azure). Azure RBAC не влияет на разрешения пользователей в базе данных.

Чтобы изменить привилегии пользователя на уровне базы данных, используйте стандартные команды PostgreSQL, используя такие средства, как PgAdmin или psql.

- [Настройка Azure RBAC](../role-based-access-control/role-assignments-portal.md)

- [Как настроить доступ пользователей с помощью SQL для базы данных Azure для PostgreSQL](./howto-hyperscale-create-users.md)


**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="48-encrypt-sensitive-information-at-rest"></a>4.8. Шифрование конфиденциальной информации при хранении

**Руководство**.  
По крайней мере один раз в день база данных Azure для PostgreSQL (Цитус) выполняет резервное копирование моментальных снимков файлов данных и журнала транзакций базы данных. Резервные копии позволяют восстановить сервер до любой точки во времени в течение срока хранения. (Срок хранения в настоящее время составляет 35 дней для всех кластеров.) Все резервные копии шифруются с использованием алгоритма шифрования AES 256-bit. Предложение PostgreSQL Scale (Цитус) использует ключи, управляемые корпорацией Майкрософт, для шифрования.

- [Общие сведения о шифровании резервных копий Azure PostgreSQL-Scale (Цитус)](./concepts-hyperscale-backup.md)



**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**. Совмещаемая блокировка

### <a name="49-log-and-alert-on-changes-to-critical-azure-resources"></a>4.9. Включение в журнал и создание оповещений по изменениям критических ресурсов Azure

**Руководство**. Использование Azure Monitor с журналом действий Azure для создания оповещений о том, когда изменения выполняются в рабочих экземплярах Цитус и других важных или связанных ресурсах.

- [Создание оповещений для событий журнала действий Azure](../azure-monitor/platform/alerts-activity-log.md)

**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

## <a name="vulnerability-management"></a>управление уязвимостями;

*Дополнительные сведения см. в статье [Управление безопасностью: управление уязвимостями](../security/benchmarks/security-control-vulnerability-management.md).*

### <a name="51-run-automated-vulnerability-scanning-tools"></a>5.1. Выполнение автоматизированных средства анализа уязвимостей

**Руководство**: Сейчас недоступно; Центр безопасности Azure пока не поддерживает оценку уязвимостей для базы данных Azure для PostgreSQL-Scale (Цитус).

- [Покрытие компонентов для служб Azure PaaS в центре безопасности Azure](../security-center/features-paas.md)

**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**. Сейчас это недоступно.

## <a name="inventory-and-asset-management"></a>Инвентаризация и управление ресурсами

*Дополнительные сведения см. в статье [Управление безопасностью: инвентаризация и управление ресурсами](../security/benchmarks/security-control-inventory-asset-management.md).*

### <a name="61-use-automated-asset-discovery-solution"></a>6,1. Использование автоматизированного решения для обнаружения ресурсов

**Руководство**. Использование графа ресурсов Azure для запроса и обнаружения всех ресурсов (включая экземпляры Цитус) в ваших подписках. Убедитесь, что у вас есть соответствующие разрешения (на чтение) в клиенте и вы можете перечислить все подписки Azure, а также ресурсы в ваших подписках.

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)

- [Как просматривать подписки Azure](/powershell/module/az.accounts/get-azsubscription)

- [Общие сведения об Azure RBAC](../role-based-access-control/overview.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="62-maintain-asset-metadata"></a>6.2. Ведение метаданных активов

**Руководство**. применение тегов для экземпляров Цитус и других связанных ресурсов, предоставляя метаданные для логической организации их в таксономию.

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="63-delete-unauthorized-azure-resources"></a>6.3. Удаление неавторизованных ресурсов Azure

**Руководство**. Использование тегов, групп управления и отдельных подписок (при необходимости) для Организации и отслеживания экземпляров Цитус и связанных ресурсов. Регулярно сверяйте ресурсы, чтобы своевременно удалять неавторизованные ресурсы из подписки.

- [Создание дополнительных подписок Azure](../cost-management-billing/manage/create-subscription.md)

- [Создание групп управления](../governance/management-groups/create-management-group-portal.md)

- [Создание и использование тегов](../azure-resource-manager/management/tag-resources.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="64-define-and-maintain-inventory-of-approved-azure-resources"></a>6,4: определение и обслуживание инвентаризации утвержденных ресурсов Azure

**Руководство**. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.

- Недопустимые типы ресурсов

- Допустимые типы ресурсов

Кроме того, используйте Azure Resource Graph для запроса или обнаружения ресурсов в подписках.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)


**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="65-monitor-for-unapproved-azure-resources"></a>6.5. Отслеживание неутвержденных ресурсов Azure

**Руководство**. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.

- Недопустимые типы ресурсов
- Допустимые типы ресурсов

Кроме того, используйте Azure Resource Graph для запроса или обнаружения ресурсов в подписках.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как создавать запросы с помощью Azure Graph](../governance/resource-graph/first-query-portal.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="69-use-only-approved-azure-services"></a>6.9. Использование только утвержденных служб Azure

**Руководство**. Используйте политику Azure, чтобы ограничить тип ресурсов, которые могут быть созданы в подписках клиентов, используя следующие встроенные определения политик.

- Недопустимые типы ресурсов
- Допустимые типы ресурсов

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Как отказаться от определенного типа ресурса с помощью Политики Azure](../governance/policy/samples/index.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="611-limit-users-ability-to-interact-with-azure-resource-manager"></a>6,11: ограничьте возможность пользователей работать с Azure Resource Manager

**Рекомендации**. Используйте условный доступ Azure, чтобы ограничить возможность пользователей взаимодействовать с Azure Resource Manager путем настройки "Блокировать доступ" для приложения "Управление Microsoft Azure". Это может препятствовать созданию и изменению ресурсов в среде с высоким уровнем безопасности, например в экземплярах Цитус, содержащих конфиденциальные сведения.

- [Как настроить условный доступ для блокировки доступа к Azure Resource Manager](../role-based-access-control/conditional-access-azure-management.md)

**Мониторинг Центра безопасности Azure**. Неприменимо

**Ответственность**: Customer

## <a name="secure-configuration"></a>Безопасная конфигурация

*Дополнительные сведения см. в статье [Управление безопасностью: безопасная конфигурация](../security/benchmarks/security-control-secure-configuration.md).*

### <a name="71-establish-secure-configurations-for-all-azure-resources"></a>7.1. Установка безопасных конфигураций для всех ресурсов Azure

**Руководство**. Определение и реализация стандартных конфигураций безопасности для экземпляров Цитус с помощью политики Azure. Используйте политику Azure для создания настраиваемых политик для аудита или принудительной настройки сети для экземпляров базы данных Azure для PostgreSQL.

Кроме того, Azure Resource Manager может экспортировать шаблон в нотация объектов JavaScript (JSON), который следует проверить, чтобы убедиться, что конфигурации соответствуют требованиям безопасности Организации или превышают их. 

- [Просмотр доступных псевдонимов политик Azure](/powershell/module/az.resources/get-azpolicyalias)

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

- [Экспорт одного и нескольких ресурсов в шаблон в портал Azure](../azure-resource-manager/templates/export-template-portal.md) 



**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="73-maintain-secure-azure-resource-configurations"></a>7.3. Сохранение безопасных конфигураций для ресурсов Azure

**Руководство**. Использование политики Azure [Deny] и [развертывание если не существует] для обеспечения безопасности параметров в ресурсах Azure.  Кроме того, вы можете использовать шаблоны Azure Resource Manager для поддержания конфигурации безопасности ресурсов Azure, необходимых вашей организации. 

- [Общие сведения о влиянии политики Azure](../governance/policy/concepts/effects.md)

- [Создание политик и управление ими для обеспечения соответствия](../governance/policy/tutorials/create-and-manage.md)

- [Общие сведения о шаблонах Azure Resource Manager](../azure-resource-manager/templates/overview.md)



**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="75-securely-store-configuration-of-azure-resources"></a>7.5. Безопасное хранение конфигурации ресурсов Azure

**Руководство**. Если вы используете пользовательские определения политики Azure для экземпляров Цитус и связанных ресурсов, используйте Azure Repos для безопасного хранения кода и управления им.

- [Как хранить код в Azure DevOps](/azure/devops/repos/git/gitworkflow?view=azure-devops&preserve-view=true)

- [Документация по Azure Repos](/azure/devops/repos/index?view=azure-devops&preserve-view=true)

**Мониторинг Центра безопасности Azure**. Неприменимо

**Ответственность**: Customer

### <a name="77-deploy-configuration-management-tools-for-azure-resources"></a>7,7: развертывание средств управления конфигурацией для ресурсов Azure

**Руководство**. Использование политики Azure [Deny] и [развертывание если не существует] для обеспечения безопасности параметров в ресурсах Azure.  Кроме того, вы можете использовать шаблоны Azure Resource Manager для поддержания конфигурации безопасности ресурсов Azure, необходимых вашей организации. 

- [Общие сведения о влиянии политики Azure](../governance/policy/concepts/effects.md)

- [Создание политик и управление ими для обеспечения соответствия](../governance/policy/tutorials/create-and-manage.md)

- [Общие сведения о шаблонах Azure Resource Manager](../azure-resource-manager/templates/overview.md)



**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="79-implement-automated-configuration-monitoring-for-azure-resources"></a>7,9. Реализация автоматического мониторинга конфигурации для ресурсов Azure

**Руководство**: Используйте псевдонимы политик Azure в пространстве имен "Microsoft.DBforPostgreSQL" для создания настраиваемых политик для оповещения, аудита и принудительного применения конфигураций системы. Используйте политику Azure [аудит], [запретить] и [развернуть, если не существует], чтобы автоматически применять конфигурации для экземпляров базы данных Azure для PostgreSQL и связанных ресурсов.

- [Настройка Политики Azure и управление ею](../governance/policy/tutorials/create-and-manage.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="712-manage-identities-securely-and-automatically"></a>7.12. Безопасное и автоматическое управление удостоверениями

**Руководство**. в настоящее время база данных Azure для PostgreSQL-Scale (Цитус) не поддерживает управляемые удостоверения напрямую. При создании сервера базы данных Azure для PostgreSQL необходимо предоставить учетные данные для администратора. В интерфейсе портал Azure можно создавать дополнительные роли пользователей.

- [Создание базы данных Azure для PostgreSQL. Гипермасштабирование (Citus)](./quickstart-create-hyperscale-portal.md#create-a-hyperscale-citus-server-group)

- [Создание дополнительных ролей пользователей](./howto-hyperscale-create-users.md#how-to-create-additional-user-roles)


**Мониторинг Центра безопасности Azure**. Сейчас это недоступно.

**Ответственность**. Сейчас это недоступно.

### <a name="713-eliminate-unintended-credential-exposure"></a>7.13. Устранение непреднамеренного раскрытия учетных данных

**Руководство**. Реализуйте сканер учетных данных для обнаружения учетных данных в коде. Сканер учетных данных также рекомендует перемещать обнаруженные учетные данные в более безопасные расположения, такие как Azure Key Vault.

- [Как настроить сканер учетных данных](https://secdevtools.azurewebsites.net/helpcredscan.html)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

## <a name="malware-defense"></a>Защита от вредоносных программ

*Дополнительные сведения см. в статье [Управление безопасностью: защита от вредоносных программ](../security/benchmarks/security-control-malware-defense.md).*

### <a name="82-pre-scan-files-to-be-uploaded-to-non-compute-azure-resources"></a>8.2. Предварительная проверка файлов для отправки в ресурсы Azure, не являющиеся вычислительными

**Руководство**. Защита от вредоносных программ Майкрософт включена на базовом узле, поддерживающем службы Azure, например при масштабировании (Цитус), но не выполняется в содержимом клиента.

Предварительно сканируйте любое содержимое, отправляемое в невычислительные ресурсы Azure, например служба приложений, хранилище Data Lake, хранилище BLOB-объектов, база данных Azure для PostgreSQL и т. д. Корпорация Майкрософт не может получить доступ к данным в этих экземплярах.

**Мониторинг центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

## <a name="data-recovery"></a>Восстановление данных

*Дополнительные сведения см. в статье [Управление безопасностью: восстановление данных](../security/benchmarks/security-control-data-recovery.md).*

### <a name="91-ensure-regular-automated-back-ups"></a>9.1. Обеспечение регулярного автоматического резервного копирования

**Руководство**. база данных Azure для PostgreSQL — служба масштабирования (Цитус) автоматически создает резервные копии каждого узла и сохраняет их в локально избыточном хранилище. Резервные копии можно использовать для восстановления кластера Цитус в указанное время.

- [Резервное копирование и восстановление в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-backup.md)

**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="92-perform-complete-system-backups-and-backup-any-customer-managed-keys"></a>9,2: выполните полное резервное копирование системы и резервное копирование ключей, управляемых клиентом

**Руководство**. по крайней мере один раз в день база данных Azure для PostgreSQL выполняет резервное копирование моментальных снимков файлов данных и журнала транзакций базы данных. Резервные копии позволяют восстановить сервер до любой точки во времени в течение срока хранения. Срок хранения в настоящее время составляет 35 дней для всех кластеров. Все резервные копии шифруются с помощью 256-битового шифрования AES.

В регионах Azure, поддерживающих зоны доступности, моментальные снимки резервных копий хранятся в трех зонах доступности. Если по крайней мере одна зона доступности находится в сети, кластер Цитус (масштабирование) restorable.

- [Резервное копирование и восстановление в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-backup.md)


**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="93-validate-all-backups-including-customer-managed-keys"></a>9,3: Проверьте все резервные копии, включая управляемые клиентом ключи.

**Руководство**. в службе "база данных Azure для PostgreSQL" при восстановлении кластера Цитус создается новый кластер из резервных копий исходных узлов. Кластер можно восстановить в любой момент времени за последние 35 дней. Процесс восстановления создает новый кластер в том же регионе Azure, подписке и группе ресурсов, что и исходная. Новая конфигурация кластера совпадает с конфигурацией исходного кластера: тем же количеством узлов, количеством виртуальных ядер, размером хранилища и ролями пользователей.

Параметры брандмауэра и параметры сервера PostgreSQL не сохраняются в исходной группе серверов. они сбрасываются в значения по умолчанию. Брандмауэр блокирует все подключения. Эти параметры необходимо будет настроить вручную после восстановления.

- [Резервное копирование и восстановление в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-backup.md)

**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="94-ensure-protection-of-backups-and-customer-managed-keys"></a>9,4: Обеспечьте защиту резервных копий и ключей, управляемых клиентом

**Руководство**. не удается восстановить удаленные кластеры с масштабированием (Цитус). При удалении кластера все узлы, принадлежащие к кластеру, удаляются и не могут быть восстановлены. Для защиты ресурсов кластера после случайного удаления или непредвиденных изменений администраторы могут использовать блокировки управления.

- [Резервное копирование и восстановление в базе данных Azure для PostgreSQL — масштабирование (Цитус)](./concepts-hyperscale-backup.md)

**Мониторинг Центра безопасности Azure**: в настоящее время недоступен.

**Ответственность**: Customer

## <a name="incident-response"></a>Реагирование на инциденты

*Дополнительные сведения см. в статье [Управление безопасностью: реагирование на инциденты](../security/benchmarks/security-control-incident-response.md).*

### <a name="101-create-an-incident-response-guide"></a>10.1. Создание руководства по реагированию на инциденты

**Руководство**. Создайте руководство по реагированию на инциденты для вашей организации. Убедитесь, что имеются письменные планы реагирования на инциденты, которые определяют все действия персонала, а также этапы обработки инцидентов и управления ими для проверки после инцидента. 

- [Как настроить автоматизацию рабочих процессов в Центре безопасности Azure](../security-center/security-center-planning-and-operations-guide.md) 

- [Руководство по созданию собственного процесса реагирования на инциденты безопасности](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/) 

- [Анатомия инцидента Центра Майкрософт по реагированию на угрозы](https://msrc-blog.microsoft.com/2019/07/01/inside-the-msrc-building-your-own-security-incident-response-process/) 

- [Клиент также может воспользоваться руководством по обработке инцидентов безопасности компьютера NIST, чтобы помочь в создании собственного плана реагирования на инциденты.](https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="102-create-an-incident-scoring-and-prioritization-procedure"></a>10.2. Создание процедуры оценки инцидента и определения приоритетов

**Руководство**. Центр безопасности назначает каждому оповещению серьезность, которая поможет определить, какие предупреждения следует расследовать первыми. Серьезность основывается на том, насколько уверен Центр безопасности в исследовании или аналитике, используемой для оповещения, а также на уровне достоверности злонамеренности события, приведшего к оповещению. 

Кроме того, четко помечайте подписки (для устар. производственной, непроизводственной) и создайте систему именования, чтобы четко определить и классифицировать ресурсы Azure.

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="103-test-security-response-procedures"></a>10.3. Проверка процедур реагирования на угрозы

**Рекомендации**. Выполните упражнения, чтобы периодически протестировать возможности ваших систем реагировать на угрозы. Выявите слабые точки и пробелы и пересмотрите план по мере необходимости. 

- [См. публикацию NIST: руководство по тестированию, обучению и выполнению программ для ИТ-планов и возможностей](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-84.pdf)

**Мониторинг Центра безопасности Azure**. Неприменимо

**Ответственность**: Customer

### <a name="104-provide-security-incident-contact-details-and-configure-alert-notifications-for-security-incidents"></a>10.4. Предоставление контактных сведений и настройка уведомлений по инцидентам безопасности

**Рекомендации**. Корпорация Майкрософт будет использовать информацию об инциденте безопасности для связи с вами, если центр Microsoft Security Response Center (MSRC) обнаружит, что к вашим пользовательским данным был получен незаконный или несанкционированный доступ.  Проверьте инциденты после факта обращения, чтобы убедиться, что проблемы устранены. 

- [Как задать контакт безопасности Центра безопасности Azure](../security-center/security-center-provide-security-contact-details.md)

**Мониторинг Центра безопасности Azure**: Да

**Ответственность**: Customer

### <a name="105-incorporate-security-alerts-into-your-incident-response-system"></a>10.5. Включение оповещений системы безопасности в систему реагирования на инциденты

**Рекомендации**. Экспортируйте оповещения и рекомендации центра безопасности Azure с помощью функции непрерывного экспорта. Непрерывный экспорт позволяет экспортировать предупреждения и рекомендации как вручную, так и в постоянном, непрерывном режиме. Можно использовать соединитель данных Центра безопасности Azure для потоковой передачи оповещений Sentinel. 

- [Как настроить непрерывный экспорт данных](../security-center/continuous-export.md) 

- [Как выполнить потоковую передачу оповещений в Azure Sentinel](../sentinel/connect-azure-security-center.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

### <a name="106-automate-the-response-to-security-alerts"></a>10.6. Автоматизация реагирования на оповещения системы безопасности

**Руководство**. Используйте функцию автоматизации рабочих процессов в Центре безопасности Azure для автоматического запуска реагирования с помощью Logic Apps в оповещениях и рекомендациях системы безопасности. 

- [Как настроить автоматизацию рабочего процесса и Logic Apps](../security-center/workflow-automation.md)

**Мониторинг Центра безопасности Azure**: Неприменимо

**Ответственность**: Customer

## <a name="penetration-tests-and-red-team-exercises"></a>Тесты на проникновение и попытки нарушения безопасности "красной командой"

*Дополнительные сведения см. в статье [Управление безопасностью: тесты на проникновение и попытки нарушения безопасности "красной командой"](../security/benchmarks/security-control-penetration-tests-red-team-exercises.md).*

### <a name="111-conduct-regular-penetration-testing-of-your-azure-resources-and-ensure-remediation-of-all-critical-security-findings"></a>11,1. Проведите регулярное тестирование на проникновение ресурсов Azure и обеспечьте исправление всех критических результатов безопасности.

**Рекомендации**. Следуйте правилам взаимодействия Майкрософт, чтобы убедиться, что тесты на проникновение не нарушают политики Майкрософт: https://www.microsoft.com/msrc/pentest-rules-of-engagement?rtc=1 

- [Дополнительные сведения о стратегии корпорации Майкрософт и реализации "красной команды", а также о тестировании на основе уязвимости для облачной инфраструктуры, служб и приложений Майкрософт см. здесь](https://gallery.technet.microsoft.com/Cloud-Red-Teaming-b837392e)

**Мониторинг Центра безопасности Azure**. Неприменимо

**Ответственность**: Совмещаемая блокировка

## <a name="next-steps"></a>Дальнейшие действия

- Ознакомьтесь со статьей [Тесты производительности системы безопасности Azure](../security/benchmarks/overview.md).
- Дополнительные сведения о [базовой конфигурации безопасности Azure](../security/benchmarks/security-baselines-overview.md).