---
title: Центры уведомлений Azure и миграция Google Firebase Cloud Messaging (FCM)
description: Описывает, как концентраторы уведомлений Azure предназначены для FCM миграции из Google GCM.
services: notification-hubs
author: sethmanheim
manager: femila
editor: jwargo
ms.service: notification-hubs
ms.workload: mobile
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: article
ms.date: 04/10/2019
ms.author: sethm
ms.reviewer: jowargo
ms.lastreviewed: 04/10/2019
ms.openlocfilehash: 80eae09240bde61870995468485338db5f0b9c2d
ms.sourcegitcommit: 7df70220062f1f09738f113f860fad7ab5736e88
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2019
ms.locfileid: "71212308"
---
# <a name="azure-notification-hubs-and-the-google-firebase-cloud-messaging-fcm-migration"></a>Центры уведомлений Azure и миграция Google Firebase Cloud Messaging (FCM)

## <a name="current-state"></a>Текущее состояние

Когда компания Google объявила о переходе с Google Cloud Messaging (GCM) на Firebase Cloud Messaging (FCM), службы push-уведомлений, вроде нашей, пришлось бы скорректировать, как мы отправили уведомления на устройства Android для удовлетворения этих изменений.

Мы обновили серверную часть службы, а затем опубликовали обновления для наших API и пакетов SDK по мере необходимости. С нашей реализацией мы внесли решение поддерживать совместимость с существующими схемами уведомлений GCM, чтобы снизить последствия для клиентов. Это означает, что сейчас мы отправляем уведомления устройствам Android с помощью FCM в режиме прежних версий FCM. В конечном счете, мы хотим добавить поддержку для FCM, включая новые функции и формат полезных данных. Это долгосрочное изменение, и текущая миграция сосредоточена на обеспечении совместимости с существующими приложениями и пакетами SDK. Вы можете использовать пакеты SDK GCM или FCM в приложении (вместе с нашим пакетом SDK) и убедиться, что уведомление отправлено правильно.

Некоторые клиенты недавно получили электронное письмо с предупреждением Google о приложениях, использующих конечную точку GCM для уведомлений. Это было только предупреждение, и ничего не было разорвано — уведомления о приложении Android по-прежнему отправляются в Google для обработки, а Google по-прежнему обрабатывает их. Некоторые клиенты, которые явно указали конечную точку GCM в конфигурации службы, по-прежнему использовали устаревшие конечные точки. Мы уже определили этот разрыв и работали над устранением проблемы, когда Google отправил электронное письмо.

Мы заменили нерекомендуемую конечную точку и развернут исправление.

## <a name="going-forward"></a>Переход вперед

В статье часто задаваемые вопросы о Google FCM говорится, что вам не нужно ничего делать. В [разделе часто задаваемых вопросов FCM](https://developers.google.com/cloud-messaging/faq)Google сказал "клиентские пакеты SDK и токены gcm продолжат работать неограниченно долго. Однако вы не сможете ориентироваться на последнюю версию Сервисы Google Play в приложении Android, пока вы не выполните миграцию в FCM.

Если приложение использует библиотеку GCM, следуйте инструкциям Google по обновлению библиотеки FCM в приложении. Наш пакет SDK совместим с, поэтому вам не придется обновлять содержимое приложения на нашей стороне (при условии, что вы работаете с версией пакета SDK).

## <a name="questions-and-answers"></a>Вопросы и ответы

Ниже приведены ответы на часто задаваемые вопросы о клиентах.

**Вопрос.** Что необходимо сделать для совместимости с датой прекращения (текущая дата прекращения Google — 29 мая и может измениться)?

**Ответ.** Ничего. Мы будем поддерживать совместимость с существующей схемой уведомлений GCM. Ключ GCM будет продолжать работать как обычная, как и все пакеты SDK и библиотеки GCM, используемые приложением.

Если вы решили обновить пакеты SDK и библиотеки FCM, чтобы воспользоваться преимуществами новых функций, ключ GCM будет продолжать работать. При необходимости вы можете переключиться на использование ключа FCM, но убедитесь, что вы добавляете Firebase в существующий проект GCM при создании нового проекта Firebase. Это обеспечит обратную совместимость с клиентами, на которых выполняются старые версии приложения, которые по-прежнему используют пакеты SDK и библиотеки GCM.

Если вы создаете новый проект FCM и не подключаетесь к существующему проекту GCM, то после обновления концентраторов уведомлений с новым секретом FCM будет потеряна возможность отправки уведомлений в текущие установки приложений, так как новый ключ FCM не имеет ссылки на старый GCM. проектом.

**Вопрос.** Почему я получаю это сообщение об использовании старых конечных точек GCM? Что нужно сделать?

**Ответ.** Ничего. Мы выполнили миграцию на новые конечные точки и скоро закончите, поэтому изменение не требуется. Ничего не разбивается, наша пропущенная конечная точка просто вызывает предупреждающие сообщения от Google.

**Вопрос.** Как перейти к новым пакетам SDK и библиотекам FCM без нарушения работы существующих пользователей?

Ответ. Обновление в любое время. Google еще не объявил об устаревании существующих пакетов SDK и библиотек GCM. Чтобы не прерывать push-уведомления для существующих пользователей, убедитесь, что при создании нового проекта Firebase, связываемого с существующим проектом GCM. Это обеспечит, что новые секреты Firebase будут работать для пользователей, использующих более старые версии приложения, с помощью пакетов SDK и библиотек GCM, а также новых пользователей приложения с помощью пакетов SDK и библиотек FCM.

**Вопрос.** Когда можно использовать новые функции и схемы FCM для моих уведомлений?

**Ответ.** После публикации обновления для API и пакетов SDK Следите за тем, чтобы в ближайшие месяцы мы предполагали что-то еще.
