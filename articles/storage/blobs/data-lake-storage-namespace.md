---
title: Иерархическое пространство имен Azure Data Lake Storage 2-го поколения
description: Описывает понятие иерархического пространства имен для Azure Data Lake Storage 2-го поколения
author: normesta
ms.service: storage
ms.topic: conceptual
ms.date: 02/11/2020
ms.author: normesta
ms.reviewer: jamesbak
ms.subservice: data-lake-storage-gen2
ms.openlocfilehash: 6ce94590a1d0de6941c27d972bdd1c4194080e95
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "77153083"
---
# <a name="azure-data-lake-storage-gen2-hierarchical-namespace"></a>Иерархическое пространство имен Azure Data Lake Storage 2-го поколения

Ключевым механизмом, позволяющим Azure Data Lake Storage 2-го поколения обеспечивать производительность файловой системы на уровне и по ценам хранилища объектов, является добавление **иерархического пространства имен**. Эта функция позволяет собирать объекты и файлы внутри учетной записи, которые упорядочиваются в иерархию каталогов и вложенных подкаталогов таким же образом, как организована файловая система на вашем компьютере. Благодаря включенному иерархическому пространству имен учетная запись хранения может обеспечить масштабируемость и экономичность хранилища объектов с помощью семантики файловой системы, знакомой с механизмами и платформами аналитики.

## <a name="the-benefits-of-a-hierarchical-namespace"></a>Преимущества иерархического пространства имен

Следующие преимущества связаны с файловыми системами, которые реализуют иерархическое пространство имен для данных больших двоичных объектов:

- **Атомарное управление каталогами**. Хранилища объектов выражают иерархию каталогов, внедряя символы косой черты (/) в имя объекта для обозначения сегментов пути. Хотя это соглашение подходит для организации объектов, оно не оказывает помощи в таких действиях, как перемещение, переименование или удаление каталогов. Без реальных каталогов приложения должны потенциально обрабатывать миллионы отдельных больших двоичных объектов для выполнения задач на уровне каталогов. В отличие от этого, иерархическое пространство имен обрабатывает эти задачи путем обновления одной записи (родительского каталога).

    Эта оптимизация особенно важна для многих платформ анализа больших данных. Такие инструменты, как Hive и Spark, часто записывают выходные данные во временные расположения, а затем переименовывают расположение по завершении задания. Без иерархического пространства имен это переименование часто может занять больше времени, чем сам процесс аналитики. Уменьшение латентности задания равняется сокращению совокупной стоимости владения (TCO) для аналитических рабочих нагрузок.

- **Знакомый стиль интерфейса**. Файловые системы хорошо понятны и разработчикам, и пользователям. Нет необходимости изучать новую парадигму хранения, когда вы переходите в облако, так как интерфейс файловой системы, предоставляемый хранилищем Data Lake Gen2, использует ту же парадигму на больших и небольших компьютерах.

Одна из причин, почему хранилища объектов исторически не поддерживали иерархические пространства имен, заключается в том, что эти пространства имен ограничивали масштабирование. Тем не менее иерархическое пространство имен хранилища Data Lake Gen2 масштабируется линейно и не ухудшает ни объем данных, ни производительность.

## <a name="deciding-whether-to-enable-a-hierarchical-namespace"></a>Принятие решения о включении иерархического пространства имен

После включения иерархического пространства имен в учетной записи вы не сможете вернуть его к неструктурированному пространству имен. Поэтому рассмотрите возможность включения иерархического пространства имен на основе природы рабочих нагрузок хранилища объектов.

Некоторые рабочие нагрузки могут не получить никаких преимуществ за счет включения иерархического пространства имен. Это такие рабочие нагрузки, как резервные копии, хранилище изображений и другие приложения, в которых хранится организация объекта отдельно от самих объектов (например, в отдельной базе данных). 

Кроме того, хотя поддержка функций хранилища BLOB-объектов и экосистемы служб Azure продолжает расти, существуют некоторые функции и службы Azure, которые еще не поддерживаются в учетных записях с иерархическим пространством имен. См. [Известные проблемы](data-lake-storage-known-issues.md). 

В общем случае рекомендуется включить иерархическое пространство имен для рабочих нагрузок хранилища, предназначенных для файловых систем, работающих с каталогами. Сюда входят все рабочие нагрузки, которые в основном предназначены для обработки аналитики. Наборы данных, требующие высокой степени организации, также получат преимущество, если включить иерархическое пространство имен.

Причины включения иерархического пространства имен определяются анализом совокупной стоимости владения. Как правило, при улучшении латентности рабочей нагрузки в связи с ускорением хранения вычислительные ресурсы требуются на меньшее время. Задержка для многих рабочих нагрузок может быть улучшена из-за атомарных операций с каталогами, включенных иерархическим пространством имен. Во многих рабочих нагрузках цена вычислительного ресурса составляет > 85 % от общей стоимости, поэтому даже небольшое сокращение латентности рабочей нагрузки приводит к значительному уменьшению суммы совокупной стоимости владения. Даже в тех случаях, когда включение иерархического пространства имен увеличивает расходы на хранение, стоимость владения по-прежнему сокращается из-за снижения затрат на вычисление.

Для анализа различий в ценах на хранение данных, ценах на транзакции и ценах на резервирование емкости хранилища между учетными записями с плоским иерархическим пространством имен и иерархическим пространством имен см. раздел [цены на Azure Data Lake Storage 2-го поколения](https://azure.microsoft.com/pricing/details/storage/data-lake/).

## <a name="next-steps"></a>Дальнейшие действия

- [Создание учетной записи хранения](./data-lake-storage-quickstart-create-account.md)
