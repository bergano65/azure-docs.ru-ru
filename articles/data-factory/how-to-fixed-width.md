---
title: Обработка текстовых файлов фиксированной длины с сопоставлением потоков данных в фабрике данных Azure
description: Узнайте, как обрабатывать текстовые файлы с фиксированной длиной в фабрике данных Azure с помощью сопоставления потоков данных.
services: data-factory
author: balakreshnan
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 8/18/2019
ms.author: makromer
ms.openlocfilehash: d6885e9b30cc71bda822a29574c4d574f2b020a0
ms.sourcegitcommit: bb65043d5e49b8af94bba0e96c36796987f5a2be
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72387046"
---
# <a name="process-fixed-length-text-files-by-using-data-factory-mapping-data-flows"></a>Обработка текстовых файлов фиксированной длины с помощью потоков данных сопоставления фабрики данных

С помощью сопоставления потоков данных в Microsoft Azure фабрика данных можно преобразовывать данные из текстовых файлов с фиксированной шириной. В следующей задаче мы определим набор данных для текстового файла без разделителя, а затем настроили разбиение подстроки на основе порядкового номера.

## <a name="create-a-pipeline"></a>Создание конвейера

1. Выберите **+ создать конвейер** , чтобы создать новый конвейер.

2. Добавьте действие потока данных, которое будет использоваться для обработки файлов с фиксированной шириной:

    ![Конвейер фиксированной ширины](media/data-flow/fwpipe.png)

3. В действии поток данных выберите **создать сопоставление поток данных**.

4. Добавьте преобразование «источник», «производный столбец», «выбор» и «приемник».

    ![Поток данных фиксированной ширины](media/data-flow/fw2.png)

5. Настройте преобразование «источник» для использования нового набора данных, который будет иметь тип текста с разделителями.

6. Не устанавливайте никаких разделителей столбцов или заголовков.

   Теперь мы установим начальные и числовые значения полей для содержимого этого файла:

    ```
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    ```

7. На вкладке **проекция** преобразования источник вы увидите строковый столбец с именем *column_1*.

8. В производном столбце создайте новый столбец.

9. Мы предоставим простые имена столбцов, такие как *col1*.

10. В построителе выражений введите следующее:

    ```substring(Column_1,1,4)```

    ![Производный столбец](media/data-flow/fwderivedcol1.png)

11. Повторите шаг 10 для всех столбцов, которые необходимо проанализировать.

12. Перейдите на вкладку **Проверка** , чтобы просмотреть новые столбцы, которые будут созданы:

    ![Обследован](media/data-flow/fwinspect.png)

13. Используйте команду выбрать преобразование, чтобы удалить столбцы, которые не требуются для преобразования.

    ![Выбор преобразования](media/data-flow/fwselect.png)

14. Используйте приемник для вывода данных в папку:

    ![приемник фиксированной ширины](media/data-flow/fwsink.png)

    Вот как выглядят выходные данные:

    ![вывод фиксированной ширины](media/data-flow/fxdoutput.png)

  Теперь данные с фиксированной шириной разбиваются на четыре символа и присвоены значениям col1, col2, Col3, Col4 и т. д. На основе предыдущего примера данные разбиваются на четыре столбца.

## <a name="next-steps"></a>Дальнейшие действия

* Создайте оставшуюся часть логики потока данных с помощью [преобразования потоков данных](concepts-data-flow-overview.md)сопоставления.
