---
title: Построитель выражений Потоков данных (средство для преобразования) в Фабрике данных Azure
description: Построитель выражений Потоков данных (средство для преобразования) в Фабрике данных Azure
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 01/30/2019
ms.openlocfilehash: 7e80455a2b83c034bea2fbdf774e5a175aed51a4
ms.sourcegitcommit: a60a55278f645f5d6cda95bcf9895441ade04629
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2019
ms.locfileid: "58885746"
---
# <a name="mapping-data-flow-expression-builder"></a>Построитель выражений сопоставления Потоков данных

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

В Потоке данных в Фабрике данных Azure доступны поля для ввода выражений для преобразования данных. Используйте в этих полях столбцы, поля, переменные, параметры и функции из своего потока данных. Для создания выражений используйте построитель выражений. Чтобы открыть его, щелкните в текстовом поле выражения в окне преобразования. Иногда при выборе столбцов для преобразования отображается вариант Computed Column (Вычисляемый столбец). Если щелкнуть его, также запустится построитель выражений.

![Построитель выражений](media/data-flow/expression.png "Построитель выражений")

По умолчанию построитель выражений открывается в режиме текстового редактора. Функция автозавершения считывает данные из всей объектной модели Потока данных Фабрики данных Azure с проверкой синтаксиса и выделением.

![Автозавершение в Построителе выражений](media/data-flow/expb1.png "Автозавершение в Построителе выражений")

## <a name="currently-working-on-field"></a>Поле Currently Working on (Текущее рабочее поле)

![Построитель выражений](media/data-flow/exp3.png "Текущее рабочее поле")

В левом верхнем углу построителя выражений есть поле Currently Working On (Текущее рабочее поле), где отображается имя поля, с которым вы сейчас работаете. Выражение, которое вы сейчас создаете, будет применено только к текущему рабочему полю. Чтобы преобразовать другое поле, сохраните текущую работу, выберите другое поле из раскрывающегося списка и создайте для него выражение.

## <a name="data-preview-in-debug-mode"></a>Предварительный просмотр данных в режиме отладки

![Построитель выражений](media/data-flow/exp4b.png "Предварительный просмотр данных выражения")

Работая над выражениями, в области конструктора Потока данных Фабрики данных Azure по желанию можно включить режим отладки, где можно предварительно просматривать в реальном времени результаты данных выражений, которые вы создаете. Для выражений включена отладка в режиме реального времени.

![Режим отладки](media/data-flow/debugbutton.png "Кнопка отладки")


![Построитель выражений](media/data-flow/exp5.png "Предварительный просмотр данных выражения")

## <a name="comments"></a>Комментарии

К выражениям можно добавлять комментарии с использованием однострочного и многострочного синтаксиса комментариев:

![Комментарии](media/data-flow/comments.png "Комментарии")

## <a name="regular-expressions"></a>Регулярные выражения

Язык выражений Потока данных Фабрики данных Azure (см. [полную справочную документацию](https://aka.ms/dataflowexpressions)) поддерживает функции с синтаксисом регулярных выражений. При использовании функций регулярных выражений, построитель выражений будет пытаться интерпретировать обратной косой черты (\\) как escape-последовательности символов. При использовании символов обратной косой черты в регулярном выражении, либо заключите весь регулярное выражение в тактах (\`) или используйте его дважды.

Пример использования обратных кавычек

```
regex_replace('100 and 200', `(\d+)`, 'digits')
```

и двойной обратной косой черты

```
regex_replace('100 and 200', '(\\d+)', 'digits')
```

## <a name="addressing-array-indexes"></a>Адресация индексы массива

При использовании функций выражений, которые возвращают массивы, используйте квадратные скобки [], чтобы обращаться к конкретному индексу в возвращаемом объекте массива. Массив отсчитывается от единицы.

![Массив Построителя выражений](media/data-flow/expb2.png "Предварительный просмотр данных выражения")

## <a name="handling-names-with-special-characters"></a>Обработка имен, содержащий специальные символы

Если имена столбцов, которые содержат специальные символы или пробелы, заключите его в фигурные скобки.
* ```{[dbo].this_is my complex name$$$}```

## <a name="next-steps"></a>Дальнейшие действия

[Приступить к созданию выражения преобразования данных](data-flow-expression-functions.md)
