---
title: Копирование файлов из нескольких контейнеров
description: Узнайте, как использовать шаблон решения для копирования файлов из нескольких контейнеров с помощью фабрики данных Azure.
services: data-factory
author: dearandyxu
ms.author: yexu
ms.reviewer: douglasl
manager: anandsub
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 11/1/2018
ms.openlocfilehash: f78d0b02c9790234a63ef64200dcab72bc64c033
ms.sourcegitcommit: 3e8058f0c075f8ce34a6da8db92ae006cc64151a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2020
ms.locfileid: "92629431"
---
# <a name="copy-multiple-folders-with-azure-data-factory"></a>Копирование нескольких папок с помощью фабрики данных Azure

[!INCLUDE[appliesto-adf-xxx-md](includes/appliesto-adf-xxx-md.md)]

В этой статье описывается шаблон решения, в котором можно использовать несколько действий копирования для копирования контейнеров или папок между хранилищами на основе файлов, где каждое действие копирования должно копировать один контейнер или папку. 

> [!NOTE]
> Если вы хотите скопировать файлы из одного контейнера, более эффективно использовать [средство копирование данных](copy-data-tool.md) для создания конвейера с одним действием копирования. Шаблон в этой статье больше, чем требуется для этого простого сценария.

## <a name="about-this-solution-template"></a>Информация о шаблоне решения

Этот шаблон перечисляет папки из заданной родительской папки в исходном хранилище хранилища. Затем все папки копируются в целевое хранилище.

Шаблон состоит из трех действий.
- **Метаданные** проверяют исходное хранилище хранилища и получают список вложенных папок из заданной родительской папки.
- **Foreach** получает список вложенных папок из действия "операции с **метаданными** ", а затем выполняет итерацию по списку и передает каждую папку в действие копирования.
- **Copy** копирует каждую папку из исходного хранилища в целевое хранилище.

Ниже описаны параметры, которые определяет шаблон.
- *Саурцефилефолдер* является частью пути к родительской папке хранилища источников данных: *саурцефилефолдер/саурцефиледиректори* , где можно получить список вложенных папок. 
- *Саурцефиледиректори* является частью пути к родительской папке хранилища источников данных: *саурцефилефолдер/саурцефиледиректори* , где можно получить список вложенных папок. 
- *Дестинатионфилефолдер* является частью пути к родительской папке: *дестинатионфилефолдер/дестинатионфиледиректори* , где файлы будут скопированы в целевое хранилище. 
- *Дестинатионфиледиректори* является частью пути к родительской папке: *дестинатионфилефолдер/дестинатионфиледиректори* , где файлы будут скопированы в целевое хранилище. 

Если требуется скопировать несколько контейнеров в корневых папках между хранилищами хранилища, можно ввести все четыре параметра как */* . Таким образом, вы будете реплицировать все между хранилищами хранилища.

## <a name="how-to-use-this-solution-template"></a>Использование шаблона решения

1. Перейдите к шаблону **копирование нескольких файлов между хранилищами файлов** . Создайте **новое** подключение к исходному хранилищу. В исходном хранилище хранилища необходимо скопировать файлы из нескольких контейнеров из.

    ![Создание нового подключения к источнику](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image1.png)

2. Создайте **новое** подключение к целевому хранилищу хранилища.

    ![Создание нового подключения к целевому хранилищу](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image2.png)

3. Щелкните **Использовать этот шаблон** .

    ![Использовать этот шаблон](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image3.png)
    
4. Вы увидите конвейер, как показано в следующем примере:

    ![Отображение конвейера](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image4.png)

5. Выберите **Отладка** , введите **Параметры** , а затем нажмите **Готово** .

    ![Запуск конвейера](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image5.png)

6. Просмотрите результаты.

    ![Просмотр результатов](media/solution-template-copy-files-multiple-containers/copy-files-multiple-containers-image6.png)

## <a name="next-steps"></a>Дальнейшие действия

- [Полное копирование из базы данных с помощью таблицы элементов управления и фабрики данных Azure](solution-template-bulk-copy-with-control-table.md)

- [Копирование файлов из нескольких контейнеров с помощью Фабрики данных Azure](solution-template-copy-files-multiple-containers.md)
