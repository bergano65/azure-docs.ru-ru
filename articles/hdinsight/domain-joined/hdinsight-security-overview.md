---
title: Общие сведения о корпоративной безопасности в Azure HDInsight
description: Узнайте о различных способах обеспечения корпоративной безопасности в Azure HDInsight.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: overview
ms.custom: seoapr2020
ms.date: 08/24/2020
ms.openlocfilehash: 7f450d54a0039f591178ae839fbb404f31d80671
ms.sourcegitcommit: d767156543e16e816fc8a0c3777f033d649ffd3c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/26/2020
ms.locfileid: "92537275"
---
# <a name="overview-of-enterprise-security-in-azure-hdinsight"></a>Общие сведения о корпоративной безопасности в Azure HDInsight

Azure HDInsight предлагает ряд методов для соответствия требованиям корпоративной безопасности. По умолчанию большинство этих решений не активированы. Такая гибкость позволяет выбирать самые важные для вас функции безопасности и помогает избежать оплаты тех функций, которые вам не нужны. Но эта гибкость возлагает на вас дополнительную ответственность за выбор правильных решений для используемой установки и среды.

В этой статье рассматриваются решения по обеспечению безопасности путем разделения этих решений по четырем традиционным аспектам безопасности: безопасность периметра, аутентификация, авторизация и шифрование.

В этой статье также представлен **корпоративный пакет безопасности Azure HDInsight (ESP)** , который обеспечивает проверку подлинности на основе Active Directory, многопользовательскую поддержку и управление доступом на основе ролей для кластеров HDInsight.

## <a name="enterprise-security-pillars"></a>Основные аспекты корпоративной безопасности

Один из способов ознакомиться с корпоративной безопасностью — разделение решений по обеспечению безопасности на четыре основные группы, основанные на типе элемента управления. Эти группы также называются основами безопасности и включают следующие типы: безопасность периметра, аутентификацию, авторизацию и шифрование.

### <a name="perimeter-security"></a>Безопасность периметра

Безопасность периметра в HDInsight обеспечивается за счет [виртуальных сетей](../hdinsight-plan-virtual-network-deployment.md). Корпоративный администратор может создать кластер в виртуальной сети и ограничить к ней доступ с помощью групп безопасности сети (NSG). Для обмена данными с кластером HDInsight допускаются только IP-адреса, включенные в правила NSG для входящего трафика. Эта конфигурация обеспечивает безопасность периметра.

Все кластеры, развернутые в виртуальной сети, имеют также частную конечную точку. Эта конечная точка разрешается в частный IP-адрес внутри виртуальной сети для частного доступа к шлюзам кластера по протоколу HTTP.

### <a name="authentication"></a>Аутентификация

[Корпоративный пакет безопасности](apache-domain-joined-architecture.md) службы HDInsight предоставляет возможности аутентификации на основе Active Directory, поддержку многопользовательского режима и управления доступом на основе ролей. Для интеграции Active Directory используются [доменные службы Azure Active Directory](../../active-directory-domain-services/overview.md). Благодаря таким возможностям можно создать кластер HDInsight, присоединенный к домену Active Directory. Затем настройте список сотрудников организации, которые могут входить в этот кластер.

При такой конфигурации сотрудники организации могут войти в узлы кластера с использованием своих учетных данных домена. Кроме того, эти учетные данные домена можно использовать для входа на другие одобренные конечные точки, например представления Ambari, ODBC, JDBC, PowerShell и интерфейсы REST API, для взаимодействия через них с кластером.

### <a name="authorization"></a>Авторизация

Большинство организаций следуют рекомендации по предоставлению полного доступа ко всем корпоративным ресурсам только определенным сотрудникам. Аналогичным образом администратор может определить политики управления доступом на основе ролей для ресурсов кластера. Это действие доступно только в кластерах ESP.

Администратор Hadoop может настроить управление доступом на основе ролей (RBAC). Эти конфигурации защищают Apache [Hive](apache-domain-joined-run-hive.md), [HBase](apache-domain-joined-run-hbase.md) и [Kafka](apache-domain-joined-run-kafka.md) с помощью подключаемых модулей Apache Ranger. Настройка политик RBAC позволяет связывать разрешения с ролью в организации. Этот уровень абстракции позволяет гарантировать, что у пользователей есть только те разрешения, которые необходимы для выполнения их рабочих обязанностей. Ranger позволяет проводить аудит доступа сотрудников к данным, а также аудит любых изменений, внесенных в политики управления доступом.

Например, администратор может настроить [Apache Ranger](https://ranger.apache.org/), чтобы настроить политики контроля доступа для Hive. Эта функция обеспечивает фильтрацию на уровне строк и столбцов (маскирование данных) и защищает конфиденциальные данные от несанкционированного доступа.

### <a name="auditing"></a>Аудит

Аудит доступа к ресурсам кластера необходим для отслеживания неавторизованного или случайного доступа к ресурсам. Это так же важно, как защита ресурсов кластера от неавторизованного доступа.

Администратор может просмотреть все случаи получения доступа к ресурсам и данным кластера HDInsight и сообщить о них. Администратор может просматривать изменения в политиках управления доступом и создавать по ним отчеты.

Чтобы получить доступ к журналам аудита Apache Ranger и Ambari, а также к журналам доступа по протоколу SSH, [включите Azure Monitor](../hdinsight-hadoop-oms-log-analytics-tutorial.md#cluster-auditing) и просмотрите таблицы с записями аудита.

### <a name="encryption"></a>Шифрование

Защита данных важна для соблюдения требований безопасности и соответствия, установленных в организации. Помимо ограничения доступа неавторизованных сотрудников к данным, их следует зашифровать.

HDInsight поддерживает шифрование неактивных данных с помощью как управляемых платформой, так и [управляемых клиентом ключей](../disk-encryption.md). Шифрование передаваемых данных осуществляется с помощью TLS и IPSec. Дополнительные сведения см. в статье [Шифрование передаваемых данных для Azure HDInsight](encryption-in-transit.md).

### <a name="compliance"></a>Соответствие нормативным требованиям

Предложения Azure для соответствия требованиям основаны на нескольких типах гарантий, включая официальные сертификации, а также аттестации, проверки и разрешения. Оценки выполняются сторонними и независимыми аудиторскими фирмами. Контрактные поправки, самостоятельные оценки и документы с рекомендациями пользователям создаются корпорацией Майкрософт. См. сведения о [соответствии Microsoft Azure требованиям HDInsight](https://gallery.technet.microsoft.com/Overview-of-Azure-c1be3942) и информацию в [центре управления безопасностью Майкрософт](https://www.microsoft.com/trust-center).

## <a name="shared-responsibility-model"></a>Модель общей ответственности

На следующем рисунке представлены основные области безопасности системы и решения по обеспечению безопасности, доступные вам в каждой из них. На нем также выделены области безопасности, за которые отвечаете вы как клиент, и другие области, за которые отвечает HDInsight как поставщик служб.

![Схема общих обязанностей HDInsight](./media/hdinsight-security-overview/hdinsight-shared-responsibility.png)

В следующей таблице приведены ссылки на ресурсы для каждого типа решения по обеспечению безопасности.

| Область безопасности | Доступные решения | Ответственное лицо |
|---|---|---|
| Безопасность доступа к данным | Настройка [списков управления доступом (ACL)](../../storage/blobs/data-lake-storage-access-control.md) для Azure Data Lake Storage 1-го поколения и 2-го поколения  | Customer |
|  | Включите свойство [Требуется безопасное перемещение](../../storage/common/storage-require-secure-transfer.md) в учетной записи хранения. | Customer |
|  | Настройка [брандмауэров службы хранилища Azure](../../storage/common/storage-network-security.md) и виртуальных сетей | Customer |
|  | Настройка [конечных точек службы для виртуальной сети Azure](../../virtual-network/virtual-network-service-endpoints-overview.md) для Cosmos DB и [Базы данных SQL Azure](../../azure-sql/database/vnet-service-endpoint-rule-overview.md) | Customer |
|  | Убедитесь, что функция [шифрования при передаче](./encryption-in-transit.md) включена, чтобы при передаче данных внутри кластера использовались TLS и IPSec. | Customer |
|  | Настройка [управляемых пользователем ключей](../../storage/common/customer-managed-keys-configure-key-vault.md) для шифрования службы хранилища Azure | Customer |
|  | Контролируйте доступ специалистов службы поддержки Azure к вашим данным, используя [защищенное хранилище](../../security/fundamentals/customer-lockbox-overview.md). | Customer |
| Безопасность приложений и ПО промежуточного слоя | Интеграция с AAD-DS и [настройка ESP](apache-domain-joined-configure-using-azure-adds.md) или использование [HIB для проверки подлинности OAuth](identity-broker.md)| Customer |
|  | Настройка политик [авторизации Apache Ranger](apache-domain-joined-run-hive.md) | Customer |
|  | Использование [журналов Azure Monitor](../hdinsight-hadoop-oms-log-analytics-tutorial.md) | Customer |
| Безопасность операционной системы | Создание кластеров с помощью последних безопасных базовых образов | Customer |
|  | Обеспечение [установки исправлений для ОС](../hdinsight-os-patching.md) через регулярные интервалы | Customer |
|  | Обеспечение [шифрования дисков для виртуальных машин с помощью CMK](../disk-encryption.md) | Customer |
| Безопасность сети | Настройка [виртуальной сети](../hdinsight-plan-virtual-network-deployment.md) |
|  | Настройка [правил для входящего трафика группы безопасности сети (NSG)](../control-network-traffic.md) или [приватного канала](../hdinsight-private-link.md) | Customer |
|  | Настройка [ограничения исходящего трафика](../hdinsight-restrict-outbound-traffic.md) с помощью брандмауэра | Customer |
|  | Настройка [шифрования IPSec передаваемых данных](encryption-in-transit.md) между узлами кластера | Customer |
| Виртуализированная инфраструктура | Недоступно | HDInsight (поставщик облачных служб) |
| Безопасность физической инфраструктуры | Недоступно | HDInsight (поставщик облачных служб) |

## <a name="next-steps"></a>Дальнейшие действия

* [Корпоративный пакет безопасности для HDInsight](apache-domain-joined-architecture.md)
* [Настройка кластера HDInsight с корпоративным пакетом безопасности с помощью доменных служб Azure Active Directory](./apache-domain-joined-configure-using-azure-adds.md)
* [Управление кластерами HDInsight с помощью корпоративного пакета безопасности](apache-domain-joined-manage.md)