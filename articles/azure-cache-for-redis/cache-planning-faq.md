---
title: Вопросы по планированию кэша Azure для Redis
description: Ознакомьтесь с ответами на распространенные вопросы, которые помогут спланировать кэш Azure для Redis.
author: yegu-ms
ms.author: yegu
ms.service: cache
ms.topic: conceptual
ms.date: 08/06/2020
ms.openlocfilehash: 398b567e173691068e6dd932e075d6598dcfe601
ms.sourcegitcommit: d767156543e16e816fc8a0c3777f033d649ffd3c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/26/2020
ms.locfileid: "92537411"
---
# <a name="azure-cache-for-redis-planning-faqs"></a>Вопросы по планированию кэша Azure для Redis

В этой статье содержатся ответы на часто задаваемые вопросы о планировании кэша Azure для Redis.

## <a name="common-questions-and-answers"></a>Общие вопросы и ответы
В этом разделе рассматриваются следующие вопросы и ответы:

* [Производительность кэша Azure для Redis](#azure-cache-for-redis-performance)
* [В каком регионе следует размещать мой кэш?](#in-what-region-should-i-locate-my-cache)
* [Где находятся кэшированные данные?](#where-do-my-cached-data-reside)
* [Как выставляются счета за использование кэша Azure для Redis?](#how-am-i-billed-for-azure-cache-for-redis)
* [Можно ли использовать кэш Azure для Redis с облаком Azure для государственных организаций, Azure Китая для облака или Microsoft Azure — Германия?](#can-i-use-azure-cache-for-redis-with-azure-government-cloud-azure-china-21vianet-cloud-or-microsoft-azure-germany)

### <a name="azure-cache-for-redis-performance"></a>Производительность кэша Azure для Redis
В следующей таблице показаны максимальные значения пропускной способности, наблюдаемые при тестировании разных размеров кэша уровней "Стандартный" или "Премиум" с помощью `redis-benchmark.exe` из виртуальной машины IaaS для конечной точки кэша Azure для Redis. Для пропускной способности TLS используется redis-benchmark со stunnel для подключения к конечной точке кэша Azure для Redis.

>[!NOTE] 
>Эти значения не гарантируются и для них не предусмотрено соглашение об уровне обслуживания, однако они должны быть типичными. Чтобы определить подходящий объем кэша для вашего приложения, вам следует загрузить его тестирование.
>Это количество может изменяться при периодическом обновлении результатов.
>

Из этой таблицы можно сделать следующие выводы:

* Пропускная способность кэшей равного размера для уровня "Премиум" выше, чем для уровня "Стандартный". Например, для кэша размером в 6 ГБ пропускная способность P1 составляет 180 тыс. запросов в секунду. А пропускная способность C3 — 100 тыс. запросов в секунду.
* С кластеризацией Redis пропускная способность линейно увеличивается по мере увеличения числа сегментов (узлов) в кластере. Например, если создать кластер P4 из 10 сегментов, доступная пропускная способность будет составлять 400 тыс. * 10 = 4 млн запросов в секунду.
* Пропускная способность для ключей большего размера для уровня "Премиум" выше, чем для уровня "Стандартный".

| Ценовая категория | Размер | Ядра ЦП | Доступная пропускная способность | Единица измерения — КБ | Единица измерения — КБ |
| --- | --- | --- | --- | --- | --- |
| **Размеры кэша уровня Стандартный** | | |**Мегабит в секунду (Мбит/с) или Мегабайт в секунду (МБ/с)** |**Запросов в секунду (без SSL)** |**Запросов в секунду (с SSL)** |
| C0 | 250 МБ | Совмещаемая блокировка | 100 / 12,5  |  15 000 |   7500 |
| C1 |   1 ГБ | 1      | 500 / 62,5  |  38 000 |  20 720 |
| C2 | 2,5 ГБ | 2      | 500 / 62,5  |  41 000 |  37 000 |
| C3 |   6 ГБ | 4      | 1000 / 125  | 100 000 |  90 000 |
| C4 |  13 ГБ | 2      | 500 / 62,5  |  60 000 |  55 000 |
| C5 |  26 ГБ | 4      | 1,000 / 125 | 102 000 |  93 000 |
| C6 |  53 ГБ | 8      | 2,000 / 250 | 126 000 | 120 000 |
| **Размеры кэша уровня Премиум** | |**Число ядер ЦП на сегмент** | **Мегабит в секунду (Мбит/с) или Мегабайт в секунду (МБ/с)** |**Запросов в секунду (без SSL) для каждого сегмента** |**Запросов в секунду (с SSL) для каждого сегмента** |
| P1 |   6 ГБ |  2 | 1,500 / 187.5 | 180,000 | 172 000 |
| P2 |  13 ГБ |  4 | 3,000 / 375   | 350 000 | 341 000 |
| P3 |  26 ГБ |  4 | 3,000 / 375   | 350 000 | 341 000 |
| P4 |  53 ГБ |  8 | 6,000 / 750   | 400 000 | 373 000 |
| P5 | 120 ГБ | 20 | 6,000 / 750   | 400 000 | 373 000 |

Инструкции по настройке stunnel или загрузке средств Redis, таких как `redis-benchmark.exe` , см. в [разделе как можно выполнять команды Redis?](cache-development-faq.md#how-can-i-run-redis-commands).

### <a name="in-what-region-should-i-locate-my-cache"></a>В каком регионе следует размещать мой кэш?
Для лучшей производительности и минимальной задержки размещайте свой кэш Azure для Redis в одном регионе с вашим кэшируемым клиентским приложением.

### <a name="where-do-my-cached-data-reside"></a>Где находятся кэшированные данные?
Кэш Azure для Redis хранит данные вашего приложения в ОЗУ виртуальной машины или виртуальных машинах в зависимости от уровня, на котором размещается кэш. Ваши данные находятся строго в регионе Azure, выбранном по умолчанию. Существует два случая, когда данные могут покинуть регион:
* При включении сохраняемости в кэше Azure Cache для Redis будет выполнять резервное копирование данных в собственную учетную запись хранения Azure. Если учетная запись хранения, которую вы задасте, находится в другом регионе, копия данных будет находиться в таком случае.
* Если вы настроили георепликацию, а вторичный кэш находится в другом регионе, в обычном случае данные будут реплицированы в этот регион.

Чтобы использовать эти функции, необходимо явно настроить кэш Azure для Redis. Кроме того, у вас есть полный контроль над регионом, в котором находится учетная запись хранения или дополнительный кэш.

### <a name="how-am-i-billed-for-azure-cache-for-redis"></a>Как выставляются счета за использование кэша Azure для Redis?
Ценовая категория кэша Azure для Redis указана [здесь](https://azure.microsoft.com/pricing/details/cache/). На странице с ценами указаны цены в виде почасовой и ежемесячной ставки. Выставляемые счета за использование кэшей рассчитываются на поминутной основе. Они охватывают интервал времени между созданием кэшей и их удалением. Остановить или приостановить выставление счета за использование кэша нельзя.

### <a name="can-i-use-azure-cache-for-redis-with-azure-government-cloud-azure-china-21vianet-cloud-or-microsoft-azure-germany"></a>Можно ли использовать кэш Azure для Redis с облаком Azure для государственных организаций, Azure Китая для облака или Microsoft Azure — Германия?
Да. Кэш Azure для Redis доступен в облаках Azure для государственных организаций, Microsoft Azure для Китая (21Vianet) и Microsoft Azure — Германия. URL-адреса для доступа к кэшу Azure для Redis и для управления им в этих облаках различны в отличие от общедоступного облака Azure.

| Cloud   | DNS-суффикс для кэша Redis            |
|---------|---------------------------------|
| Общедоступные  | *.redis.cache.windows.net       |
| US Gov  | *.redis.cache.usgovcloudapi.net |
| Германия | *.redis.cache.cloudapi.de       |
| Китай   | *.redis.cache.chinacloudapi.cn  |

Дополнительные сведения о рекомендациях по использованию кэша Azure для Redis с другими облаками см. в следующих ссылках.

- [Azure Government Databases – Azure Cache for Redis](../azure-government/compare-azure-government-global-azure.md) (Базы данных Azure для государственных организаций – кэш Azure для Redis)
- [Облако Azure для Китая (21Vianet) — кэш Azure для Redis](https://www.azure.cn/home/features/redis-cache/)
- [Microsoft Azure для Германии](https://azure.microsoft.com/overview/clouds/germany/)

Сведения об использовании кэша Azure для Redis с помощью PowerShell в облаке Azure для государственных организаций, Azure для Китая (21Vianet) или Microsoft Azure — Германия см. в статье [Подключение к другим облакам — Управление кэшем Azure для Redis с использованием Azure PowerShell](cache-how-to-manage-redis-cache-powershell.md#how-to-connect-to-other-clouds).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о другом [кэше Azure для Redis часто задаваемых вопросов](cache-faq.md).