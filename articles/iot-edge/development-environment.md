---
title: Среда разработки для Azure IoT Edge | Документация Майкрософт
description: Сведения о поддерживаемых системах и фирменных средствах разработки для создания модулей IoT Edge
author: kgremban
manager: philmea
ms.author: kgremban
ms.date: 01/04/2019
ms.topic: conceptual
ms.service: iot-edge
services: iot-edge
ms.openlocfilehash: f3d1fb393138aeb590bc0645d6abe93652a52a5b
ms.sourcegitcommit: d61faf71620a6a55dda014a665155f2a5dcd3fa2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2019
ms.locfileid: "54052587"
---
# <a name="prepare-your-development-and-test-environment-for-iot-edge"></a>Подготовка среды разработки и тестирования для IoT Edge

Azure IoT Edge переносит существующую бизнес-логику на пограничные устройства. Чтобы подготовить приложения и рабочие нагрузки для запуска в качестве [модулей IoT Edge](iot-edge-modules.md), необходимо создать их в качестве контейнеров. Эта статья содержит рекомендации по настройке среды разработки для успешного создания решений IoT Edge. Выполнив настройку среды разработки, вы можете перейти к [разработке собственных модулей IoT Edge](module-development.md).

В разработке любого решения IoT Edge участвует по крайней мере два устройства. Одно из них — собственно устройство (или устройства) IoT Edge, на котором (которых) выполняется модуль IoT Edge. Другое — компьютер разработчика, который вы используете для создания, тестирования и развертывания модулей. В этой статье главным образом рассматривается компьютер разработчика. В целях тестирования один компьютер можно использовать в качестве обоих устройств. На компьютере разработки можно запустить IoT Edge и развернуть модули на том же компьютере.

## <a name="operating-system"></a>Операционная система

Azure IoT Edge работает в определенном наборе [поддерживаемых операционных систем](support.md). Для разработки для IoT Edge можно использовать большинство операционных систем, которые поддерживают модуль контейнеров. Модуль контейнеров — это обязательный компонент на компьютере разработки для создания модулей как контейнеров и отправки их в реестр контейнеров. 

Если на компьютере разработки не удается запустить Azure IoT Edge, далее в этой статье рассказывается о [средствах тестирования](#testing-tools), которые помогут вам выполнить тестирование и отладку локально. 

Операционная система компьютера разработки не обязательно должна совпадать с операционной системой устройства IoT Edge. Тем не менее на компьютере разработчика и устройстве IoT Edge должна использоваться согласованная операционная система контейнеров. Например, вы можете разрабатывать модули на компьютере Windows и развертывать их на устройстве Linux. Компьютер Windows должен быть способен выполнять контейнеры Linux для создания модулей для устройств Linux. 

## <a name="container-engine"></a>Модуль контейнеров

Центральной концепцией IoT Edge является удаленное развертывание бизнес- и облачной логики на устройствах путем упаковки в контейнеры. Для создания контейнеров необходим модуль контейнеров на компьютере разработки. 

Единственным поддерживаемым модулем контейнеров для устройств IoT Edge в рабочей среде является Moby. Тем не менее любой модуль контейнеров, совместимый с Open Container Initiative, например Docker, может создавать образы модулей IoT Edge. 

## <a name="development-tools"></a>Инструменты разработки

Visual Studio и Visual Studio Code включают дополнительные расширения для разработки решений IoT Edge. Эти расширения предоставляют шаблоны для конкретного языка, которые помогают создавать и развертывать новые сценарии IoT Edge. Расширения Azure IoT Edge для Visual Studio и Visual Studio Code позволяют писать код, создавать, развертывать и отлаживать решения IoT Edge. Вы можете создать полное решение IoT Edge, которое содержит несколько модулей, и расширения будут автоматически изменять шаблон манифеста развертывания при добавлении каждого нового модуля. С помощью расширений вы также можете управлять устройствами Интернета вещей из Visual Studio или Visual Studio Code. Вы можете развертывать модули на устройстве, отслеживать состояние и просматривать сообщения по мере их поступления в Центр Интернета вещей. Оба расширения используют [средство разработки IoT EdgeHub](#iot-edgehub-dev-tool) для включения локального запуска и отладки модулей на компьютере разработки. 

Если вы предпочитаете разработку с помощью других редакторов или из CLI, средство разработки Azure IoT Edge предоставляет команды для разработки и тестирования из командной строки. Можно создавать сценарии IoT Edge и образы модулей, запускать модули в симуляторе и отслеживать сообщения, отправляемые в Центр Интернета вещей. 

### <a name="visual-studio-code-extension"></a>Расширение Visual Studio Code

Расширение Azure IoT Edge для Visual Studio Code предоставляет шаблоны модулей IoT Edge, основанные на таких языках программирования, как C, C#, Java, Node.js и Python, а также функциях Azure в C#. 

Дополнительные сведения и ссылки для загрузки см. на странице [средств Azure IoT Edge для Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-tools).

Помимо расширений IoT Edge, может оказаться полезной установка дополнительных расширений для разработки. Например, можно использовать [поддержку Docker для Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=PeterJausovec.vscode-docker) для управления образами, контейнерами и реестрами. Кроме того, все основные поддерживаемые языки включают расширения для Visual Studio Code, которые могут помочь при разработке модулей. 

#### <a name="prerequisites"></a>Предварительные требования

Шаблоны модулей для некоторых языков и служб включают предварительные требования, необходимые для создания папок проекта на компьютере разработки с Visual Studio Code.

| Шаблон модуля | Предварительные требования |
| --------------- | ------------ |
| Функции Azure | [Пакет SDK для .NET Core 2.1](https://www.microsoft.com/net/download). |
| C | [Git](https://git-scm.com/) |
| C# | [Пакет SDK для .NET Core 2.1](https://www.microsoft.com/net/download). |
| Java | <ul><li>[Пакет SDK для Java SE 10](https://aka.ms/azure-jdks) <li> [Настройка переменной среды JAVA_HOME](https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/) <li> [Maven](https://maven.apache.org/)</ul> |
| Node.js | <ul><li>[Node.js](https://nodejs.org/) <li> [Yeoman](https://www.npmjs.com/package/yo) <li> [Генератор модулей Node.js Azure IoT Edge](https://www.npmjs.com/package/generator-azure-iot-edge-module)</ul> |
| Python |<ul><li> [Python](https://www.python.org/downloads/) <li> [Pip](https://pip.pypa.io/en/stable/installing/#installation) <li> [Cookiecutter](https://cookiecutter.readthedocs.io/en/latest/installation.html) <li> [Git](https://git-scm.com/) </ul> |

### <a name="visual-studio-2017-extension"></a>Расширение Visual Studio 2017

Средства Azure IoT Edge для Visual Studio включают шаблон модуля IoT Edge на основе C#. 

Дополнительные сведения и ссылки для загрузки см. в разделе [Средства Azure IoT Edge для Visual Studio 2017](https://marketplace.visualstudio.com/items?itemName=vsc-iot.vsiotedgetools).

### <a name="iot-edge-dev-tool"></a>Средство разработки IoT Edge

Средство разработки Azure IoT Edge упрощает разработку IoT Edge с помощью командной строки. Это средство предоставляет команды CLI для разработки, отладки и тестирования модулей. Средство разработки IoT Edge эффективно взаимодействует с системой разработки как при установке зависимостей на компьютере вручную, так и при использовании контейнера разработки IoT Edge. 

На [вики-странице средства разработки IoT Edge](https://github.com/Azure/iotedgedev/wiki) вы найдете дополнительные сведения и все необходимое для начала работы.

## <a name="testing-tools"></a>Инструменты тестирования

Для более эффективной имитации устройств IoT Edge или отладки модулей предусмотрено несколько средств тестирования. В следующей таблице приводится общее сравнение средств, а затем каждое средство более подробно описывается в отдельных разделах. 

Для развертывания в рабочей среде поддерживаются только среда выполнения IoT Edge, однако следующие средства позволяют моделировать и легко создавать устройства IoT Edge для разработки и тестирования. Эти средства не являются взаимоисключающими и могут работать, формируя полноценную среду разработки. 

| Средство | Другое название | Поддерживаемые платформы | Оптимально для |
| ---- | ------------- | ------------------- | --------- |
| Средство разработки IoT EdgeHub  | iotedgehubdev | Windows, Linux, macOS | Имитация устройства для отладки модулей. |
| Контейнер разработки IoT Edge | microsoft/iotedgedev | Windows, Linux, macOS | Разработка без установки зависимостей. |
| Среда выполнения IoT Edge в контейнере | iotedgec | Windows, Linux, MacOS, ARM | Тестирование на устройстве, которое может не поддерживать среду выполнения. |
| Контейнер устройств IoT Edge | toolboc/azure-iot-edge-device-container | Windows, Linux, MacOS, ARM | Тестирование сценария с несколькими устройствами IoT Edge в нужном масштабе. |

### <a name="iot-edgehub-dev-tool"></a>Средство разработки IoT EdgeHub

Средство разработки Azure IoT EdgeHub предоставляет возможность локальной разработки и отладки. Средство позволяет запускать модули IoT Edge без среды выполнения IoT Edge для локального создания, разработки, тестирования, запуска и отладки модулей IoT Edge и решений. Нет необходимости отправлять образы в реестр контейнеров и развертывать их на устройстве для тестирования.

Средство разработки IoT EdgeHub было создано для работы с расширениями Visual Studio и Visual Studio Code, а также со средством разработки IoT Edge. Оно поддерживает внутренний цикл разработки, а также внешний цикл тестирования, поэтому также интегрируется со средствами DevOps. 

Дополнительные сведения и ссылки для установки см. в разделе [Средство разработки Azure IoT EdgeHub](https://pypi.org/project/iotedgehubdev/).

### <a name="iot-edge-dev-container"></a>Контейнер разработки IoT Edge

Контейнер разработки Azure IoT Edge представляет собой контейнер Docker, который содержит все зависимости, необходимые для разработки IoT Edge. Этот контейнер позволяет легко приступить к работе с любым языком разработки, включая C#, Python, Node.js и Java. Вам нужно лишь установить модуль контейнеров, например Docker или Moby, для передачи контейнеров на компьютер разработки. 

Дополнительные сведения см. в разделе [Контейнер разработки Azure IoT Edge](https://hub.docker.com/r/microsoft/iotedgedev/).

### <a name="iot-edge-runtime-in-a-container"></a>Среда выполнения IoT Edge в контейнере

Среда выполнения IoT Edge в контейнере предоставляет полноценную среду выполнения, которая принимает строку подключения устройства как переменную среды. Этот контейнер позволяет тестировать модули и сценарии IoT Edge в системе, которая может не поддерживать среду выполнения, например MacOS. Развертываемые модули будут запускаться за пределами контейнера среды выполнения. Если требуется, чтобы среда выполнения и все развернутые модули существовали в одном контейнере, рекомендуется использовать контейнер устройств IoT Edge.

Дополнительные сведения см. в разделе [Выполнение Azure IoT Edge в контейнере](https://github.com/Azure/iotedgedev/tree/master/docker/runtime).

### <a name="iot-edge-device-container"></a>Контейнер устройств IoT Edge

Контейнер устройств IoT Edge — это полноценное устройство IoT Edge, готовое к запуску на любом компьютере с модулем контейнеров. Контейнер устройств включает среду выполнения IoT Edge и собственно модуль контейнеров. Каждый экземпляр контейнера является полностью функциональным устройством самостоятельной подготовки IoT Edge. Контейнер устройств поддерживает удаленную отладку модулей при наличии сетевого маршрута к модулю. Контейнер устройств хорошо подходит для быстрого создания большого количества устройств IoT Edge для тестирования в крупномасштабных сценариях или конвейерах DevOps. Он также поддерживает развертывание в Kubernetes с помощью Helm. 

Дополнительные сведения см. в разделе [Контейнер устройств Azure IoT Edge](https://github.com/toolboc/azure-iot-edge-device-container).

## <a name="devops-tools"></a>Инструменты DevOps

Когда вы будете готовы к разработке масштабных решений для крупной рабочей среды, воспользуйтесь преимуществами современных принципов DevOps, включая автоматизацию, мониторинг и оптимизированные процессы разработки программного обеспечения. IoT Edge включает расширения для поддержки средств DevOps, в том числе Azure DevOps, проектов Azure DevOps и Jenkins. Если вы хотите настроить существующий конвейер или использовать другое средство DevOps, такое как CircleCI или TravisCI, это можно сделать с помощью функций интерфейса командной строки, включенных в средство разработки IoT Edge.

Дополнительные сведения, рекомендации и примеры см. в следующих разделах.
* [Непрерывная интеграция и непрерывное развертывание в Azure IoT Edge](how-to-ci-cd.md)
* [Создание конвейера CI/CD для IoT Edge с помощью Azure DevOps Projects](how-to-devops-project.md)
* [Подключаемый модуль Jenkins для Azure IoT Edge](https://plugins.jenkins.io/azure-iot-edge)
* [Репозиторий GitHub IoT Edge DevOps](https://github.com/toolboc/IoTEdge-DevOps)
