---
title: Схема определения облачных служб Azure (классическая модель) (CSCFG-файл) | Документация Майкрософт
description: Файл конфигурации службы (. cscfg) указывает, сколько экземпляров роли следует развернуть для каждой роли, значений конфигурации и отпечатков сертификатов для роли.
ms.topic: article
ms.service: cloud-services
ms.date: 10/14/2020
ms.author: tagore
author: tanmaygore
ms.reviewer: mimckitt
ms.custom: ''
ms.openlocfilehash: ba933d4981fb7ed209a7fb5d5c41113750f312de
ms.sourcegitcommit: 6272bc01d8bdb833d43c56375bab1841a9c380a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2021
ms.locfileid: "98743480"
---
# <a name="azure-cloud-services-classic-config-schema-cscfg-file"></a>Схема конфигурации облачных служб Azure (классическая модель) (CSCFG-файл)

> [!IMPORTANT]
> [Облачные службы Azure (Расширенная поддержка)](../cloud-services-extended-support/overview.md) — это новая модель развертывания на основе Azure Resource Manager для продукта облачных служб Azure.После этого изменения облачные службы Azure, работающие в модели развертывания на основе Service Manager Azure, были переименованы как облачные службы (классические), и все новые развертывания должны использовать [облачные службы (Расширенная поддержка)](../cloud-services-extended-support/overview.md).

Файл конфигурации службы определяет число экземпляров роли, которые развертываются для каждой роли в службе, значения всех параметров конфигурации и отпечатки всех сертификатов, связанных с ролью. Если служба является частью виртуальной сети, нужно указать сведения о конфигурации сети в файле конфигурации службы и в файле конфигурации виртуальной сети. По умолчанию для файла конфигурации службы используется расширение .cscfg.

Модель службы описывается в [схеме определения облачной службы (классический вариант)](schema-csdef-file.md).

По умолчанию файл схемы конфигурации системы диагностики Azure устанавливается в каталог `C:\Program Files\Microsoft SDKs\Windows Azure\.NET SDK\<version>\schemas`. Замените `<version>` установленной версией [пакета SDK для Azure](https://azure.microsoft.com/downloads/).

Дополнительные сведения о настройке ролей для службы см. в статье [Что такое модель облачных служб и как создать ее пакет?](cloud-services-model-and-package.md)

## <a name="basic-service-configuration-schema"></a>Базовая схема конфигурации службы
Ниже приводится базовый формат файла конфигурации службы.

```xml
<ServiceConfiguration serviceName="<service-name>" osFamily="<osfamily-number>" osVersion="<os-version>" schemaVersion="<schema-version>">

  <Role …>
    …
  </Role>

  <NetworkConfiguration>
    …
  </NetworkConfiguration>

</ServiceConfiguration>
```

## <a name="schema-definitions"></a>Определения схем
В следующих статьях описаны схемы для элемента `ServiceConfiguration`:

- [Схема Role](schema-cscfg-role.md)
- [Схема NetworkConfiguration](schema-cscfg-networkconfiguration.md)

## <a name="service-configuration-namespace"></a>Пространство имен для конфигурации службы
Для файла конфигурации диагностики используется пространство имен XML `http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceConfiguration`.

##  <a name="serviceconfiguration-element"></a><a name="ServiceConfiguration"></a> Элемент ServiceConfiguration
Элемент `ServiceConfiguration` занимает верхний уровень в файле конфигурации службы.

В таблице ниже описаны атрибуты элемента `ServiceConfiguration`. Значения всех атрибутов имеют строковый тип.

| attribute | Описание |
| --------- | ----------- |
|serviceName|Обязательный. Имя облачной службы. Указанное здесь имя должно соответствовать имени, указанному в файле определения службы.|
|osFamily|Необязательный элемент. Определяет гостевую ОС, которая будет запускаться на экземплярах ролей в облачной службе. Информацию о поддерживаемых выпусках гостевой ОС вы найдете в [таблице совместимости выпусков гостевых ОС Azure и пакетов SDK](cloud-services-guestos-update-matrix.md).<br /><br /> Если вы не включите значение `osFamily` и не укажете конкретную версию гостевой ОС через атрибут `osVersion`, по умолчанию используется значение 1.|
|osVersion|Необязательный элемент. Определяет версию гостевой ОС, которая будет запускаться на экземплярах ролей в облачной службе. Дополнительную информацию о версиях гостевой ОС вы найдете в [таблице совместимости выпусков гостевых ОС Azure и пакетов SDK](cloud-services-guestos-update-matrix.md).<br /><br /> Вы можете настроить автоматическое обновление гостевой ОС до последней версии. Для этого присвойте атрибуту `osVersion` значение `*`. Если задано значение `*`, экземпляры роли развертываются с последней версией гостевой ОС из указанного семейства ОС, и эти версии автоматически обновляются при выходе новых версий гостевой ОС.<br /><br /> Чтобы вручную указать конкретную версию, используйте `Configuration String` (строку конфигурации) из раздела **о будущих, текущих и переходных версиях гостевой ОС** в [таблице совместимости выпусков гостевых ОС Azure и пакетов SDK](cloud-services-guestos-update-matrix.md).<br /><br /> Для атрибута `osVersion` по умолчанию используется значение `*`.|
|schemaVersion|Необязательный элемент. Указывает версию схемы конфигурации службы. Версия схемы позволяет Visual Studio выбрать правильные средства пакета SDK для использования при проверке схемы, если установлено одновременно несколько версий пакета SDK. Дополнительную информацию о схеме и совместимости версий вы найдете в [таблице совместимости выпусков гостевых ОС Azure и пакетов SDK](cloud-services-guestos-update-matrix.md).|

Файл конфигурации службы должен содержать один элемент `ServiceConfiguration`. Элемент `ServiceConfiguration` может содержать любое количество элементов `Role` и не более одного элемента `NetworkConfiguration`.