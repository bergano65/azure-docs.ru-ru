---
title: Настройка личного домена в Статических веб-приложениях Azure
description: Сведения о сопоставлении личного домена со Статическими веб-приложениями Azure
services: static-web-apps
author: burkeholland
ms.service: static-web-apps
ms.topic: conceptual
ms.date: 05/08/2020
ms.author: buhollan
ms.openlocfilehash: 8425c2c1f653d874d24053a12d511c64a3b9ee9d
ms.sourcegitcommit: fdec8e8bdbddcce5b7a0c4ffc6842154220c8b90
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83655238"
---
# <a name="setup-a-custom-domain-in-azure-static-web-apps-preview"></a>Настройка личного домена в предварительной версии Статических веб-приложений Azure

По умолчанию Статические веб-приложения Azure предоставляют автоматически созданное доменное имя. В этой статье показано, как сопоставлять имя личного домена с приложением Статических веб-приложений Azure.

## <a name="prerequisites"></a>Предварительные требования

- Имя приобретенного домена.
- Доступ к свойствам конфигурации DNS для вашего домена.

При настройке доменных имен записи "A" используются для сопоставления корневых доменов (например, `example.com`) с IP-адресом. Корневые домены должны быть напрямую сопоставлены с IP-адресом, так как спецификация DNS не разрешает сопоставление одного домена с другим.

## <a name="dns-configuration-options"></a>Параметры конфигурации DNS

Существует несколько различных типов конфигураций DNS, доступных для приложения.

| Если требуется                            | То                                                |
| ----------------------------------------- | --------------------------------------------------- |
| Включена поддержка `www.example.com`.                 | [Сопоставьте запись CNAME](#map-a-cname-record).           |
| Включена поддержка `example.com`.                     | [Настройте корневой домен](#configure-a-root-domain) |
| Направить все поддомены по адресу `www.example.com` | [Сопоставьте подстановочный знак](#map-a-wildcard-domain)                   |

## <a name="map-a-cname-record"></a>Сопоставление записи CNAME

Запись CNAME сопоставляет один домен с другим. Запись CNAME можно использовать для сопоставления `www.example.com` с автоматически созданным доменом, предоставляемым Статическими веб-приложениями Azure.

1. Откройте [портал Azure](https://portal.azure.com) и войдите в систему, используя свою учетную запись Azure.

1. Найдите и выберите **Статические веб-приложения**.

1. На странице _Статистические веб-приложения_ выберите имя приложения.

1. В меню выберите **Личные домены**.

1. В окне _Личные домены_ скопируйте URL-адрес в поле **Значение**.

### <a name="configure-dns-provider"></a>Настройка поставщика DNS

1. Войдите на веб-сайт своего поставщика домена.

2. Найдите страницу управления записями DNS. Каждый поставщик домена имеет свой собственный интерфейс записей DNS, поэтому вам следует обратиться к документации поставщика. Найдите области сайта, обозначенные как **Имя домена**, **DNS** или **Name Server Management** (Управление сервером доменных имен).

3. Часто страницу записей DNS можно найти, открыв сведения о своей учетной записи и найдя такую ссылку, как **Мои домены**. Перейдите на эту страницу и найдите ссылку с именем наподобие **Файл зоны**, **Записи DNS** или **Расширенная конфигурация**.

    На снимке экрана ниже показан пример страницы с записями DNS:

    :::image type="content" source="media/custom-domain/example-record-ui.png" alt-text="Пример конфигурации поставщика DNS":::

4. Создайте запись **CNAME** со следующими значениями…

    | Параметр             | Значение                     |
    | ------------------- | ------------------------- |
    | Тип                | CNAME                     |
    | Узел                | www                       |
    | Значение               | Вставьте из буфера обмена |
    | TTL (если применимо) | Оставьте значение по умолчанию    |

5. Сохраните изменения в поставщике DNS.

### <a name="validate-cname"></a>Проверка CNAME

1. Вернитесь в окно _Личные домены_ на портале Azure.

1. Введите домен, в том числе часть `www` в разделе _Проверка пользовательского домена_.

1. Нажмите кнопку **Проверить**.

Теперь, когда личный домен настроен, поставщику DNS может потребоваться несколько часов для распространения изменений по всему миру. Состояние распространения можно проверить, перейдя по адресу [dnspropagation.net](https://dnspropagation.net). Введите личный домен, включая `www`, выберите CNAME из раскрывающегося списка и выберите **Запустить**.

Если изменения DNS были заполнены, веб-сайт возвращает автоматически созданный URL-адрес Статического веб-приложения (например, _random-name-123456789c.azurestaticapps.net_).

## <a name="configure-a-root-domain"></a>Настройка корневого домена

Корневые домены — это ваш домен без поддоменов, в том числе `www`. Например, корневой домен для `www.example.com` это `example.com`. Его также называют доменом APEX.

Пока поддержка корневого домена недоступна в предварительной версии, вы можете просмотреть [эту запись блога](https://burkeholland.github.io/posts/static-app-root-domain) для получения дополнительных сведений о настройке поддержки корневого домена с помощью Статического веб-приложения.

## <a name="map-a-wildcard-domain"></a>Сопоставление домена с подстановочными знаками

Иногда требуется, чтобы весь трафик, отправляемый в поддомен, направлялся в другой домен. Распространенным примером является сопоставление всего трафика поддомена с `www.example.com`. Таким образом, даже если кто-то вводит `w.example.com` вместо `www.example.com`, запрос отправляется в `www.example.com`.

### <a name="configure-dns-provider"></a>Настройка поставщика DNS

1. Войдите на веб-сайт своего поставщика домена.

2. Найдите страницу управления записями DNS. Каждый поставщик домена имеет свой собственный интерфейс записей DNS, поэтому вам следует обратиться к документации поставщика. Найдите области сайта, обозначенные как **Имя домена**, **DNS** или **Name Server Management** (Управление сервером доменных имен).

3. Часто страницу записей DNS можно найти, открыв сведения о своей учетной записи и найдя такую ссылку, как **Мои домены**. Перейдите на эту страницу и найдите ссылку с именем наподобие **Файл зоны**, **Записи DNS** или **Расширенная конфигурация**.

    На снимке экрана ниже показан пример страницы с записями DNS:

    :::image type="content" source="media/custom-domain/example-record-ui.png" alt-text="Пример конфигурации поставщика DNS":::

4. Создайте запись **CNAME** со следующими значениями, заменив `www.example.com` именем личного домена.

    | Параметр | Значение                  |
    | ------- | ---------------------- |
    | Тип    | CNAME                  |
    | Узел    | \*                     |
    | Значение   | www.example.com        |
    | Срок жизни     | Оставьте значение по умолчанию |

5. Сохраните изменения в поставщике DNS.

Теперь, когда домен с подстановочным знаком настроен, для распространения изменений по всему миру может потребоваться несколько часов. Состояние распространения можно проверить, перейдя по адресу [dnspropagation.net](https://dnspropagation.net). Введите личный домен с любым поддоменом (кроме `www`), выберите CNAME из раскрывающегося списка и щелкните **Запустить**.

Если изменения DNS были заполнены, веб-сайт возвращает личный домен, настроенный для Статического веб-приложения (например, `www.example.com`).

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Настройка параметров приложения](application-settings.md)
