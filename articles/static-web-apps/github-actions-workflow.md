---
title: –†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã GitHub Actions –¥–ª—è –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Azure
description: –°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö Azure.
services: static-web-apps
author: craigshoemaker
ms.service: static-web-apps
ms.topic: conceptual
ms.date: 05/08/2020
ms.author: cshoe
ms.openlocfilehash: acdb635dec5abd73341cc1dda4991b58b82a18c0
ms.sourcegitcommit: 1f1d29378424057338b246af1975643c2875e64d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2021
ms.locfileid: "99574522"
---
# <a name="github-actions-workflows-for-azure-static-web-apps-preview"></a>–†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã GitHub Actions –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Azure

Azure —Å–æ–∑–¥–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å GitHub Actions –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–∞ –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Azure. –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º YAML. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∞–π–ª–∞ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç—Å—è [—Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏](#triggers), –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç [–∑–∞–¥–∞–Ω–∏—è](#jobs), –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ [—à–∞–≥–∞–º–∏](#steps).

## <a name="file-location"></a>–†–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

–ü—Ä–∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub —Å–æ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Azure —Ñ–∞–π–ª —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ß—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ GitHub.
1. –ù–∞ –≤–∫–ª–∞–¥–∫–µ _Code_ (–ö–æ–¥) —â–µ–ª–∫–Ω–∏—Ç–µ –ø–∞–ø–∫—É `.github/workflows`.
1. –©–µ–ª–∫–Ω–∏—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `azure-static-web-apps-<RANDOM_NAME>.yml`.

–§–∞–π–ª YAML –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```yml
name: Azure Static Web Apps CI/CD

on:
  push:
    branches:
    - main
  pull_request:
    types: [opened, synchronize, reopened, closed]
    branches:
    - main

jobs:
  build_and_deploy_job:
    if: github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.action != 'closed')
    runs-on: ubuntu-latest
    name: Build and Deploy Job
    steps:
    - uses: actions/checkout@v2
      with:
        submodules: true
    - name: Build And Deploy
      id: builddeploy
      uses: Azure/static-web-apps-deploy@v0.0.1-preview
      with:
        azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_MANGO_RIVER_0AFDB141E }}
        repo_token: ${{ secrets.GITHUB_TOKEN }} # Used for GitHub integrations (i.e. PR comments)
        action: 'upload'
        ###### Repository/Build Configurations - These values can be configured to match you app requirements. ######
        app_location: '/' # App source code path
        api_location: 'api' # Api source code path - optional
        output_location: 'dist' # Built app content directory - optional
        ###### End of Repository/Build Configurations ######

  close_pull_request_job:
    if: github.event_name == 'pull_request' && github.event.action == 'closed'
    runs-on: ubuntu-latest
    name: Close Pull Request Job
    steps:
    - name: Close Pull Request
      id: closepullrequest
      uses: Azure/static-web-apps-deploy@v0.0.1-preview
      with:
        azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_MANGO_RIVER_0AFDB141E }}
        action: 'close'
```

## <a name="triggers"></a>–¢—Ä–∏–≥–≥–µ—Ä—ã

[–¢—Ä–∏–≥–≥–µ—Ä](https://help.github.com/actions/reference/events-that-trigger-workflows) GitHub Actions —Å–æ–æ–±—â–∞–µ—Ç —Ä–∞–±–æ—á–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É GitHub Actions, —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ —Å–æ–±—ã—Ç–∏–π. –¢—Ä–∏–≥–≥–µ—Ä—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤–∞ `on` –≤ —Ñ–∞–π–ª–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

```yml
on:
  push:
    branches:
    - main
  pull_request:
    types: [opened, synchronize, reopened, closed]
    branches:
    - main
```

–° –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–æ —Å–≤–æ–π—Å—Ç–≤–æ–º `on`, –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –≤–µ—Ç–≤–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç –∑–∞–¥–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ –∑–∞–¥–∞—Ç—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ.

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ _–æ—Å–Ω–æ–≤–Ω–æ–π_ –≤–µ—Ç–≤–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫–∞—é—â–∏–µ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–∏–∫—Å–∞—Ü–∏–π –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ç–≤–∏.

## <a name="jobs"></a>–ó–∞–¥–∞–Ω–∏—è

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞ —Å–æ–±—ã—Ç–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π. [–ó–∞–¥–∞–Ω–∏—è](https://help.github.com/actions/reference/workflow-syntax-for-github-actions#jobs) –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–æ–±—ã—Ç–∏—è.

–í —Ñ–∞–π–ª–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –µ—Å—Ç—å –¥–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è.

| –ò–º—è  | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
|`build_and_deploy_job` | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–∏–∫—Å–∞—Ü–∏–π –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –¥–ª—è –≤–µ—Ç–≤–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ —Å–≤–æ–π—Å—Ç–≤–µ `on`. |
|`close_pull_request_job` | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Å—Ä–µ–¥—É, —Å–æ–∑–¥–∞–Ω–Ω—É—é –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. |

## <a name="steps"></a>–®–∞–≥–∏

–®–∞–≥–∏¬†‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∑–∞–¥–∞–Ω–∏—è. –° –ø–æ–º–æ—â—å—é —à–∞–≥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ.

–§–∞–π–ª —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏.

| –ó–∞–¥–∞–Ω–∏–µ  | –®–∞–≥–∏  |
|---------|---------|
| `build_and_deploy_job` |<ol><li>–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —Å—Ä–µ–¥–µ GitHub Actions.<li>–°–æ–∑–¥–∞–µ—Ç –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö Azure.</ol>|
| `close_pull_request_job` | <ol><li>–£–≤–µ–¥–æ–º–ª—è–µ—Ç –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Azure –æ —Ç–æ–º, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç.</ol>|

## <a name="build-and-deploy"></a>–°–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–®–∞–≥ —Å –∏–º–µ–Ω–µ–º `Build and Deploy` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–±–æ—Ä–∫—É –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Azure. –í —Ä–∞–∑–¥–µ–ª–µ `with` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

```yml
with:
    azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_MANGO_RIVER_0AFDB141E }}
    repo_token: ${{ secrets.GITHUB_TOKEN }} # Used for GitHub integrations (i.e. PR comments)
    action: 'upload'
    ###### Repository/Build Configurations - These values can be configured to match you app requirements. ######
    app_location: '/' # App source code path
    api_location: 'api' # Api source code path - optional
    output_location: 'dist' # Built app content directory - optional
    ###### End of Repository/Build Configurations ######
```

| –°–≤–æ–π—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|---|---|---|
| `app_location` | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.<br><br>–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–µ–¥–∏—Ç–µ `/`, –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∏–ª–∏ `/app`, –µ—Å–ª–∏ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –∏–º–µ–Ω–µ–º `app`. | –î–∞ |
| `api_location` | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–¥–∞ –§—É–Ω–∫—Ü–∏–π Azure.<br><br>–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–µ–¥–∏—Ç–µ `/api`, –µ—Å–ª–∏ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ —Å –∏–º–µ–Ω–µ–º `api`. –ï—Å–ª–∏ –≤ –ø–∞–ø–∫–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π Azure, —Ç–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–±–æ–π, –∏ –≤ —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API. | –Ω–µ—Ç |
| `output_location` | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–±–æ—Ä–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `app_location`.<br><br>–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/app`, –∞ —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–±–æ—Ä–∫–∏ –≤—ã–≤–æ–¥–∏—Ç —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `/app/build`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `build` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è `output_location`. | –Ω–µ—Ç |

–ó–Ω–∞—á–µ–Ω–∏—è `repo_token`, `action` –∏ `azure_static_web_apps_api_token`, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Azure, –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.

## <a name="custom-build-commands"></a>–ö–æ–º–∞–Ω–¥—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π —Å–±–æ—Ä–∫–∏

–í—ã –º–æ–∂–µ—Ç–µ —Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. –°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ –∑–∞–¥–∞–Ω–∏—è `with`.

–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `npm install`.

| Get-Help            | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------------|-------------|
| `app_build_command` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–æ–º–∞–Ω–¥—É, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.<br><br>–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—á—É—é —Å–±–æ—Ä–∫—É –¥–ª—è —É–≥–ª–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π NPM —Å –∏–º–µ–Ω–µ–º `build-prod` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `ng build --prod` –∏ –≤–≤–µ–¥–∏—Ç–µ –≤ `npm run build-prod` –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–º–∞–Ω–¥—ã. –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º, —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `npm run build` –∏–ª–∏ `npm run build:Azure`.  |
| `api_build_command` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–æ–º–∞–Ω–¥—É, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è API –§—É–Ω–∫—Ü–∏–π Azure. |

## <a name="route-file-location"></a>–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –º–∞—Ä—à—Ä—É—Ç–∞

–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–∞ [routes.json](routes.md) –≤ –ª—é–±–æ–π –ø–∞–ø–∫–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –°–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ –∑–∞–¥–∞–Ω–∏—è `with`.

| –°–≤–æ–π—Å—Ç–≤–æ            | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------------|-------------|
| `routes_location` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª _routes.json_. –≠—Ç–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–∞–¥–∞–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. |

 –Ø–≤–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ _routes.json_ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ, –µ—Å–ª–∏ —à–∞–≥ —Å–±–æ—Ä–∫–∏ –≤–Ω–µ—à–Ω–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ `output_location` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## <a name="environment-variables"></a>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è `env` —Ä–∞–∑–¥–µ–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏—è.

```yaml
jobs:
  build_and_deploy_job:
    if: github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.action != 'closed')
    runs-on: ubuntu-latest
    name: Build and Deploy Job
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: true
      - name: Build And Deploy
        id: builddeploy
        uses: Azure/static-web-apps-deploy@v0.0.1-preview
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN }}
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          action: "upload"
          ###### Repository/Build Configurations
          app_location: "/"
          api_location: "api"
          output_location: "public"
          ###### End of Repository/Build Configurations ######
        env: # Add environment variables here
          HUGO_VERSION: 0.58.0
```

## <a name="monorepo-support"></a>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –≤–∏–¥–µ ¬´–∑–∞¬ª

–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö ‚Äî —ç—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ —Å–ª—É—á–∞–µ —Å –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –∫–∞–∂–¥—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—è–¥–æ–º –≤ –ø–∞–ø–∫–µ *. git* —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

```files
‚îú‚îÄ‚îÄ .git
‚îÇ   ‚îú‚îÄ‚îÄ azure-static-web-apps-purple-pond.yml
‚îÇ   ‚îî‚îÄ‚îÄ azure-static-web-apps-yellow-shoe.yml
‚îÇ
‚îú‚îÄ‚îÄ app1  üëâ controlled by: azure-static-web-apps-purple-pond.yml
‚îú‚îÄ‚îÄ app2  üëâ controlled by: azure-static-web-apps-yellow-shoe.yml
‚îÇ
‚îú‚îÄ‚îÄ api1  üëâ controlled by: azure-static-web-apps-purple-pond.yml
‚îú‚îÄ‚îÄ api2  üëâ controlled by: azure-static-web-apps-yellow-shoe.yml
‚îÇ
‚îî‚îÄ‚îÄ readme.md
```

–ß—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ñ–∞–π–ª —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç–∏ –≤ `push` `pull_request` —Ä–∞–∑–¥–µ–ª–∞—Ö –∏.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å `paths` —É–∑–µ–ª –≤ `push` `pull_request` —Ä–∞–∑–¥–µ–ª—ã –∏ —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º _–ê–∑—É—Ä–µ-–°—Ç–∞—Ç–∏–∫-–≤–µ–±-–ê–ü–ü–°-–ø—É—Ä–ø–ª–µ-–ü–æ–Ω–¥. yml_.

```yml
on:
  push:
    branches:
      - main
    paths:
      - app1/**
      - api1/**
      - .github/workflows/azure-static-web-apps-purple-pond.yml
  pull_request:
    types: [opened, synchronize, reopened, closed]
    branches:
      - main
    paths:
      - app1/**
      - api1/**
      - .github/workflows/azure-static-web-apps-purple-pond.yml
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª—ã —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤, –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç –Ω–æ–≤—É—é —Å–±–æ—Ä–∫—É:

- –í—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ *APP1*
- –í—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ *api1*
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ *–ê–∑—É—Ä–µ-–°—Ç–∞—Ç–∏–∫-–≤–µ–±-–ê–ü–ü–°-–ø—É—Ä–ø–ª–µ-–ü–æ–Ω–¥. yml* –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## <a name="next-steps"></a>–î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

> [!div class="nextstepaction"]
> [–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö](review-publish-pull-requests.md)
