---
title: Устранение неполадок — QnA Maker
description: Проверенный список наиболее часто задаваемых вопросов о службе QnA Maker поможет вам быстрее приработать службу и с лучшими результатами.
ms.topic: troubleshooting
ms.date: 03/25/2020
ms.openlocfilehash: 50823e29eb5c276c00a1c8f0e3227ec67999a703
ms.sourcegitcommit: 11e2521679415f05d3d2c4c49858940677c57900
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2020
ms.locfileid: "87502585"
---
# <a name="troubleshooting-for-qna-maker"></a>Устранение неполадок для QnA Maker

Проверенный список наиболее часто задаваемых вопросов о службе QnA Maker поможет вам быстрее приработать службу и с лучшими результатами.

<a name="how-to-get-the-qnamaker-service-hostname"></a>

## <a name="manage-predictions"></a>Управление прогнозами

<details>
<summary><b>Как повысить пропускную способность для прогнозов запросов?</b></summary>

**Ответ**. проблемы с производительностью пропускной способности указывают на необходимость масштабирования для службы приложений и когнитивный Поиск. Рассмотрите возможность добавления реплики в Когнитивный поиск для повышения производительности.

Дополнительные сведения о [ценовых](Concepts/azure-resources.md)категориях.
</details>

<details>
<summary><b>Как получить конечную точку службы QnAMaker</b></summary>

**Ответ**. Конечная точка службы QnAMaker полезна в целях отладки при обращении в службу поддержки QnAMaker или UserVoice. Конечная точка является URL-адресом в следующем формате: `https://your-resource-name.azurewebsites.net` .

1. Перейдите к службе QnA Maker (группе ресурсов) на [портале Azure](https://portal.azure.com).

    ![Группа ресурсов Azure для QnAMaker на портале Azure](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-resourcegroup.png)

1. Выберите службу приложений, связанную с ресурсом QnA Maker. Как правило, имена совпадают.

     ![Выберите службу приложений QnAMaker](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-appservice.png)

1. URL-адрес конечной точки доступен в разделе "Обзор"

    ![Конечная точка QnAMaker](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-gethostname.png)

</details>

## <a name="manage-the-knowledge-base"></a>Управление базой знаний

<details>
<summary><b>Была случайно удалена часть службы QnA Maker. Что теперь делать?</b></summary>

**Ответ**. не удаляйте ни одну из служб Azure, созданных вместе с QnA Makerным ресурсом, таким как поиск или веб-приложение. Они необходимы для работы QnA Maker. Если удалить ее, QnA Maker перестанет работать правильно.

Все операции удаления являются безвозвратными, включая удаление пар вопросов и ответов, файлов, URL-адресов, пользовательских вопросов и ответов, баз знаний или ресурсов Azure. Убедитесь, что база знаний была экспортирована на странице **Параметры**, прежде чем удалять часть базы знаний.

</details>

<details>
<summary><b>Почему для указанных мной URL-адресов или файлов не извлекаются пары "вопрос — ответ"?</b></summary>

**Ответ**. возможно, QnA Maker не может выполнить автоматическое извлечение некоторого содержимого вопроса и ответа (QnA) из допустимых URL-адресов часто задаваемых вопросов. В таких случаях поместите нужное содержимое в TXT-файл и проверьте, сможет ли средство извлечь содержимое в таком формате. Кроме того, вы можете использовать интерфейс редактора для добавления содержимого в базу знаний на [портале QnA Maker](https://qnamaker.ai).

</details>

<details>
<summary><b>Базу данных какого размера можно создать?</b></summary>

**Ответ**. размер базы знаний зависит от номера SKU поиска Azure, выбранного при создании службы QnA Maker. Дополнительные сведения см. [здесь](./Tutorials/choosing-capacity-qnamaker-deployment.md).

</details>

<details>
<summary><b>Почему ничего не отображается в раскрывающемся списке, когда я пытаюсь создать базу знаний?</b></summary>

**Ответ**. вы еще не создали службы QnA Maker в Azure. Щелкните [здесь](./How-To/set-up-qnamaker-service-azure.md), чтобы узнать, как это сделать.

</details>

<details>
<summary><b>Как поделиться базой знаний с другими пользователями?</b></summary>

**Ответ**. Общий доступ работает на уровне службы QnA Maker, то есть все базы знаний в службе будут совместно использоваться. [Здесь](./How-To/collaborate-knowledge-base.md) подробно описана совместная работа над базой знаний.

</details>

<details>
<summary><b>Можно ли предоставить базу знаний для редактирования участнику, который находится в другом клиенте AAD?</b></summary>

**Ответ**. Общий доступ основан на управлении доступом на основе ролей в Azure (Azure RBAC). Если вы можете предоставить общий доступ к _любому_ ресурсу в Azure другому пользователю, вы можете сделать то же самое с QnA Maker.

</details>

<details>
<summary><b>Если у вас есть план службы приложений с 5 базами знаний QnAMaker. Можно ли назначить права на чтение и запись для 5 разных пользователей, чтобы каждый из них мог получить доступ только к одной базе знаний QnAMaker?</b></summary>

**Ответ**. Вы можете поделиться всей службой QnAMaker, а не отдельными базами знаний.

</details>

<details>
<summary><b>Как изменить сообщение, которое отображается по умолчанию при отсутствии подходящего совпадения?</b></summary>

**Ответ**. сообщение по умолчанию является частью параметров в службе приложений.
- Перейдите к ресурсу службы приложений на портале Azure.

![Служба приложений QnA Maker](./media/qnamaker-faq/qnamaker-resource-list-appservice.png)
- Щелкните элемент **Параметры**.

![Параметры службы приложений QnA Maker](./media/qnamaker-faq/qnamaker-appservice-settings.png)
- Измените значение параметра **DefaultAnswer**.
- Перезапустите службу приложений.

![Перезапуск службы приложений QnA Maker](./media/qnamaker-faq/qnamaker-appservice-restart.png)


</details>

<details>
<summary><b>Почему ничего не извлекается по ссылке на SharePoint?</b></summary>

**Ответ**. Дополнительные сведения см. в разделе [расположения источников данных](./Concepts/knowledge-base.md#data-source-locations) .

</details>

<details>
<summary><b>Обновления, внесенные в мою базу знаний, не отражаются на публикации. Почему бы нет?</b></summary>

**Ответ**. Каждая операция изменения, будь то обновление таблицы, тест или параметр, должна быть сохранена перед публикацией. Не забудьте нажать кнопку **сохранить и обучить** после каждой операции редактирования.

</details>

<details>
<summary><b>Поддерживает ли база знаний форматированные данные или мультимедиа?</b></summary>

**Ответ**.

#### <a name="multimedia-auto-extraction-for-files-and-urls"></a>Автоматическое извлечение файлов и URL-адресов в мультимедиа

* URL-адреса — возможность преобразования "HTML-Markdown" ограничена.
* Файлы — не поддерживаются

#### <a name="answer-text-in-markdown"></a>Текст ответа в Markdown
После того как пары QnA находятся в базе знаний, текст Markdown ответа можно изменить, включив в него ссылки на носитель, доступный по общедоступным URL-адресам.


</details>

<details>
<summary><b>Поддерживает ли QnA Maker языки, отличные от английского?</b></summary>

**Ответ**. см. Дополнительные сведения о [поддерживаемых языках](./Overview/languages-supported.md).

Если у вас есть содержимое на нескольких языках, обязательно создайте отдельную службу для каждого языка.

</details>

## <a name="manage-service"></a>Управление службой

<details>
<summary><b>Когда следует перезапустить службу приложений?</b></summary>

**Ответ**. Обновите службу приложений, когда значок предупреждения рядом со значением версия для базы знаний в таблице **ключи конечных точек** на [странице](https://www.qnamaker.ai/UserSettings) **Параметры пользователя** .

</details>

<details>
<summary><b>Моя существующая служба поиска удалена. Как это исправить?</b></summary>

**Ответ**. Если вы удалите индекс Azure когнитивный Поиск, операция является окончательной и индекс не может быть восстановлен.

</details>

<details>
<summary><b>Я удалил `testkb` индекс в службе поиска. Как это исправить?</b></summary>

**Ответ**. старые данные невозможно восстановить. Создайте новый ресурс QnA Maker и снова создайте базу знаний.

</details>

<details>
<summary><b>Когда мне нужно обновить ключи конечной точки?</b></summary>

**Ответ**. Обновите ключи конечных точек, если вы подозреваете, что они были скомпрометированы.

</details>

<details>
<summary><b>Можно ли использовать один и тот же ресурс Azure Когнитивный поиск для баз знаний с несколькими языками?</b></summary>

**Ответ**. для использования нескольких языков и нескольких баз знаний пользователь должен создать ресурс QnA Maker для каждого языка. При этом будет создана отдельная служба поиска Azure для каждого языка. Сочетание баз знаний на нескольких языках в одной службе поиска Azure приведет к снижению релевантности результатов.

</details>

<details>
<summary><b>Как изменить имя ресурса Azure Когнитивный поиск, используемого QnA Maker?</b></summary>

**Ответ**. имя ресурса Azure когнитивный Поиск — это имя ресурса QnA Maker, к которому добавляются случайные буквы, добавленные в конец. Из-за этого QnA Maker трудно различить несколько ресурсов службы "Поиск". Создайте отдельную службу поиска (наименовать ее как нужно) и подключите ее к службе QnA. Шаги аналогичны действиям, которые необходимо выполнить для [обновления службы поиска Azure](How-To/set-up-qnamaker-service-azure.md#upgrade-the-azure-cognitive-search-service).

</details>

<details>
<summary><b>Когда QnA Maker возвращает, `Runtime core is not initialized,` как исправить это?</b></summary>

**Ответ**. место на диске для службы приложений может быть заполнено. Действия по исправлению дискового пространства:

1. В [портал Azure](https://portal.azure.com)выберите службу приложений QnA Maker, а затем закройте службу.
1. Находясь в службе приложений, выберите **средства разработки**, затем **Дополнительные инструменты**, а затем **перейдите**. Откроется новое окно браузера.
1. Выберите **консоль отладки**, а затем **cmd** , чтобы открыть программу командной строки.
1. Перейдите в каталог _site/wwwroot/Data/QnAMaker/_ Directory.
1. Удалите все папки, имена которых начинаются с `rd` .

    **Не удаляйте** следующие:

    * Файл KbIdToRankerMappings.txt
    * EndpointSettings.jsв файле
    * Папка Ендпоинткэйс

1. Запустите службу приложений.
1. Получите доступ к базе знаний, чтобы проверить, работает ли она сейчас.

</details>

## <a name="integrate-with-other-services-including-bots"></a>Интеграция с другими службами, в том числе ботами

<details>
<summary><b>Нужна ли платформа Bot Framework для использования QnA Maker?</b></summary>

**Ответ**. нет, не нужно использовать [платформу Bot](https://github.com/Microsoft/botbuilder-dotnet) с QnA Maker. Однако QnA Maker предлагается как один из нескольких шаблонов в [службе Azure Bot](https://docs.microsoft.com/azure/bot-service/?view=azure-bot-service-4.0). Служба Azure Bot позволяет быстро разрабатывать интеллектуальные боты на платформе Microsoft Bot Framework, которые выполняются в бессерверной среде.

</details>

<details>
<summary><b>Как создать новый робот с QnA Maker?</b></summary>

**Ответ**. Следуйте инструкциям в [этой](./Quickstarts/create-publish-knowledge-base.md) документации, чтобы создать программу Bot с помощью службы Azure Bot.

</details>

<details>
<summary><b>Разделы справки использовать другую базу знаний с существующей службой Azure Bot?</b></summary>

**Ответ**. необходимо иметь следующие сведения о базе знаний:

* Идентификатор базы знаний.
* Имя пользовательского поддомена опубликованной конечной точки базы знаний, известное как `host` , найдено на странице **параметров** после публикации.
* Опубликованный ключ конечной точки базы знаний — находится на странице **параметров** после публикации.

Используя эти сведения, перейдите в службу приложений Bot в портал Azure. В разделе **Параметры — > конфигурация — > параметры приложения**измените эти значения.

Ключ конечной точки базы знаний помечается `QnAAuthkey` в службе ABS.

</details>

<details>
<summary><b>Может ли два или больше клиентских приложений совместно использовать базу знаний?</b></summary>

**Ответ**. Да, база знаний может запрашиваться с любого числа клиентов. Если ответ базы знаний оказывается слишком длительным или истекает, рассмотрите возможность обновления уровня служб для службы приложений, связанной с базой знаний.

</details>

<details>
<summary><b>Как внедрить службу QnA Maker в веб-сайт?</b></summary>

**Ответ**. выполните следующие действия, чтобы внедрить QnA Makerную службу в качестве элемента управления веб-разговора на веб-сайте:

1. Создайте бота вопросов и ответов, следуя [этим](./Quickstarts/create-publish-knowledge-base.md) инструкциям.
2. Включите веб-чат, выполнив шаги из [этой статьи](https://docs.microsoft.com/azure/bot-service/bot-service-channel-connect-webchat).

</details>

## <a name="data-storage"></a>Хранилище данных

<details>
<summary><b>Какие данные сохраняются и где они хранятся?</b></summary>

**Ответ**.

При создании службы QnA Maker вы указываете регион Azure. Базы знаний и файлы журналов хранятся в этом регионе.

</details>