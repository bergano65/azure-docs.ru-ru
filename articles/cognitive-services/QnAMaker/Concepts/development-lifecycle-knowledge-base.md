---
title: Время существования базы знаний в QnA Maker
description: QnA Maker лучше всего обучается на итеративных циклах изменения моделей, примерах высказываний, публикации содержимого и сборе данных из запросов к конечным точкам.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: conceptual
ms.date: 09/01/2020
ms.openlocfilehash: e52e7151bc30a19bd6f6041d52effdd799a87c99
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "91776975"
---
# <a name="knowledge-base-lifecycle-in-qna-maker"></a>Время существования базы знаний в QnA Maker
QnA Maker лучше всего обучается на итеративных циклах изменения моделей, примерах высказываний, публикации содержимого и сборе данных из запросов к конечным точкам.

![Цикл разработки](../media/qnamaker-concepts-lifecycle/kb-lifecycle.png)

## <a name="creating-a-qna-maker-knowledge-base"></a>Создание базы знаний QnA Maker
Конечная точка базы знаний QnA Maker предоставляет наиболее точный ответ на запрос пользователя на основании содержимого базы знаний. Создание базы знаний — это одноразовое действие по настройке репозитория содержимого вопросов, ответов и связанных метаданных. Базу знаний можно создать путем обхода уже существующего содержимого, например следующих источников:

- страницы часто задаваемых вопросов;
- Руководства по продукции
- Пары Q-A

Узнайте, как [создать базу знаний](../quickstarts/create-publish-knowledge-base.md).

## <a name="testing-and-updating-the-knowledge-base"></a>Тестирование и обновление базы знаний

База знаний готова к тестированию после ее заполнения содержимым. Заполнение содержимым может быть выполнено редактором или средством автоматического извлечения. Интерактивное тестирование можно выполнить на портале QnA Maker на панели " **тест** ". Вы вводите Общие пользовательские запросы. Затем убедитесь, что ответы возвращены с правильным ответом и достаточной оценку достоверности.


* **Чтобы устранить результаты низкой достоверности**, добавьте альтернативные вопросы.
* **Если запрос неправильно возвращает [ответ по умолчанию](../How-to/change-default-answer.md)**: добавить новые ответы на правильный вопрос.

Этот непрерывный цикл проверок и изменений продолжается, пока вы не будете удовлетворены результатами. Узнайте, как [проверить базу знаний](../How-To/test-knowledge-base.md).

Для крупных KBs используйте автоматическое тестирование с помощью [API женератеансвер](../how-to/metadata-generateanswer-usage.md#get-answer-predictions-with-the-generateanswer-api) и `isTest` свойства Body, которое запрашивает `test` базу знаний вместо опубликованной базы знаний.

```json
{
  "question": "example question",
  "top": 3,
  "userId": "Default",
  "isTest": true
}
```

## <a name="publish-the-knowledge-base"></a>Публикация базы знаний
После завершения тестирования базу знаний можно опубликовать. Publish отправляет последнюю версию проверенной базы знаний в выделенный индекс Azure Когнитивный поиск, представляющий **опубликованную** базу знаний. Кроме того, создается конечная точка, которая может быть вызвана в приложении или чат-боте.

Из-за действия публикации любые дальнейшие изменения, внесенные в тестовую версию базы знаний, не затрагивают опубликованную версию. Опубликованная версия может находиться в рабочем приложении.

Каждую из этих баз знаний можно тестировать отдельно. С помощью API можно выбрать тестовую версию базы знаний с помощью `isTest` свойства Body в вызове женератеансвер.

Узнайте, как [опубликовать базу знаний](../Quickstarts/create-publish-knowledge-base.md#publish-the-knowledge-base).

## <a name="monitor-usage"></a>Мониторинг использования
Чтобы иметь возможность вести журналы чата службы, необходимо включить Application Insights при [создании службы QnA Maker](../How-To/set-up-qnamaker-service-azure.md).

Таким образом можно получать различные аналитические данные об использовании этой службы. Узнайте больше о том, как использовать Application Insights для получения [аналитических данных по службе QnA Maker](../How-To/get-analytics-knowledge-base.md).

Исходя из результатов анализа вы можете внести соответствующие [изменения в базу знаний](../How-To/edit-knowledge-base.md).

## <a name="version-control-for-data-in-your-knowledge-base"></a>Управление версиями для данных в базе знаний

Управление версиями данных осуществляется с помощью функций импорта и экспорта на странице **Параметры** на портале QnA Maker.

Можно создать резервную копию базы знаний, экспортировав базу знаний в любом `.tsv` `.xls` формате или. После экспорта включите этот файл как часть обычной проверки системы управления версиями.

Если необходимо вернуться к определенной версии, необходимо импортировать этот файл из локальной системы. Экспортированную базу знаний **следует** использовать только с помощью импорта на странице **Параметры** . Его нельзя использовать в качестве источника данных файла или URL-адреса документа. Это приведет к замене вопросов и ответов, находящихся в базе знаний, на содержимое импортированного файла.

## <a name="test-and-production-knowledge-base"></a>База знаний тестирования и рабочей базы
База знаний — это хранилище вопросов и наборов ответов, созданных, обслуживаемых и используемых с помощью QnA Maker. Каждый ресурс QnA Maker может содержать несколько баз знаний.

База знаний имеет два состояния: *тестирование* и *Публикация*.

### <a name="test-knowledge-base"></a>Тестирование базы знаний

*База знаний тестирования* — это версия, которая сейчас редактируется и сохраняется. Тестовая версия проверена на точность и полнота ответов. Изменения, вносимые в базу знаний тестирования, не влияют на конечного пользователя приложения или чата. База знаний теста называется `test` в HTTP-запросе. Эти `test` знания доступны в области интерактивного **тестирования** портала QnA Maker.

### <a name="production-knowledge-base"></a>База знаний рабочей базы

*Опубликованная база знаний* — это версия, используемая в программе разговора или в приложении. При публикации базы знаний содержимое ее тестовой версии помещается в опубликованную версию. Опубликованная база знаний — это версия, которую приложение использует в конечной точке. Убедитесь, что содержимое правильно и проверено. Опубликованная база знаний известна как `prod` в HTTP-запросе.


## <a name="next-steps"></a>Дальнейшие шаги

> [!div class="nextstepaction"]
> [Активные предложения по обучению](./active-learning-suggestions.md)