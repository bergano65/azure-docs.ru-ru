---
title: Активные варианты обучения — QnA Maker
description: Активные предложения по обучению позволяют повысить качество базы знаний, предлагая альтернативные вопросы на основе отправленных пользователем данных в пару вопросов и ответов.
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: conceptual
ms.date: 03/19/2020
ms.openlocfilehash: e8cdb1d471ceef2aef790c426424b9224faac5ec
ms.sourcegitcommit: ef69245ca06aa16775d4232b790b142b53a0c248
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2020
ms.locfileid: "91777043"
---
# <a name="active-learning-suggestions"></a>Активные предложения по обучению

_Активные предложения по обучению_ позволяют повысить качество базы знаний, предлагая альтернативные вопросы на основе отправок пользователя в пару вопросов и ответов. Проверенные предложения можно добавить к существующим вопросам или отклонить.

База знаний не изменяется автоматически. Чтобы изменения вступили в силу, необходимо принять предложения. Так вы добавите новые вопросы, не меняя и не удаляя существующие.

## <a name="what-is-active-learning"></a>Что такое активное обучение?

QnA Maker изучает новые варианты вопросов с помощью механизма явных и неявных отзывов.

* [Неявная обратная связь](#how-qna-makers-implicit-feedback-works) — ранжирование понимает, когда вопрос пользователя имеет несколько ответов с оценками, которые очень близки к этому, и рассматривает это как отзыв. Для этого не нужно ничего делать.
* [Явная обратная связь](#how-you-give-explicit-feedback-with-the-train-api) . когда из базы знаний возвращаются несколько ответов с небольшим изменением, клиентское приложение запрашивает у пользователя вопрос о том, какой именно вопрос является верным. Явная обратная связь пользователя отправляется в QnA Maker с помощью [API обучения](../How-to/improve-knowledge-base.md#train-api).

Оба метода предоставляют ранжирование с аналогичными запросами, которые являются кластеризованными.

## <a name="how-active-learning-works"></a>Принцип работы активного обучения

Активное обучение активируется на основе оценок первых нескольких ответов, возвращенных QnA Maker. Если различия между парами QnA, совпадающими с запросом, находятся в небольшом диапазоне, запрос считается возможным предложением (в качестве альтернативного вопроса) для каждой из возможных пар QnA. После принятия предлагаемого вопроса для определенной пары QnA она отклоняется для других пар. После принятия предложений необходимо забывать о сохранении и обучении.

Активное обучение предоставляет наилучшие возможные предложения, если конечные точки получают приемлемое количество разных запросов использования. Если пять или более похожих запросов являются кластеризованными, каждые 30 минут QnA Maker предлагает пользователю пользовательские вопросы в конструкторе базы знаний для принятия или отклонения. Все предложения группируются по сходству, и лучшие предложения для альтернативных вопросов отображаются с учетом частоты конкретных запросов пользователей.

После предложения вопросов на портале QnA Maker необходимо просмотреть и принять или отклонить эти предложения. Нет API для управления предложениями.

## <a name="turn-on-active-learning"></a>Включение активного обучения

По умолчанию активное обучение **отключено**.
Для использования активного обучения:
* Необходимо [включить активное обучение](../How-To/use-active-learning.md#turn-on-active-learning-for-alternate-questions) , чтобы QnA Maker собирает альтернативные вопросы для своей базы знаний.
* Чтобы просмотреть предлагаемые альтернативные вопросы, [Используйте параметры просмотра](../How-To/improve-knowledge-base.md#view-suggested-questions) на странице Редактирование.

## <a name="how-qna-makers-implicit-feedback-works"></a>Как работают неявные Отзывы QnA Maker

Неявная обратная связь QnA Maker использует алгоритм для определения сходства очков, а затем предоставляет активные предложения по обучению. Для определения сходства оценок применяется сложный алгоритм. Диапазоны в следующем примере не предназначены для фиксирования, но их следует использовать в качестве рекомендации для понимания воздействия только алгоритма.

Если вопрос получает оценку с высокой степенью достоверности (например, 80 %), диапазон оценок, используемых для активного обучения, расширяется (приблизительно на 10 %). Если оценка достоверности снижается (например, до 40 %), диапазон оценок также сокращается (приблизительно на 4 %).

В следующем ответе JSON от запроса к Женератеансвер QnA Maker, оценки для A, B и C будут рассматриваться как предложения.

```json
{
  "activeLearningEnabled": true,
  "answers": [
    {
      "questions": [
        "Q1"
      ],
      "answer": "A1",
      "score": 80,
      "id": 15,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q2"
      ],
      "answer": "A2",
      "score": 78,
      "id": 16,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q3"
      ],
      "answer": "A3",
      "score": 75,
      "id": 17,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    },
    {
      "questions": [
        "Q4"
      ],
      "answer": "A4",
      "score": 50,
      "id": 18,
      "source": "Editorial",
      "metadata": [
        {
          "name": "topic",
          "value": "value"
        }
      ]
    }
  ]
}
```

QnA Maker не знает, какой ответ является лучшим ответом. Используйте список предложений на портале QnA Maker, чтобы выбрать наилучший ответ и выполнить обучение еще раз.


## <a name="how-you-give-explicit-feedback-with-the-train-api"></a>Как вы предоставляете явный отзыв с помощью API обучения

QnA Maker нуждается в явном отзыве о том, какой из ответов был лучшим ответом. Способ определения наилучшего ответа зависит от вас и может включать:

* Отзывы пользователей, выбрав один из ответов.
* Бизнес-логика, например определение допустимого диапазона оценок.
* Сочетание отзывов пользователей и бизнес-логики.

Используйте [API обучения](https://docs.microsoft.com/rest/api/cognitiveservices/qnamakerruntime/runtime/train) , чтобы отправить правильный ответ на QnA Maker, после того как пользователь выберет его.

## <a name="next-step"></a>Следующий шаг

> [!div class="nextstepaction"]
> [Отправка запроса в базу знаний](query-knowledge-base.md)