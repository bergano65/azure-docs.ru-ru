---
title: API перевода текстов версии 2.0
titleSuffix: Azure Cognitive Services
description: Справочная документация по API перевода текстов версии 2.0.
services: cognitive-services
author: swmachan
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: reference
ms.date: 05/15/2018
ms.author: swmachan
ms.openlocfilehash: f111169558118a80602bcb2136bc63ce54c9e0d9
ms.sourcegitcommit: 824e3d971490b0272e06f2b8b3fe98bbf7bfcb7f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/10/2019
ms.locfileid: "72242499"
---
# <a name="translator-text-api-v20"></a>API перевода текстов версии 2.0

> [!IMPORTANT]
> Эта версия API перевода текстов больше не рекомендуется. [Просмотрите документацию по версии 3 API перевода текстов](v3-0-reference.md).

Версию 2 API перевода текстов можно легко интегрировать в приложения, веб-сайты, средства или другие решения, чтобы обеспечить многоязыковую поддержку пользователей. Его можно использовать на любой аппаратной платформе и с любой операционной системой для перевода языка и других задач, связанных с языком, таких как распознавание текста и преобразование текста в речь, согласно отраслевым стандартам. Дополнительные сведения см. в разделе [API перевода текстов](../translator-info-overview.md).

## <a name="getting-started"></a>Начало работы
Чтобы получить доступ к API перевода текстов, необходимо [зарегистрироваться в Microsoft Azure](../translator-text-how-to-signup.md).

## <a name="authentication"></a>Проверка подлинности 
Для всех вызовов API перевода текстов требуется ключ подписки для проверки подлинности. API поддерживает три метода проверки подлинности:

- Маркер доступа. Используйте ключ подписки, чтобы создать маркер доступа, выполнив запрос POST к службе проверки подлинности. Дополнительные сведения см. в документации службы токенов. Передайте маркер доступа службе транслятора с помощью заголовка `Authorization` или параметра запроса `access_token`. Маркер доступа действителен 10 минут. Получите новый маркер доступа каждые 10 минут и используйте один и тот же маркер доступа для повторяющихся запросов в течение 10 минут.
- Ключ подписки, используемый напрямую. Передайте ключ подписки в качестве значения в заголовок `Ocp-Apim-Subscription-Key`, который входит в состав запроса API перевода текстов. Если вы используете ключ подписки напрямую, вам не нужно вызывать службу проверки подлинности маркеров для создания маркера доступа.
- [Подписка Azure Cognitive Services Multi-Service](https://azure.microsoft.com/pricing/details/cognitive-services/). Этот метод позволяет использовать один секретный ключ для проверки подлинности запросов к нескольким службам.
При использовании секретного ключа с несколькими службами необходимо включить в запрос два заголовка проверки подлинности. Первый заголовок передает секретный ключ. Во втором заголовке указывается регион, связанный с подпиской.
   - `Ocp-Apim-Subscription-Key`
   - `Ocp-Apim-Subscription-Region`

Для подписки на API текстовых интерфейсов с несколькими службами требуется регион. Выбранный регион является единственным регионом, который можно использовать для перевода текста при использовании ключа подписки с несколькими службами. Это должен быть тот же регион, который вы выбрали при регистрации в подписке с несколькими службами на портал Azure.

Доступными областями являются `australiaeast`, `brazilsouth`, `canadacentral`, `centralindia`, `centraluseuap`, `eastasia`, `eastus`, `eastus2`, 0, 1, 4, 5, 6 и т. д.

Ключ подписки и маркер доступа — это секреты, которые должны быть скрыты от представления.

## <a name="profanity-handling"></a>Обработка ненормативной лексики
Как правило, Служба переводчиков будет хранить ненормативную лексику, которая есть в источнике. Степень ненормативной лексики и контекст, которые делают слова ненормативными, отличаются в зависимости от языка и региональных параметров. Поэтому степень ненормативной лексики на целевом языке может быть увеличена или уменьшена.

Если вы хотите предотвратить ненормативную лексику в переводе, даже если она находится в исходном тексте, можно использовать параметр фильтрации ненормативной лексики для методов, которые его поддерживают. Параметр позволяет выбрать, будет ли отображаться ненормативная лексика или она помечена соответствующими тегами или нужно ли разрешить ненормативную лексику в целевом объекте. Допустимые значения `ProfanityAction`: `NoAction` (по умолчанию), `Marked` и `Deleted`.


|ProfanityAction    |Action |Пример исходного кода (японский)  |Пример перевода (английский)  |
|:--|:--|:--|:--|
|NoAction   |По умолчанию. Аналогично отсутствию параметра. Ненормативная лексика оригинального текста сохранится в переводе.        |彼はジャッカスです。     |Он — придурок.   |
|Marked     |Ненормативные слова будут окружены тегами XML \<profanity > и \</ненормативной лексикой >.       |彼はジャッカスです。 |Он является @no__t 0profanity > жаккасс @ no__t-1/ненормативная лексика >.  |
|Deleted    |Оскорбительные слова будут удалены из выходных данных без замены.     |彼はジャッカスです。 |Он — .   |

    
## <a name="excluding-content-from-translation"></a>Исключение содержимого из перевода
При переводе содержимого с помощью тегов, например HTML (`contentType=text/html`), иногда бывает полезно исключить конкретное содержимое из перевода. С помощью атрибута `class=notranslate` можно указать содержимое, которое должно остаться не переведенным. В следующем примере содержимое первого элемента `div` не будет переведено, но содержимое во втором элементе `div` будет переведено.

```HTML
<div class="notranslate">This will not be translated.</div>
<div>This will be translated. </div>
```

## <a name="get-translate"></a>GET /Translate

### <a name="implementation-notes"></a>Примечания по реализации
Перевод текстовой строки с одного языка на другой.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Translate`.

**Возвращаемое значение:** Строка, представляющая переведенный текст.

Если ранее вы использовали `AddTranslation` или `AddTranslationArray` для ввода перевода с оценкой 5 или выше для одного и того же исходного предложения, `Translate` возвращает только самый верхний вариант, доступный для вашей системы. Одно и то же предложение с исходным кодом означает точно такое же (100% совпадения), за исключением регистра букв, пробелов, значений тегов и знаков препинания в конце предложения. Если оценка не хранится с оценкой 5 или выше, возвращенный результат будет автоматически переводом Microsoft Translator.

### <a name="response-class-status-200"></a>Класс Response (status 200)

строка

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание    |Тип параметра|тип данных|
|:--|:--|:--|:--|:--|
|appid  |(пусто)    |Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст для преобразования. Текст не может содержать более 10 000 символов.|query|строка|
|from|(пусто)   |Необязательный элемент. Строка, представляющая код языка для преобразуемого текста. Например, en для английского языка.|query|строка|
|to|(пусто) |Обязательный элемент. Строка, представляющая код языка, в который преобразуется текст.|query|строка|
|сontentType|(пусто)    |Необязательный элемент. Формат переведенного текста. Поддерживаемые форматы: `text/plain` (по умолчанию) и `text/html`. Все HTML-элементы должны быть правильно сформированными, полными элементами.|query|строка|
|category|(пусто)   |Необязательный элемент. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.|query|строка|
|Authorization|(пусто)  |Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|


### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-translatearray"></a>POST /TranslateArray

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает переводы для нескольких исходных текстов.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/TranslateArray`.

Вот формат текста запроса:

```
<TranslateArrayRequest>
  <AppId />
  <From>language-code</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" />
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</TranslateArrayRequest>
```

Эти элементы находятся в `TranslateArrayRequest`:


* `AppId`. Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Необязательный элемент. Строка, представляющая код языка для преобразуемого текста. Если оставить это поле пустым, ответ будет содержать результат автоматического определения языка.
* `Options`. Необязательный элемент. Объект `Options`, который содержит следующие значения. Все они являются необязательными и по умолчанию используются наиболее распространенными параметрами. Указанные элементы должны находится в алфавитном порядке.
    - `Category`. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
    - `ContentType`. Формат переведенного текста. Поддерживаются форматы `text/plain` (по умолчанию), `text/xml` и `text/html`. Все HTML-элементы должны быть правильно сформированными, полными элементами.
    - `ProfanityAction`. Указывает, как обрабатываются ненормативные лексики, как описано выше. Допустимые значения: `NoAction` (по умолчанию), `Marked` и `Deleted`.
    - `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. В ответе будет возвращено то же содержимое.
    - `Uri`. фильтрация результатов по данному URI. По умолчанию: `all`.
    - `User`. фильтрация результатов по данному пользователю. По умолчанию: `all`.
* `Texts`. Обязательный элемент. Массив, содержащий текст для перевода. Все строки должны быть на одном языке. Общий объем преобразуемого текста не должен превышать 10 000 символов. Максимальное число элементов массива — 2 000.
* `To`. Обязательный элемент. Строка, представляющая код языка, в который преобразуется текст.

Можно опустить необязательные элементы. Элементы, которые являются прямыми дочерними элементами `TranslateArrayRequest`, должны быть перечислены в алфавитном порядке.

Метод `TranslateArray` принимает `application/xml` или `text/xml` для `Content-Type`.

**Возвращаемое значение:** массив `TranslateArrayResponse`. Каждый `TranslateArrayResponse` содержит следующие элементы:

* `Error`. Указывает на ошибку, если она возникла. В противном случае имеет значение null.
* `OriginalSentenceLengths`. Массив целых чисел, указывающий длину каждого предложения в исходном тексте. Длина массива указывает количество предложений.
* `TranslatedText`. переведенный текст.
* `TranslatedSentenceLengths`. Массив целых чисел, указывающий длину каждого предложения в переведенном тексте. Длина массива указывает количество предложений.
* `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. Возвращает то же содержимое, что и запрос.

Вот формат текста ответа:

```
<ArrayOfTranslateArrayResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <TranslateArrayResponse>
    <From>language-code</From>
    <OriginalTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </OriginalTextSentenceLengths>
    <State/>
    <TranslatedText>string-value</TranslatedText>
    <TranslatedTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </TranslatedTextSentenceLengths>
  </TranslateArrayResponse>
</ArrayOfTranslateArrayResponse>
```

### <a name="response-class-status-200"></a>Класс Response (status 200)
Успешный ответ включает массив массивов `TranslateArrayResponse` в формате, описанном ранее.

строка

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization|(пусто)  |Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)   |`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке. Ниже перечислены распространенные ошибки. <ul><li>Элемент массива не может быть пустым.</li><li>Недопустимая Категория.</li><li>Недопустимый язык.</li><li>Недопустимый язык.</li><li>Запрос содержит слишком много элементов.</li><li>Язык from не поддерживается.</li><li>Язык для не поддерживается.</li><li>Запрос на перевод содержит слишком много данных.</li><li>Формат HTML неправильный.</li><li>В запросе на миграцию передано слишком много строк.</li></ul>|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-getlanguagenames"></a>POST /GetLanguageNames

### <a name="implementation-notes"></a>Примечания по реализации
Получает понятные имена для языков, переданных в качестве параметра `languageCodes`, локализованных в переданный язык `locale`.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguageNames`.

Текст запроса включает массив строк, который представляет коды языка ISO 639-1, для которых нужно получить понятные имена. Ниже приведен пример:

```
<ArrayOfstring xmlns:i="https://www.w3.org/2001/XMLSchema-instance"  xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>zh</string>
    <string>en</string>
</ArrayOfstring>
```

**Возвращаемое значение:** Массив строк, содержащий имена языков, поддерживаемые службой переводчиков, локализованные для запрошенного языка.

### <a name="response-class-status-200"></a>Класс Response (status 200)
Массив строк, содержащий имена языков, поддерживаемые службой переводчиков, локализованные в запрошенный язык.

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|локаль|(пусто) |Обязательный элемент. Строка, представляющая один из следующих элементов, используемый для локализации названий языков: <ul><li>Сочетание кода языка и региональных параметров в формате ISO 639 2-Letter, связанного с языком, и кодом подкультуры в верхнем регистре ISO 3166 2. <li>Код языка и региональных параметров ISO 639 в нижнем регистре.|query|строка|
|Authorization|(пусто)  |Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesfortranslate"></a>GET /GetLanguagesForTranslate

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает список кодов языков, представляющих языки, поддерживаемые службой перевода.  `Translate` и `TranslateArray` может переводить из и на любой из этих языков.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForTranslate`.

**Возвращаемое значение:** Массив строк, содержащий коды языков, поддерживаемые службой переводчиков.

### <a name="response-class-status-200"></a>Класс Response (status 200)
Массив строк, содержащий коды языков, поддерживаемые службой переводчиков.

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Authorization|(пусто)  |Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesforspeak"></a>GET /GetLanguagesForSpeak

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает языки, доступные для синтеза речи.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForSpeak`.

**Возвращаемое значение:** Массив строк, содержащий коды языков, поддерживаемые службой переводчиков для синтеза речи.

### <a name="response-class-status-200"></a>Класс Response (status 200)
Массив строк, содержащий коды языков, поддерживаемые службой переводчиков для синтеза речи.

строка

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|
 
### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-speak"></a>GET /Speak

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает поток WAV или MP3 переданного текста, произнесенный на нужном языке.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Speak`.

**Возвращаемое значение:** Поток WAV или MP3 переданного текста, произнесенный на нужном языке.

### <a name="response-class-status-200"></a>Класс Response (status 200)

binary

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|text|(пусто)   |Обязательный элемент. Строка, содержащая одно или несколько предложений для потока на указанном языке. Длина текста не должна превышать 2 000 символов.|query|строка|
|language|(пусто)   |Обязательный элемент. Строка, представляющая поддерживаемый код языка языка, на который следует поговорить с текстом. Код должен быть одним из кодов, возвращаемых методом `GetLanguagesForSpeak`.|query|строка|
|format|(пусто)|Необязательный элемент. Строка, указывающая идентификатор типа содержимого. В настоящее время доступны `audio/wav` и `audio/mp3`. По умолчанию используется значение `audio/wav`.|query|строка|
|options|(пусто)    |Необязательный элемент. Строка, указывающая свойства синтезированного речевого ввода:<ul><li>`MaxQuality` и `MinSize` Укажите качество звукового сигнала. `MaxQuality` обеспечивает наивысший уровень качества. `MinSize` — минимальный размер файла. Значение по умолчанию — `MinSize`.</li><li>`female` и `male` Укажите желаемый Пол голоса. Значение по умолчанию — `female`. Используйте вертикальную черту (<code>\|</code>) для включения нескольких параметров. Например, `MaxQuality|Male`.</li></li></ul>  |query|строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-detect"></a>GET /Detect

### <a name="implementation-notes"></a>Примечания по реализации
Определяет язык раздела текста.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Detect`.

**Возвращаемое значение:** Строка, содержащая двухбайтовый код языка для текста.

### <a name="response-class-status-200"></a>Класс Response (status 200)

строка

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|text|(пусто)|Обязательный элемент. Строка, содержащая текст, язык которого должен быть идентифицирован. Длина текста не должна превышать 10 000 символов.|query|  строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key  |(пусто)    |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|


## <a name="post-detectarray"></a>POST /DetectArray

### <a name="implementation-notes"></a>Примечания по реализации

Определяет языки в массиве строк. Независимо определяет язык каждого отдельного элемента массива и возвращает результат для каждой строки массива.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/DetectArray`.

Вот формат текста запроса:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>string-value-1</string>
    <string>string-value-2</string>
</ArrayOfstring>
```

Длина текста не должна превышать 10 000 символов.

**Возвращаемое значение:** Массив строк, содержащий двухбайтовый код языка для каждой строки входного массива.

Вот формат текста ответа:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <string>language-code-1</string>
  <string>language-code-2</string>
</ArrayOfstring>
```

### <a name="response-class-status-200"></a>Класс Response (status 200)
`DetectArray` успешно выполнено. Возвращает массив строк, содержащий двухбайтовый код языка для каждой строки входного массива.

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-addtranslation"></a>Get /AddTranslation

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание об устаревании:** После 31 января 2018 г. Этот метод не будет принимать новые отправки предложений. Вы получите сообщение об ошибке. Ознакомьтесь с объявлением об изменениях в инфраструктуре совместной трансляции (КТФ).

Добавляет перевод в память перевода.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslation`.

### <a name="response-class-status-200"></a>Класс Response (status 200)

строка

Тип содержимого ответа: Приложение: XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных   |
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|OriginalText|(пусто)|Обязательный элемент. Строка, содержащая текст для преобразования. Максимальная длина строки — 1 000 символов.|query|строка|
|TranslatedText|(пусто) |Обязательный элемент. Строка, содержащая текст, переведенный на целевой язык. Максимальная длина строки — 2 000 символов.|query|строка|
|from|(пусто)   |Обязательный элемент. Строка, представляющая код языка исходного языка текста. Например, EN для английского языка и de для немецкого.|query|строка|
|to|(пусто)|Обязательный элемент. Строка, представляющая код языка для перевода текста в.|query|строка|
|рейтинг|(пусто) |Необязательный элемент. Целое число, представляющее оценку качества строки. Значение находится в диапазоне от-10 до 10. Значение по умолчанию — 1.|query|integer|
|сontentType|(пусто)    |Необязательный элемент. Формат переведенного текста. Поддерживаемые форматы: `text/plain` и `text/html`. Все HTML-элементы должны быть правильно сформированными, полными элементами.    |query|строка|
|category|(пусто)|Необязательный элемент. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.|query|строка|
|user|(пусто)|Обязательный элемент. Строка, используемая для отслеживания инициатора отправки.|query|строка|
|uri|(пусто)|Необязательный элемент. Строка, содержащая расположение содержимого перевода.|query|строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты.  Маркер авторизации: `"Bearer" + " " + "access_token"`.  |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|410|`AddTranslation` больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-addtranslationarray"></a>POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание об устаревании:** После 31 января 2018 г. Этот метод не будет принимать новые отправки предложений. Вы получите сообщение об ошибке. Ознакомьтесь с объявлением об изменениях в инфраструктуре совместной трансляции (КТФ).

Добавляет массив переводов в память преобразования. Этот метод является версией массива `AddTranslation`.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslationArray`.

Вот формат текста запроса:

```
<AddtranslationsRequest>
  <AppId></AppId>
  <From>A string containing the language code of the source language</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
  </Options>
  <To>A string containing the language code of the target language</To>
  <Translations>
    <Translation xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
      <OriginalText>string-value</OriginalText>
      <Rating>int-value</Rating>
      <Sequence>int-value</Sequence>
      <TranslatedText>string-value</TranslatedText>
    </Translation>
  </Translations>
</AddtranslationsRequest>
```

Эти элементы находятся в `AddtranslationsRequest`:

* `AppId`. Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Обязательный элемент. Строка, содержащая код языка исходного языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `To`. Обязательный элемент. Строка, содержащая код языка целевого языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `Translations`. Обязательный элемент. Массив переводов для добавления в память перевода. Каждый перевод должен содержать `OriginalText`, `TranslatedText` и `Rating`. Максимальный размер каждого `OriginalText` и `TranslatedText` — 1 000 символов. Сумма всех элементов `OriginalText` и `TranslatedText` не может превышать 10 000 символов. Максимальное число элементов массива — 100.
* `Options`. Обязательный элемент. Набор параметров, включая `Category`, `ContentType`, `Uri` и `User`. требуется `User`. `Category`, `ContentType` и `Uri` являются необязательными. Указанные элементы должны находится в алфавитном порядке.

### <a name="response-class-status-200"></a>Класс Response (status 200)
метод `AddTranslationArray` прошел. 

После 31 января 2018 г. Отправка предложений не будет принята. Служба отвечает кодом ошибки 410.

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|410    |`AddTranslation` больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-breaksentences"></a>Get /BreakSentences

### <a name="implementation-notes"></a>Примечания по реализации
Разбивает фрагмент текста на предложения и возвращает массив, содержащий длины каждого предложения.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/BreakSentences`.

**Возвращаемое значение:** Массив целых чисел, представляющий длину предложений. Длина массива представляет количество предложений. Значения представляют длину каждого предложения.

### <a name="response-class-status-200"></a>Класс Response (status 200)
Массив целых чисел, представляющий длину предложений. Длина массива представляет количество предложений. Значения представляют длину каждого предложения.

integer

Тип содержимого ответа: Application/XML

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query| строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст, который необходимо разделить на предложения. Максимальный размер текста составляет 10 000 символов.|query|строка|
|language   |(пусто)    |Обязательный элемент. Строка, представляющая код языка входного текста.|query|строка|
|Authorization|(пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.   |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные.|
|500|Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslations"></a>POST /GetTranslations

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает массив переводов для данной языковой пары из хранилища и системы машинного перевода. `GetTranslations` отличается от `Translate` тем, что он возвращает все доступные переводы.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslations`.

Текст запроса включает необязательный объект `TranslationOptions`, имеющий следующий формат:

```
<TranslateOptions xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
  <Category>string-value</Category>
  <ContentType>text/plain</ContentType>
  <ReservedFlags></ReservedFlags>
  <State>int-value</State>
  <Uri>string-value</Uri>
  <User>string-value</User>
</TranslateOptions>
```

Объект `TranslateOptions` содержит значения, перечисленные в следующем списке. Все они являются необязательными и по умолчанию используются наиболее распространенными параметрами. Указанные элементы должны находится в алфавитном порядке.

* `Category`. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
* `ContentType`. Единственный поддерживаемый параметр и значение по умолчанию — `text/plain`.
* `IncludeMultipleMTAlternatives`. Логический флаг, указывающий, следует ли возвратить из модуля MT более одной альтернативы. Допустимые значения: `true` и `false` (с учетом регистра). Значение по умолчанию — `false`, возвращающее только одно альтернативное. Установка флага в значение `true` позволяет создавать искусственные альтернативы, полностью интегрированные с инфраструктурой совместного преобразования (КТФ). Эта функция позволяет возвращать альтернативы для предложений, которые не имеют переводов в КТФ, добавляя искусственные альтернативы из *n*-лучшего списка декодера.
    - Тока. Эти оценки применяются следующим образом: 
         - лучший автоматический перевод получает оценку 5.
       - Варианты от КТФ, отражающие полномочия рецензента. Они находятся в диапазоне от-10 до + 10.
       - Автоматически создаваемые (наилучшие) варианты перевода имеют оценку 0 и степень соответствия 100.
    - Число альтернатив. Число возвращаемых альтернатив может быть равно значению, указанному в `maxTranslations`, но может быть ниже.
    - Пары языков. Эта функция недоступна для переводов между упрощенным и традиционным китайский в любом направлении. Он доступен для всех других пар языков, поддерживаемых Microsoft Translator.
* `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. В ответе будет возвращено то же содержимое.
* `Uri`. фильтрация результатов по данному URI. Если значение не задано, по умолчанию используется `all`.
* `User`. фильтрация результатов по данному пользователю. Если значение не задано, по умолчанию используется `all`.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** Вот формат ответа:

```
<GetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <From>Two character language code</From>
  <State/>
  <Translations>
    <TranslationMatch>
      <Count>int-value</Count>
      <MatchDegree>int-value</MatchDegree>
      <MatchedOriginalText/>
      <Rating>int value</Rating>
      <TranslatedText>string-value</TranslatedText>
    </TranslationMatch>
  </Translations>
</GetTranslationsResponse>
```

Этот ответ включает элемент `GetTranslationsResponse`, который содержит следующие значения:

* `Translations`. Массив найденных совпадений, хранящийся в объектах `TranslationMatch` (описанных в следующем разделе). Переводы могут включать в себя небольшие варианты исходного текста (нечеткие совпадения). Переводы будут отсортированы. 100% соответствует первым, нечетким соответствиям Next.
* `From`. Если в методе не указан язык `From`, это значение будет получено из автоматического определения языка. В противном случае это будет указанный язык `From`.
* `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. Содержит значение, заданное в параметре `TranslateOptions`.

Объект `TranslationMatch` состоит из следующих значений:

* `Error`. Код ошибки, если возникает ошибка для определенной входной строки. В противном случае это поле будет пустым.
* `MatchDegree`. Указывает, насколько близко входной текст совпадает с исходным текстом, найденным в хранилище. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвращаемое значение находится в диапазоне от 0 до 100, где 0 не имеет сходства, а 100 — точное совпадение с учетом регистра.
* `MatchedOriginalText`. исходный текст, найденный для этого результата. Это значение возвращается, только если совпадающий исходный текст отличается от входного текста. Он используется для возврата исходного текста нечеткого соответствия. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`. указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеют оценку 5. Анонимно предоставленные переводы обычно имеют оценку от 1 до 4. В качестве официально предоставленных переводов обычно будет указана оценка от 6 до 10.
* `Count`. количество раз, когда был выбран этот перевод с этой оценкой. Значение равно 0 для автоматически переведенного ответа.
* `TranslatedText`. переведенный текст.

### <a name="response-class-status-200"></a>Класс Response (status 200)
Объект `GetTranslationsResponse` в формате, описанном ранее.

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если используется заголовок `Authorization` или `Ocp-Apim-Subscription-Key`, оставьте поле `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|query|строка|
|text|(пусто)|Обязательный элемент. Строка, представляющая текст для преобразования. Максимальный размер текста составляет 10 000 символов.|query|строка|
|from|(пусто)|Обязательный элемент. Строка, представляющая код языка для преобразуемого текста.|query|строка|
|to |(пусто)    |Обязательный элемент. Строка, представляющая код языка для перевода текста в.|query|строка|
|maxTranslations|(пусто)|Обязательный элемент. Целое число, представляющее максимальное число возвращаемых переводов.|query|integer|
|Authorization| (пусто)|Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты. Маркер авторизации: `"Bearer" + " " + "access_token"`.|строка|  Верхний колонтитул|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Укажите приблизительную дату & время запроса и идентификатор запроса, содержащийся в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslationsarray"></a>Запрос POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает несколько кандидатов перевода для нескольких исходных текстов.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslationsArray`.

Вот формат текста запроса:

```
<GetTranslationsArrayRequest>
  <AppId></AppId>
  <From>language-code</From>
  <MaxTranslations>int-value</MaxTranslations>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"/>
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</GetTranslationsArrayRequest>
```

`GetTranslationsArrayRequest` включает следующие элементы:

* `AppId`. Обязательный элемент. Если используется заголовок `Authorization`, оставьте поле `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Обязательный элемент. Строка, представляющая код языка для преобразуемого текста.
* `MaxTranslations`. Обязательный элемент. Целое число, представляющее максимальное число возвращаемых переводов.
* `Options`. Необязательный элемент. Объект `Options`, который содержит следующие значения. Все они являются необязательными и по умолчанию используются наиболее распространенными параметрами. Указанные элементы должны находится в алфавитном порядке.
    - `Category`. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
    - `ContentType`. Единственный поддерживаемый параметр и значение по умолчанию — `text/plain`.
    - `IncludeMultipleMTAlternatives`. Логический флаг, указывающий, следует ли возвратить из модуля MT более одной альтернативы. Допустимые значения: `true` и `false` (с учетом регистра). Значение по умолчанию — `false`, возвращающее только одно альтернативное. Установка флага в значение `true` позволяет создать искусственные альтернативы в переводе, полностью интегрированные с инфраструктурой совместного преобразования (КТФ). Эта функция позволяет возвращать альтернативы для предложений, которые не имеют альтернативных вариантов в КТФ, добавляя искусственные альтернативы из *n*-лучшего списка декодера.
        - Оценки применяются следующим образом:
          - лучший автоматический перевод получает оценку 5.
          - Варианты от КТФ, отражающие полномочия рецензента. Они находятся в диапазоне от-10 до + 10.
          - Автоматически создаваемые (наилучшие) варианты перевода имеют оценку 0 и степень соответствия 100.
        - Число альтернатив. Число возвращаемых альтернатив может быть равно значению, указанному в `maxTranslations`, но может быть ниже.
        - Пары языков. Эта функция недоступна для переводов между упрощенным и традиционным китайский в любом направлении. Он доступен для всех других пар языков, поддерживаемых Microsoft Translator.
* `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. В ответе будет возвращено то же содержимое.
* `Uri`. фильтрация результатов по данному URI. Если значение не задано, по умолчанию используется `all`.
* `User`. фильтрация результатов по данному пользователю. Если значение не задано, по умолчанию используется `all`.
* `Texts`. Обязательный элемент. Массив, содержащий текст для перевода. Все строки должны быть на одном языке. Общий объем преобразуемого текста не должен превышать 10 000 символов. Максимальное число элементов массива — 10.
* `To`. Обязательный элемент. Строка, представляющая код языка для перевода текста в.

Можно опустить необязательные элементы. Элементы, которые являются прямыми дочерними элементами `GetTranslationsArrayRequest`, должны быть перечислены в алфавитном порядке.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** Вот формат ответа:

```
<ArrayOfGetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <GetTranslationsResponse>
    <From>language-code</From>
    <State/>
    <Translations>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText>string-value</MatchedOriginalText>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText/>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
    </Translations>
  </GetTranslationsResponse>
</ArrayOfGetTranslationsResponse>
```

Каждый элемент `GetTranslationsResponse` содержит следующие значения:

* `Translations`. Массив найденных совпадений, хранящийся в объектах `TranslationMatch` (описанных в следующем разделе). Переводы могут включать в себя небольшие варианты исходного текста (нечеткие совпадения). Переводы будут отсортированы. 100% соответствует первым, нечетким соответствиям Next.
* `From`. Если в методе не указан язык `From`, это значение будет получено из автоматического определения языка. В противном случае это будет указанный язык `From`.
* `State`. Пользовательское состояние, помогающее сопоставить запрос и ответ. Содержит значение, заданное в параметре `TranslateOptions`.

Объект `TranslationMatch` содержит следующие значения:
* `Error`. Код ошибки, если возникает ошибка для определенной входной строки. В противном случае это поле будет пустым.
* `MatchDegree`. Указывает, насколько близко входной текст совпадает с исходным текстом, найденным в хранилище. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвращаемое значение находится в диапазоне от 0 до 100, где 0 не имеет сходства, а 100 — точное совпадение с учетом регистра.
* `MatchedOriginalText`. исходный текст, найденный для этого результата. Это значение возвращается, только если совпадающий исходный текст отличается от входного текста. Он используется для возврата исходного текста нечеткого соответствия. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`. указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеют оценку 5. Анонимно предоставленные переводы обычно имеют оценку от 1 до 4. Официально предоставленные переводы обычно имеют оценку от 6 до 10.
* `Count`. количество раз, когда был выбран этот перевод с этой оценкой. Значение равно 0 для автоматически переведенного ответа.
* `TranslatedText`. переведенный текст.


### <a name="response-class-status-200"></a>Класс Response (status 200)

строка

Тип содержимого ответа: Application/XML
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization  |(пусто)    |Требуется, если оба поля `appid` и заголовок `Ocp-Apim-Subscription-Key` пусты.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, если оба поля `appid` и заголовок `Authorization` пусты.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|`Reason`|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Переход на API перевода текстов v3](../migrate-to-v3.md)


