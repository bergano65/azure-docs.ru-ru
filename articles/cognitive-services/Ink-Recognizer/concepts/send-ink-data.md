---
title: Отправка рукописного текста в API Распознавателя рукописного текста
titleSuffix: Azure Cognitive Services
description: Сведения о вызове API Анализатора рукописного текста
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: ink-recognizer
ms.topic: tutorial
ms.date: 05/02/2019
ms.author: erhopf
ms.openlocfilehash: 23431a6171f9ce4d2550ee62ac84679ce36126de
ms.sourcegitcommit: dad277fbcfe0ed532b555298c9d6bc01fcaa94e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "67721756"
---
# <a name="send-ink-data-to-the-ink-recognizer-api"></a>Отправка рукописного текста в API Распознавателя рукописного текста 

Цифровой рукописный текст относится к технологиям, которые обеспечивают цифровое представление таких входных данных, как рукописный текст и рисунки. Обычно для этого используется дигитайзер, который записывает движение устройств для ввода, например пера. По мере обеспечения внушительных возможностей работы с цифровым вводом искусственный интеллект и машинное обучение позволяют распознавать письменные формы и текст в любом контексте. API Распознавания рукописного ввода позволяет отправлять рукописные мазки кистью и получать подробные сведения о них. 

## <a name="the-ink-recognizer-api-vs-ocr-services"></a>API Распознавания рукописного текста и службы OCR

API Распознавателя рукописного текста не использует оптическое распознавание символов (OCR). Службы OCR обрабатывают данные о пикселях с изображений, чтобы предоставлять распознавание рукописного ввода и текста. Иногда это называют автономным распознаванием. Вместо этого API Распознавателя рукописного текста требуются данные мазка кистью рукописного ввода, записываемые при использовании устройства для ввода. Обработка данных рукописного ввода таким способом может привести к получению более точных результатов распознавания, чем в службах OCR. 

## <a name="sending-ink-data"></a>Отправка данных рукописного ввода

Для API Распознавателя рукописного текста требуются координаты X и Y, которые представляют мазки кистью, созданные устройством для ввода с момента касания воспринимающей поверхности до момента завершения. Точки каждого мазка кистью должны быть строкой значений, разделенных запятыми, в формате JSON, как на примере ниже. В дополнение каждый мазок кистью должен обладать уникальным идентификатором в каждом запросе. Если идентификатор повторяется в пределах того же запроса, API вернет ошибку. Для самых точных результатов распознавания необходимо не менее 8 цифр после десятичного разделителя. Началом координат (0,0) холста считается левый верхний угол холста рукописного ввода.

> [!NOTE]
> Далее приведен пример недопустимого кода JSON. Полный запрос JSON Распознавателя рукописного текста можно найти на [GitHub](https://go.microsoft.com/fwlink/?linkid=2089909).
 
```json
{
  "language": "en-US",
  "strokes": [
   {
    "id": 43,
    "points": 
        "5.1365, 12.3845,
        4.9534, 12.1301,
        4.8618, 12.1199,
        4.7906, 12.2217,
        4.7906, 12.5372,
        4.8211, 12.9849,
        4.9534, 13.6667,
        5.0958, 14.4503,
        5.3299, 15.2441,
        5.6555, 16.0480,
        ..."
   },
    ...
  ]
}
```

## <a name="ink-recognizer-response"></a>Ответ Распознавателя рукописного текста

API Распознавателя рукописного текста возвращает ответ анализа об объектах, которые он узнал из содержимого рукописного ввода. Ответ содержит единицы распознавания, которые описывают отношения между различными мазками кисти рукописного ввода. Например мазки кистью, которые создают отдельные фигуры, будут содержаться в разных единицах. Каждая единица содержит подробные сведения о мазках кистью рукописного ввода, включая распознанный объект, его координаты и другие атрибуты рисования.

## <a name="shapes-recognized-by-the-ink-recognizer-api"></a>Фигуры, распознанные API Распознавателя рукописного текста

API Распознавателя рукописного текста может определить самые распространенные фигуры в заметке. Ниже показаны некоторые простые примеры. Полный список фигур и другого содержимого рукописного ввода, распознанного API, см. в [справочной статье об API](https://go.microsoft.com/fwlink/?linkid=2089907). 

![Список фигур, распознанных API Распознавателя рукописного текста](../media/shapes.png)

## <a name="recommended-calling-patterns"></a>Рекомендуемые шаблоны вызовов

Вы можете вызывать REST API Распознавателя рукописного текста в различных шаблонах в соответствии с вашим приложением. 

### <a name="user-initiated-api-calls"></a>Инициируемые пользователем вызовы API

Если вы создаете приложение, которое принимает входные данные пользователя (например, написание заметок или приложение заметок), вы можете дать ему контроль над тем, когда и какой ввод будет отправлен в API Распознавателя рукописного текста. Эта функция особенно полезна в тех случаях, когда текст и фигуры находятся на холсте, и пользователи хотят выполнить с ними разные действия. Рассмотрите возможность добавления функций выделения (например, лассо или другой инструмент геометрического выделения), позволяющих пользователю выбирать, что будет отправлено в API.  

### <a name="app-initiated-api-calls"></a>Инициируемые приложением вызовы API

Ваше приложение также может вызвать API Распознавателя рукописного текста по истечении времени ожидания. Регулярно отправляя текущие рукописные мазки кистью в API, вы можете сохранять результаты распознавания в том виде, в каком они были созданы, и при этом улучшить время отклика API. Например, вы можете отправить строку рукописного текста в API после того, как обнаружите, что пользователь ее заполнил. 

Предварительное наличие результатов распознавания дает вам информацию о характеристиках рукописных мазков кистью, так как они взаимосвязаны. Например какие мазки кистью группируются для формирования одного слова, строки, списка, абзаца или фигуры. Эта информация может улучшить возможности выделения рукописного ввода приложения, позволяя, например, одновременно выбрать группы мазков кистью.

## <a name="integrate-the-ink-recognizer-api-with-windows-ink"></a>Интеграция API Распознавателя рукописного текста с Windows Ink

[Windows Ink](https://docs.microsoft.com/windows/uwp/design/input/pen-and-stylus-interactions) предоставляет инструменты и технологии, предоставляющие широкие возможности рукописного ввода с диапазона различных устройств. Вы можете объединить платформу Windows Ink с API Распознавания, чтобы создавать приложения, отображающие и интерпретирующие цифровые рукописные мазки кистью.

## <a name="next-steps"></a>Дополнительная информация

* [Что такое API Распознавателя рукописного текста?](../overview.md)
* [Справочник по REST API Распознавателя рукописного ввода](https://go.microsoft.com/fwlink/?linkid=2089907)

* Начните отправку данных мазка кистью рукописного ввода с помощью:
    * [C#](../quickstarts/csharp.md)
    * [Java](../quickstarts/java.md)
    * [JavaScript](../quickstarts/javascript.md)