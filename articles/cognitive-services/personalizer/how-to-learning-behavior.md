---
title: Настройка режима обучения
description: Режим области обеспечивает уверенность в службе персонализации и ее функциях машинного обучения, а также предоставляет метрики, которые служба отправляет сведения, которые могут быть получены из-за риска сетевого трафика.
ms.service: cognitive-services
ms.subservice: personalizer
ms.topic: how-to
ms.date: 05/01/2020
ms.openlocfilehash: 57a03b107678f83200b11f408784f6455cbceffd
ms.sourcegitcommit: 1d6ec4b6f60b7d9759269ce55b00c5ac5fb57d32
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/13/2020
ms.locfileid: "94579297"
---
# <a name="configure-the-personalizer-learning-behavior"></a>Настройка режима обучения персонализации

[Режим области](concept-apprentice-mode.md) обеспечивает доверие и уверенность в службе персонализации и ее функциях машинного обучения, а также гарантирует, что служба отправляет сведения, которые могут быть получены из-за риска сетевого трафика.

[!INCLUDE [Important Blue Box - Apprentice mode pricing tier](./includes/important-apprentice-mode.md)]

## <a name="configure-apprentice-mode"></a>Настройка режима области

1. Войдите в [портал Azure](https://portal.azure.com)для ресурса персонализации.

1. На странице **Конфигурация** на вкладке **режим обучения** выберите **вернуть базовое действие, узнать как области** и нажмите кнопку **сохранить**.

> [!div class="mx-imgBorder"]
> ![Снимок экрана: Настройка поведения обучения в режиме области в портал Azure](media/settings/configure-learning-behavior-azure-portal.png)

## <a name="changes-to-the-existing-application"></a>Изменения в существующем приложении

В существующем приложении не должно быть изменений, как оно выбирает действия для отображения или как приложение определяет значение, а также его **вознаграждение** . Единственным изменением в приложении может быть порядок действий, отправленных в API ранжирования персонализации. Действие, отображаемое в настоящее время приложением, отправляется как _первое действие_ в списке действий. [API ранжирования](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Rank) использует это первое действие для обучения модели персонализации.

### <a name="configure-your-application-to-call-the-rank-api"></a>Настройка приложения для вызова API ранжирования

Чтобы добавить в приложение персонализацию, необходимо вызвать API ранжирования и наград.

1. Добавьте вызов [ранжирования API](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Rank) после точки в существующей логике приложения, где определяется список действий и их функций. Первым действием в списке действий должно быть действие, выбранное существующей логикой.

1. Настройте код, чтобы отобразить действие, связанное с **идентификатором действия награде** для ответа API ранжирования.

### <a name="configure-your-application-to-call-reward-api"></a>Настройка приложения для вызова API-интерфейса наград

1. Используйте существующую бизнес-логику, чтобы вычислить **вознаграждение** отображаемого действия. Значение должно находиться в диапазоне от 0 до 1. Отправьте этот наград в персонализацию с помощью [API-интерфейса наград](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Reward). Значение наград не ожидается сразу, и его можно отложить на период времени, в зависимости от бизнес-логики.

1. Если вы не вернете вознаграждение в течение настроенного **времени ожидания** , вместо него будет использоваться вознаграждение по умолчанию.

## <a name="evaluate-apprentice-mode"></a>Оценка режима области

В портал Azure на странице **оценки** для ресурса персонализации ознакомьтесь с **текущей производительностью работы по обучению**.

> [!div class="mx-imgBorder"]
> ![Снимок экрана с оценочным поведением обучения в режиме области в портал Azure](media/settings/evaluate-apprentice-mode.png)

Режим области предоставляет следующие **метрики оценки** :
* **Базовый — средний вознаграждение** : средние вознаграждения по умолчанию для приложения (базовый план).
* **Персонализация — средний** доход. возможно, достигнуто среднее от общего числа возможностей.
* **Отношение достижений к последним событиям 1000** : отношение "базовый" и "Персонализация" — нормализовано по последним событиям 1000.

## <a name="switch-behavior-to-online-mode"></a>Переключение режима работы в режим «в сети»

При определении персонализации в среднем в 75-85% скользящего среднего модель готова к переключению в оперативный режим.

В портал Azure для ресурса персонализации на странице **Настройка** на вкладке **режим обучения** выберите пункт **вернуть лучшее действие** и нажмите кнопку **сохранить**.

Нет необходимости вносить изменения в вызовы API ранжирования и награды.

## <a name="next-steps"></a>Дальнейшие действия

* [Управление параметрами модели и обучения](how-to-manage-model.md)
