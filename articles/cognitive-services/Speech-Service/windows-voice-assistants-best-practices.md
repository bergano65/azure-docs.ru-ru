---
title: Помощники по разработке голоса для Windows — руководство по проектированию
titleSuffix: Azure Cognitive Services
description: Рекомендации по проектированию агента передачи голоса в соответствии с рекомендациями.
services: cognitive-services
author: cfogg6
manager: spencer.king
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 05/1/2020
ms.author: adamwa
ms.openlocfilehash: 76a29af80891142fcf7f56f93f5c7acc5c58ab04
ms.sourcegitcommit: 419c8c8061c0ff6dc12c66ad6eda1b266d2f40bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2020
ms.locfileid: "92165151"
---
# <a name="design-assistant-experiences-for-windows-10"></a>Опыт помощника по проектированию для Windows 10

Для работы с голосовыми помощниками, разработанными в Windows 10, необходимо реализовать рекомендации по обеспечению взаимодействия с пользователем, чтобы обеспечить лучшие возможности активации голоса в Windows 10. Этот документ поможет разработчикам понять основные принципы, необходимые для интеграции речевого помощника с оболочкой Windows 10.

## <a name="contents"></a>Содержимое

- [Сводка представлений активации голоса, поддерживаемых в Windows 10](#summary-of-voice-activation-views-supported-in-windows-10)
- [Сводка по требованиям](#requirements-summary)
- [Рекомендации для хорошего прослушивания](#best-practices-for-good-listening-experiences)
- [Руководство по проектированию для активации голоса в приложении](#design-guidance-for-in-app-voice-activation)
- [Руководство по проектированию для активации голоса выше блокировки](#design-guidance-for-voice-activation-above-lock)
- [Руководство по проектированию для предварительной версии активации голоса](#design-guidance-for-voice-activation-preview)

## <a name="summary-of-voice-activation-views-supported-in-windows-10"></a>Сводка представлений активации голоса, поддерживаемых в Windows 10

Windows 10 выводит процесс активации для контекста клиента на основе контекста устройства. В следующей сводной таблице представлен общий обзор различных представлений, доступных при включенном экране.

| Просмотр (доступность) | Контекст устройства | Цель клиента | Отображается, когда | Потребности проектирования |
| --- | --- | --- | --- | --- |
| **В приложении (19H1)** | Под блокировкой, помощник имеет фокус | Взаимодействие с приложением Assistant | Помощник обрабатывает запрос в приложении | Основной интерфейс для прослушивания представления в приложении |
| **Блокировка выше (19H2)** | Над блокировкой, без проверки подлинности | Взаимодействие с помощником, но с расстояния | Система заблокирована, и помощник запрашивает активацию | Полноэкранные визуальные элементы для дальнего многоэлементного интерфейса. Реализуйте политики закрытия, чтобы не блокировать разблокировку. |
| **Предварительная версия активации голоса (20H1)** | Под блокировкой, помощник не имеет фокуса | Взаимодействие с помощником, но менее агрессивным способом | Система находится ниже блокировки, и помощник запрашивает фоновую активацию | Минимальный холст. При необходимости измените размер или передаются в основное представление приложения. |

## <a name="requirements-summary"></a>Сводка по требованиям

Для доступа к различным интерфейсам требуются минимальные усилия. Тем не менее, помощникам необходимо реализовать правильное руководство по проектированию для каждого представления. В следующей таблице приведен контрольный список требований, которые должны быть выполнены.

| **Представление активации голоса** | **Сводка по требованиям помощника** |
| --- | --- |
| **В приложении** | <ul><li>Обработка запроса в приложении</li><li>Предоставляет индикаторы пользовательского интерфейса для состояний прослушивания</li><li>Пользовательский интерфейс адаптируется к изменению размеров окна</li></ul> |
| **Блокировка выше** | <ul><li>Обнаружение состояния блокировки и активация запроса</li><li>Не обеспечивать постоянное устойчивое взаимодействие, которое блокирует доступ к экрану блокировки Windows</li><li>Предоставление визуальных элементов в полноэкранном режиме и приветствие с помощью голоса</li><li>Учитывать рекомендации по закрытию</li><li>Соблюдение требований к конфиденциальности и безопасности ниже</li></ul> |
| **Предварительная версия активации голоса** | <ul><li>Обнаружение состояния разблокировки и фоновой активации запроса</li><li>Нарисуйте минимальный интерфейс UX в области просмотра</li><li>Нарисуйте закрывающий значок X в верхнем правом углу и прекратить потоковую передачу звука при нажатии</li><li>Изменить размер или передать передачу в главное представление приложения помощника, чтобы предоставить ответы</li></ul> |

## <a name="best-practices-for-good-listening-experiences"></a>Рекомендации для хорошего прослушивания

Помощники должны создать процесс прослушивания, чтобы предоставить важные отзывы, чтобы клиент мог понять состояние помощника. Ниже приведены некоторые возможные состояния, которые следует учитывать при создании интерфейса помощника. Это только возможные варианты, но не обязательное руководство.

- Помощник доступен для речевого ввода
- Помощник находится в процессе активации (нажатие ключевого слова или кнопки MIC)
- Помощник активно потоковая передача звука в облако помощника
- Помощник готов начать говорить с пользователем
- Помощник говорит, что говорят слова
- Помощник понимает, что клиент выполнил диктовку
- Помощник обрабатывает и готовит ответ
- Помощник отвечает

Даже если состояния быстро изменяются, стоит рассмотреть предоставление UX для состояний, так как длительности являются переменными в экосистеме Windows. Визуальный отзыв, а также краткий звуковой чимес или чирпс, также называемый &quot; еарконс &quot; , могут быть частью решения. Точно так же визуальные карты, которые связаны с описаниями аудио, позволяют получить хорошие ответы.

## <a name="design-guidance-for-in-app-voice-activation"></a>Руководство по проектированию для активации голоса в приложении

Когда приложение помощника находится в фокусе, цель клиента четко взаимодействует с приложением, поэтому все процедуры активации речи должны обрабатываться основным представлением приложения. Размер этого представления может изменяться пользователем. Для объяснения взаимодействия оболочки помощника в оставшейся части этого документа используется конкретный пример помощника по финансовым службам contoso. В этой и последующих схемах результаты, которые сообщает заказчику, будут отображаться на пузырьковых голосах слева с ответами помощника в мультипликационных пузырьях справа.

**Представление в приложении. Начальное состояние при активации голоса:** 
 ![ снимок экрана, показывающий приложение Contoso Finance, открытое на холст по умолчанию. Мультипликационное всплывающее меню справа говорит о contoso.](media/voice-assistants/windows_voice_assistant/initial_state.png)

**Представление в приложении. После успешной активации голоса начинается прослушивание:** ![ снимок экрана с голосовым помощником в Windows во время прослушивания голосовым помощником](media/voice-assistants/windows_voice_assistant/listening.png)

**Представление в приложении. Все ответы остаются в процессе работы приложения.** ![ Снимок экрана: помощник по голосовым сообщениям в Windows — ответы помощника](media/voice-assistants/windows_voice_assistant/response.png)

## <a name="design-guidance-for-voice-activation-above-lock"></a>Руководство по проектированию для активации голоса выше блокировки

Доступные в 19H2, помощники, созданные на платформе Windows Voice, позволяют получить ответ о блокировке.

### <a name="customer-opt-in"></a>Согласие пользователя

Активация голоса выше по умолчанию всегда отключена. Пользователи могут использовать параметры Windows>конфиденциальности>активации речи. Дополнительные сведения о мониторинге и запросе этого параметра см. в приведенном [выше руководством по реализации блокировки](windows-voice-assistants-implementation-guide.md#detecting-above-lock-activation-user-preference).

### <a name="not-a-lock-screen-replacement"></a>Не замена экрана блокировки

Хотя уведомления или другие точки интеграции на экране блокировки приложения по-прежнему доступны для помощника, на экране блокировки Windows всегда определяется первоначальный пользовательский интерфейс, пока не произойдет активация голоса. После обнаружения активации голоса приложение помощника временно появляется над экраном блокировки. Чтобы избежать путаницы с клиентами, когда активная блокировка была заблокирована, приложение помощника никогда не должно представлять пользовательский интерфейс для запроса любого типа учетных данных или входа.

![Снимок экрана: экран блокировки Windows](media/voice-assistants/windows_voice_assistant/lock_screen1.png)

### <a name="above-lock-experience-following-voice-activation"></a>Приведенная выше процедура блокировки после активации голоса

Когда экран включен, приложение помощника находится в полноэкранном режиме без строки заголовка над экраном блокировки. Более крупные визуальные элементы и строгие описания голоса с надежным голосовым интерфейсом позволяют использовать в тех случаях, когда клиент слишком далеко не читается в пользовательском интерфейсе или если они заняты другой задачей (не ПК).

Когда экран остается недоступным, приложение помощника может воспроизвести еаркон, чтобы указать, что помощник активируется, и предоставить возможность использовать только голосовое взаимодействие.

![Снимок экрана: перед блокировкой, голосовым помощником](media/voice-assistants/windows_voice_assistant/above_lock_listening.png)

### <a name="dismissal-policies"></a>Политики увольнения

Помощник должен реализовать рекомендации, приведенные в этом разделе, чтобы облегчить пользователям вход в систему в следующий раз, когда требуется использовать компьютер под управлением Windows. Ниже приведены особые требования, которые должен реализовать помощник.

- **Все холсты в области помощника, отображающие приведенную выше блокировку, должны содержать значок X** в правом верхнем углу, который закрывает помощника.
- При **нажатии любой клавиши необходимо также закрыть приложение помощника**. Ввод с клавиатуры — это традиционный сигнал приложения блокировки, который клиент хочет войти в систему. Таким образом, любой ввод с клавиатуры и текстом не должен направляться в приложение. Вместо этого приложение должно самостоятельно отклонить при обнаружении ввода с клавиатуры, чтобы клиент мог легко войти на устройство.
- **Если экран выходит из строя, приложение должно самостоятельно отклонить.** Это гарантирует, что в следующий раз, когда клиент использует свой ПК, экран входа будет готов и ожидать их.
- Если приложение &quot; используется &quot; , оно может продолжаться над блокировкой. &quot;используется для создания &quot; любых входных или выходных данных. Например, при потоковой передаче музыки или видео приложение может продолжать работу над блокировкой. &quot;Дальнейшие &quot; действия в диалоговых окнах, посвященных включению и отключению, позволяют сохранить блокировку приложения.
- **Сведения о реализации для закрытия приложения** можно найти [в приведенном выше руководством по реализации блокировки](windows-voice-assistants-implementation-guide.md#closing-the-application).

![Снимок экрана, показывающий приведенное выше представление блокировки приложения Contoso Finance.](media/voice-assistants/windows_voice_assistant/above_lock_response.png)

![Снимок экрана рабочего стола с экраном блокировки Windows.](media/voice-assistants/windows_voice_assistant/lock_screen2.png)

### <a name="privacy-amp-security-considerations-above-lock"></a>&amp;Вопросы безопасности конфиденциальности при блокировке

Многие компьютеры являются переносимыми, но не всегда находятся в пределах клиента. Они могут ненадолго остаться в гостиницах, рабочих помещениях в самолете или рабочих областях, где у других людей есть физический доступ. Если помощники, включенные выше блокировки, не подготовлены, они могут подвергаться классу так называемых &quot; [evil maid](https://en.wikipedia.org/wiki/Evil_maid_attack) &quot; атак злоумышленников Маид.

Таким образом, помощники должны следовать инструкциям в этом разделе, чтобы обеспечить безопасность работы. Взаимодействие над блокировкой происходит, когда пользователь Windows не прошел проверку подлинности. Это означает, что в общем случае **входные данные для помощника также должны рассматриваться как непроверенные**.

- Помощники должны **реализовать список допустимых навыков для поиска навыков, которые подтверждают безопасность и безопасность при** блокировке.
- Технологии идентификации докладчика могут играть роль в устранении некоторых рисков, но идентификатор докладчика не является подходящей заменой для проверки подлинности Windows.
- Список допустимых навыков должен рассматриваться в трех классах действий или навыков:

| **Класс Action** | **Описание** | **Примеры (не полный список)** |
| --- | --- | --- |
| Безопасность без проверки подлинности | Сведения общего назначения или основная команда и управление приложением | &quot;Что такое время? &quot; , &quot; воспроизвести следующую запись&quot; |
| Безопасность с ИД динамика | Риск олицетворения, раскрытие персональных данных. | &quot;Что&#39;в моей следующей встрече? &quot; , &quot; Просмотр списка покупок &quot; , &quot; ответ на звонок&quot; |
| Безопасность только после проверки подлинности Windows | Действия с высоким риском, которые злоумышленник может использовать для причинения вреда клиенту | &quot;Купить больше гроцериес &quot; , &quot; удалить мою (важную) встречу &quot; , &quot; Отправить текстовое сообщение (среднее) &quot; , &quot; запустить веб-страницу (злостный)&quot; |

В случае Contoso общие сведения об общедоступных акциях являются надежными без проверки подлинности. Сведения о клиенте, например количество общих акций, вполне надежны с помощью идентификатора динамика. Однако покупка или продажа акций никогда не может быть разрешена без проверки подлинности Windows.

Для дальнейшей защиты работы, **связи или другие запуски приложений всегда будут блокироваться Windows, пока клиент не войдет в систему.** В качестве последнего средства устранения проблемы корпорация Майкрософт оставляет за собой право удалить приложение из списка разрешенных помощников, если серьезная ошибка безопасности не будет устранена своевременно.

## <a name="design-guidance-for-voice-activation-preview"></a>Руководство по проектированию для предварительной версии активации голоса

Под блокировкой, когда приложение помощника _не_ имеет фокуса, Windows предоставляет менее пользовательский интерфейс активации голоса, чтобы помочь обеспечить работу клиента. Это особенно справедливо в случае ложных активаций, которые будут очень сильно прерываться при запуске полного приложения. Основная идея состоит в том, что у каждого помощника есть еще одна домашняя страница в оболочке, значок панели задач помощника. При выполнении запроса на фоновую активацию отображается небольшое представление над значком панели задач помощника. Помощники должны предоставлять небольшие возможности для прослушивания на этом холсте. После обработки запросов помощники могут изменить размер этого представления, чтобы показать контекстный ответ или передать его в основное представление приложения, чтобы показать более крупные и более подробные визуальные элементы.

- Чтобы остаться минимальным, в предварительной версии отсутствует заголовок окна, поэтому **помощник должен нарисовать значок X в правом верхнем углу, чтобы позволить клиентам закрыть представление.** См. сведения о [закрытии приложения](windows-voice-assistants-implementation-guide.md#closing-the-application) для вызова интерфейсов API, которые должны вызываться при нажатии кнопки "Закрыть".
- Для поддержки предварительных версий активации голоса помощники могут пригласить пользователей закреплять помощника на панели задач во время первого запуска.

**Предварительная версия активации голоса: начальное состояние**

У помощника Contoso есть домашняя страница на панели задач: их значок со круглым значком.

![Снимок экрана с голосовым помощником в Windows в качестве значка на панели задач перед активацией](media/voice-assistants/windows_voice_assistant/pre_compact_view.png)

По **мере выполнения активации**помощник запрашивает фоновую активацию. Помощнику предоставляется небольшая панель предварительного просмотра (ширина 408 и высота: 248). Если серверная активация на стороне сервера определяет сигнал как ложное срабатывание, это представление может быть закрыто для минимального перерыва.

![Снимок экрана с голосовым помощником в Windows в компактном представлении при проверке активации](media/voice-assistants/windows_voice_assistant/compact_view_activating.png)

**После подтверждения окончательной активации**помощник предоставляет свой интерфейс для прослушивания. Помощник должен всегда рисовать значок «отклонить X» в верхнем правом углу предварительной версии активации голоса.

![Снимок экрана с голосовым помощником в Windows, слушающем в Compact View](media/voice-assistants/windows_voice_assistant/compact_view_listening.png)

**Быстрые ответы** могут отображаться в предварительной версии активации голоса. Триресизевиев позволит помощникам запрашивать различные размеры.

![Снимок экрана с голосовым помощником при ответе Windows в компактном представлении](media/voice-assistants/windows_voice_assistant/compact_view_response.png)

**Вручную**. В любой момент помощник может передать свое основное представление приложения, чтобы предоставить дополнительные сведения, диалог или ответы, требующие больше свободного места на экране. Сведения о реализации см. в разделе [Переход от компактного представления к полному представлению](windows-voice-assistants-implementation-guide.md#transition-from-compact-view-to-full-view) .

![Снимки экрана помощника по голосовым сообщениям в Windows до и после развертывания компактного представления](media/voice-assistants/windows_voice_assistant/compact_transition.png)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Приступая к разработке речевого помощника](how-to-windows-voice-assistants-get-started.md)