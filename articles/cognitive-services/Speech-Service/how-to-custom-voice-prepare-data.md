---
title: Подготовка данных для пользовательской службы голосовой речи
titleSuffix: Azure Cognitive Services
description: Создание пользовательского голоса для торговой марки с помощью службы распознавания речи. Вы предоставляете записи студии и связанные с ними сценарии, служба создает уникальную голосовую модель, настроенную для записанного голоса. Используйте этот голос для синтезирования речи в продуктах, средствах и приложениях.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: 5427e9f996fb77d455aa8064fc7cb1c65e1fcf7e
ms.sourcegitcommit: 5aefc96fd34c141275af31874700edbb829436bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2019
ms.locfileid: "74805983"
---
# <a name="prepare-data-to-create-a-custom-voice"></a>Подготовка данных для создания пользовательского голоса

Когда вы будете готовы создать собственную голосовую речь для вашего приложения, первым делом необходимо собрать звуковые записи и связанные с ними сценарии, чтобы начать обучение модели голоса. Служба распознавания речи использует эти данные для создания уникального голоса, настроенного для сопоставления голоса в записях. После обучения голоса можно приступить к синтезированию речи в приложениях.

Для создания подтверждения концепции можно начать с небольшого объема данных. Тем не менее, чем больше данных вы предоставляете, тем более естественным будет звуковой пользователь. Прежде чем вы сможете обучить собственную голосовую модель преобразования текста в речь, вам понадобятся звуковые записи и соответствующие текстовые сообщения. На этой странице мы рассмотрим типы данных, их использование и управление ими.

## <a name="data-types"></a>Типы данных

Набор данных для обучения голоса включает звуковые записи и текстовый файл со связанными транскрипциями. Каждый звуковой файл должен содержать один utterance (одно предложение или один ход для системы) и быть менее 15 секунд.

В некоторых случаях у вас может не быть готового набора данных и нужно будет протестировать пользовательское речевое обучение с помощью доступных звуковых файлов, коротких или длинных, с транскрипциями или без них. Мы предоставляем средства (бета-версия), которые помогут вам сегментировать звук в фразы продолжительностью и подготовить записи с помощью [API-интерфейса для транскрипции пакетной](batch-transcription.md)службы.

В этой таблице перечислены типы данных и их использование для создания пользовательской голосовой модели преобразования текста в речь.

| Тип данных | Описание | Сценарии использования | Требуется дополнительная служба | Количество для обучения модели | Языковой стандарт (s) |
| --------- | ----------- | ----------- | --------------------------- | ----------------------------- | --------- |
| **Индивидуальный фразы продолжительностью и соответствующий транскрипция** | Коллекция (ZIP) звуковых файлов (. wav) в виде отдельных фразы продолжительностью. Длина каждого звукового файла должна составлять 15 секунд или меньше в паре с форматированной записью (txt). | Профессиональные записи с совпадающими записями | Готовы к обучению. | Нет жестких требований для en-US и zh-CN. Более 2000 и DISTINCT фразы продолжительностью для других языков. | [Все пользовательские языки голоса](language-support.md#customization) |
| **Длинный звук + транскрипция (бета-версия)** | Коллекция (ZIP) длинных несегментированных звуковых файлов (более 20 секунд), сопоставленная с записью (txt), которая содержит все произносимые слова. | У вас есть звуковые файлы и соответствующие записи, но они не разбиты на фразы продолжительностью. | Сегментация (с использованием записи пакетов).<br>Преобразование формата аудио, если это необходимо. | Нет жесткой потребности  | [Все пользовательские языки голоса](language-support.md#customization) |
| **Только аудио (бета-версия)** | Коллекция (ZIP) звуковых файлов без транскрипции. | Доступны только звуковые файлы без транскрипции. | Сегментация и создание транскрипции (с помощью записи пакетов).<br>Преобразование формата аудио, если это необходимо.| Нет жесткой потребности | [Все пользовательские языки голоса](language-support.md#customization) |

Файлы должны быть сгруппированы по типу в набор данных и переданы в виде ZIP-файла. Каждый набор данных может содержать только один тип данных.

> [!NOTE]
> Максимальное количество наборов данных, которые могут быть импортированы на подписку, составляет 10. zip-файлы для бесплатных подписок (F0) и 500 для пользователей стандартной подписки (S0).

## <a name="individual-utterances--matching-transcript"></a>Индивидуальный фразы продолжительностью и соответствующий транскрипция

Вы можете подготовить записи отдельных фразы продолжительностью и соответствующих записей двумя способами. Напишите сценарий и прочтите его с помощью голоса или воспользуйтесь общедоступным аудио и транскрипция его в текст. В последнем случае отредактируйте в аудиофайлах слова-паразиты, такие как "эм", заикание, нечетко или неправильно произнесенные слова.

Чтобы создать хороший шрифт голоса, создайте записи в тихом помещении с высококачественным микрофоном. Очень важен последовательное соответствие громкости, скорости речи, наклона речи и выразительных маннерисмс.

> [!TIP]
> Чтобы создать голос для использования в рабочей среде, рекомендуем использовать профессиональную студию звукозаписи и актера озвучивания. Дополнительные сведения см. в разделе [Как записывать образцы голоса для создания пользовательских голосовых моделей](record-custom-voice-samples.md).

### <a name="audio-files"></a>Аудиофайлы

Каждый звуковой файл должен содержать одну utterance (одно предложение или одну поочередную систему), продолжительность которой менее 15 секунд. Все файлы должны иметь одинаковый язык. Пользовательские голоса преобразования текста в речь не поддерживаются, за исключением английского языка (BI-English). Каждый звуковой файл должен иметь уникальное числовое имя файла с расширением WAV.

При подготовке звука следуйте этим рекомендациям.

| Свойство | Value |
| -------- | ----- |
| Формат файла | Metallica (. wav), сгруппированный в ZIP-файл |
| Частота выборки | Не менее 16 000 Гц |
| Формат выборки | PCM, 16-разрядные |
| Имя файла | Numeric с расширением. wav. Дублирующиеся имена файлов не допускаются. |
| Длина звука | Короче 15 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

> [!NOTE]
> WAV-файлы с частотой выборки ниже 16 000 Гц будут отклонены. Если ZIP-файл содержит WAV-файлы с разной частотой выборки, будут импортированы только значения, равные или превышающие 16 000 Гц. Портал в настоящее время импортирует ZIP-архивы размером до 200 МБ. Однако можно отправить несколько архивов.

### <a name="transcripts"></a>Расшифровка

Файл транскрипции является обычным текстовым файлом. Используйте эти рекомендации для подготовки транскрипций.

| Свойство | Value |
| -------- | ----- |
| Формат файла | Обычный текст (TXT) |
| Формат кодировки | ANSI/ASCII, UTF-8, UTF-8-BOM, UTF-16-LE или UTF-16-быть. Для кодировок zh-CN, ANSI/ASCII и UTF-8 не поддерживаются. |
| Количество фраз в строке | **Одна** строка файла транскрипции должна содержать имя одного из звуковых файлов, за которым следует соответствующая транскрипция. Для разделения имени файла и транскрипции необходимо использовать символ табуляции (\t). |
| Максимальный размер файла | 2048 МБ |

Ниже приведен пример упорядочения записей utterance by utterance в одном TXT-файле:

```
0000000001[tab] This is the waistline, and it's falling.
0000000002[tab] We have trouble scoring.
0000000003[tab] It was Janet Maslin.
```
Важно, чтобы записи со100% точных транскрипций соответствующего аудио. Ошибки в транскрипциях применяют потери качества во время обучения.

> [!TIP]
> При создании голоса преобразования текста в речь выберите фразы продолжительностью (или напишите скрипты), которые должны учитывать как фонетическое покрытие, так и эффективность. Возникли проблемы при получении требуемых результатов? [Свяжитесь с настраиваемой командой Voice](mailto:speechsupport@microsoft.com) , чтобы узнать больше о том, как обратиться к нам.

## <a name="long-audio--transcript-beta"></a>Длинный звук + транскрипция (бета-версия)

В некоторых случаях сегментированный звук не может быть доступен. Мы предоставляем службу (бета-версия) с помощью пользовательского голосового портала для сегментирования длинных звуковых файлов и создания транскрипций. Не забывайте, что эта услуга будет начисляться за использование вашей подписки с использованием речи в текст.

> [!NOTE]
> Служба долгосрочной сегментации будет использовать функцию записи пакетов речи в текст, которая поддерживает только стандартные пользователи подписки (S0). Во время обработки сегментации ваши звуковые файлы и записи также будут отправляться в службу Пользовательское распознавание речи для уточнения модели распознавания, чтобы можно было улучшить точность данных. Во время этого процесса данные не будут сохранены. По завершении сегментации будут сохранены только фразы продолжительностью сегментированные и их записи сопоставления для скачивания и обучения.

### <a name="audio-files"></a>Аудиофайлы

При подготовке звука для сегментации следуйте этим рекомендациям.

| Свойство | Value |
| -------- | ----- |
| Формат файла | Metallica (. wav) с частотой выборки не менее 16 кГц-16-бит в PCM или MP3 с поразрядной скоростью не менее 256 кбит/с, сгруппированную в ZIP-файл |
| Имя файла | Поддерживаются символы ASCII и Юникод. Дублирующиеся имена не допускаются. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все звуковые файлы должны быть сгруппированы в ZIP-файл. Файлы. wav и. MP3 можно помещают в один звуковой ZIP-файл. Например, можно передать ZIP-файл, содержащий звуковой файл с именем "кингстори. wav", 45-Second-Long, и другой звук с именем "куинстори. mp3", 200 – Second-Long. Все MP3-файлы будут преобразованы в формат. wav после обработки.

### <a name="transcripts"></a>Расшифровка

Записи должны быть подготовлены к спецификациям, перечисленным в этой таблице. Каждый звуковой файл должен соответствовать транскрипции.

| Свойство | Value |
| -------- | ----- |
| Формат файла | Обычный текст (txt), сгруппированный в ZIP-файл |
| Имя файла | Использовать то же имя, что и для соответствующего звукового файла |
| Формат кодировки | Только UTF-8-BOM |
| Количество фраз в строке | Без ограничений |
| Максимальный размер файла | 2048 МБ |

Все файлы с транскрипциями в этом типе данных должны быть сгруппированы в ZIP-файл. Например, вы отправили ZIP-файл, содержащий звуковой файл с именем "кингстори. wav", 45 секунд и еще один с именем "куинстори. mp3", который длиннее 200 секунд. Необходимо отправить еще один ZIP-файл, содержащий два записи с именем "кингстори. txt", другой — "куинстори. txt". В каждом простом текстовом файле будет предоставлена полная правильная транскрипция для соответствующего звука.

После успешной отправки набора данных мы поможем сегментировать звуковой файл в фразы продолжительностью на основе предоставленной записи. Вы можете проверить сегментированные фразы продолжительностью и записи с совпадающими записями, загрузив набор данных. Уникальные идентификаторы будут автоматически назначены сегментированному фразы продолжительностью. Важно убедиться, что вводимые вами записи имеют точность 100%. Ошибки в транскрипции могут снизить точность во время сегментации звука и далее ввести качество на этапе обучения, который поступает позже.

## <a name="audio-only-beta"></a>Только аудио (бета-версия)

Если у вас нет транскрипции для звуковых записей, используйте параметр **только Audio** для передачи данных. Наша система может помочь вам сегментировать и транскрипция звуковые файлы. Помните, что эта служба будет подсчитывать использование подписок речи в текст.

При подготовке звука следуйте этим рекомендациям.

> [!NOTE]
> Служба долгосрочной сегментации будет использовать функцию записи пакетов речи в текст, которая поддерживает только стандартные пользователи подписки (S0).

| Свойство | Value |
| -------- | ----- |
| Формат файла | Metallica (. wav) с частотой выборки не менее 16 кГц-16-бит в PCM или MP3 с поразрядной скоростью не менее 256 кбит/с, сгруппированную в ZIP-файл |
| Имя файла | Поддерживаются символы ASCII и Юникод. Дублирующиеся имена не допускаются. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все звуковые файлы должны быть сгруппированы в ZIP-файл. После успешной отправки набора данных мы поможем вам сегментировать звуковой файл в фразы продолжительностью, основываясь на службе транскрипции речевого пакета. Уникальные идентификаторы будут автоматически назначены сегментированному фразы продолжительностью. Соответствующие записи будут создаваться с помощью распознавания речи. Все MP3-файлы будут преобразованы в формат. wav после обработки. Вы можете проверить сегментированные фразы продолжительностью и записи с совпадающими записями, загрузив набор данных.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание пользовательского голоса](how-to-custom-voice-create-voice.md)
- [Руководство. запись образцов голоса](record-custom-voice-samples.md)
