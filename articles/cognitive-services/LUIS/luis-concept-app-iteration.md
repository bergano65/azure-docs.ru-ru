---
title: Разработка итеративных приложений — LUIS
titleSuffix: Azure Cognitive Services
description: LUIS лучше всего обучается на итеративных циклах изменения моделей, примерах высказываний, публикации содержимого и сборе данных из запросов к конечным точкам.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 11/20/2019
ms.author: diberry
ms.openlocfilehash: c1c1b2df301634a435b610c395a1a58aa5573da3
ms.sourcegitcommit: 4c831e768bb43e232de9738b363063590faa0472
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/23/2019
ms.locfileid: "74422589"
---
# <a name="iterative-app-design-for-luis"></a>Итеративная разработка приложений для LUIS

Приложение Language Understanding (LUIS) изучает и выполняет наиболее эффективное использование итерации. Вот типичный цикл итерации:

* создать новую версию
* Измените схему приложения LUIS. А именно:
    * намерения с примером фразы продолжительностью
    * Сущности
    * Функции
* Обучение, тестирование и публикация
    * Тестирование в конечной точке прогнозирования для активного обучения
* сбор данных из запросов конечной точки

![Цикл разработки](./media/luis-concept-app-iteration/iteration.png)

## <a name="building-a-luis-schema"></a>Создание схемы LUIS

Схема приложения определяет, что пользователь запрашивает ( _намерение_ или _намерение_ ) и какие части цели предоставляют сведения (называемые _сущностями_), которые используются для определения ответа. 

Схема приложения должна быть специальной для доменов приложений, чтобы определять применимые слова и фразы, а также определять типичное упорядочение слов. 

Пример фразы продолжительностью представляют входные данные пользователя, такие как распознанный голос или текст, которые приложение ждет во время выполнения. 

Схема требует целей и _должна иметь_ сущности. 

### <a name="example-schema-of-intents"></a>Пример схемы целей

Наиболее распространенная схема — это схема намерения, упорядоченная с использованием целей. Этот тип схемы использует LUIS для определения намерения пользователя. 

Тип схемы намерения может иметь сущности, если он помогает LUIS определить намерение пользователя. Например, объект отгрузки (в качестве дескриптора цели) помогает LUIS определить цель доставки. 

### <a name="example-schema-of-entities"></a>Пример схемы сущностей

Схема сущности фокусируется на сущностях, которые являются данными, извлеченными из пользователя фразы продолжительностью. Например, если пользователь хотел бы сказать: «я хочу заказать три пиццы». Есть две сущности, которые будут извлечены: _три_ и _пиццы_. Они используются для удовлетворения намерений, которые были внесены в заказ. 

Для схемы сущности цель utterance менее важна для клиентского приложения. 

Распространенным способом организации схемы сущности является добавление всех примеров фразы продолжительностью к намерениям **None** . 

### <a name="example-of-a-mixed-schema"></a>Пример смешанной схемы

Самая мощная и зрелая схема — это схема намерения с полным набором сущностей и функций. Эта схема может начинаться как схема намерения или сущности и увеличиваться, чтобы включать в себя основные понятия, так как клиентское приложение нуждается в этих фрагментах информации. 

## <a name="add-example-utterances-to-intents"></a>Добавить пример фразы продолжительностью к каждому из целей

LUIS требуется несколько примеров фразы продолжительностью в каждом **намерении**. В примере фразы продолжительностью требуется достаточно вариантов выбора слов и порядка слов, чтобы определить, для чего предназначено utterance. 

> [!CAUTION]
> Не добавляйте пример фразы продолжительностью в групповой операции. Начните с 15 – 30 отдельных и различных примеров. 

Каждый пример utterance должен иметь все **необходимые данные для извлечения** и пометки с **сущностями**. 

|Key, элемент|Назначение|
|--|--|
|Намерение|**Классифицировать** пользователя фразы продолжительностью в одну намерение или действие. Примеры: `BookFlight` и `GetWeather`.|
|Сущность|Чтобы завершить намерение, необходимо **извлечь** данные из utterance. К примерам относятся Дата и время поездки и расположение.|

Приложение LUIS может быть спроектировано таким образом, чтобы игнорировать фразы продолжительностью, не относящиеся к домену приложения, путем назначения utterance намерению **None** .

## <a name="test-and-train-your-app"></a>Тестирование и обучение приложения

После получения от 15 до 30 различных примеров, фразы продолжительностью в каждом намерении, с пометкой необходимых сущностей, необходимо протестировать и [обучить](luis-how-to-train.md) приложение Luis. 

## <a name="publish-to-a-prediction-endpoint"></a>Публикация в конечной точке прогнозирования

Приложение LUIS должно быть опубликовано, чтобы оно было доступно в [областях прогнозирования конечных точек](luis-reference-regions.md).

## <a name="test-your-published-app"></a>Тестирование опубликованного приложения

Вы можете протестировать опубликованное приложение LUIS из конечной точки прогнозирования HTTPS. Тестирование из конечной точки прогнозирования позволяет LUIS выбирать любой фразы продолжительностью с низкой достоверностью для [проверки](luis-how-to-review-endpoint-utterances.md).  

## <a name="create-a-new-version-for-each-cycle"></a>Создать новую версию для каждого цикла

Каждая версия является моментальным снимком времени приложения LUIS. Перед внесением изменений в приложение создайте новую версию. Проще вернуться к более старой версии, чем пытаться удалить способы и фразы продолжительностью предыдущее состояние.

ИД версии состоит из символов, цифр или точки ".". Его длина не может превышать 10 символов.

Исходная версия (0.1) является заданной по умолчанию активной версией. 

### <a name="begin-by-cloning-an-existing-version"></a>Начните с клонирования существующей версии

Клонирование существующей версии для использования в качестве отправной точки для каждой новой версии. После клонирования версии новая версия станет **активной** . 

### <a name="publishing-slots"></a>Слоты публикации

Вы можете опубликовать в рабочей области или в рабочих слотах. У слотов могут быть разные или одинаковые версии. Это полезно для проверки изменений перед публикацией в рабочей среде, доступной для программы-роботы или других вызывающих приложений LUIS. 

Обученные версии не будут автоматически доступны на [конечной точке](luis-glossary.md#endpoint)приложения Luis. Необходимо [опубликовать](luis-how-to-publish-app.md) или повторно опубликовать версию, чтобы она была доступна в конечной точке приложения Luis. Вы можете опубликовать в **промежуточном** и **рабочем**месте, предоставив две версии приложения, доступные на конечной точке. Если требуется, чтобы в конечной точке были доступны дополнительные версии приложения, необходимо экспортировать версию и повторно импортировать ее в новое приложение. Новое приложение имеет другой идентификатор.

### <a name="import-and-export-a-version"></a>Импорт и экспорт версии

Версию можно импортировать на уровне приложения. Эта версия станет активной версией и использует идентификатор версии в свойстве `versionId` файла приложения. Также можно импортировать в существующее приложение на уровне версии. Новая версия становится активной версией. 

Версию можно также экспортировать на уровне приложения или версии. Единственное отличие заключается в том, что экспортированная на уровне приложения версии является текущей активной версией, тогда как на странице **[Параметры](luis-how-to-manage-versions.md)** на уровне версии можно экспортировать любую версию. 

Экспортированный файл **не** содержит:

* Сведения, полученные от компьютера, так как приложение переучить после импорта
* сведения о участнике

Чтобы создать резервную копию схемы приложения LUIS, экспортируйте версию на [портале Luis](https://www.luis.ai/applications).

## <a name="manage-contributor-changes-with-versions-and-contributors"></a>Управление изменениями участников с помощью версий и участников

LUIS использует концепцию участников в приложении, предоставляя разрешения уровня ресурса Azure. Объедините эту концепцию с управлением версиями, чтобы обеспечить целевую совместную работу. 

Используйте следующие методы для управления изменениями участников приложения.

### <a name="manage-multiple-versions-inside-the-same-app"></a>Управление несколькими версиями внутри одного приложения

Начните с [клонирования](luis-how-to-manage-versions.md#clone-a-version) из базовой версии для каждого автора. 

Каждый автор вносит изменения в собственную версию приложения. Когда автор удовлетворяет модели, экспортируйте новые версии в JSON-файлы.  

Экспортированные приложения,. JSON или. lu файлы можно сравнивать с изменениями. Объедините файлы, чтобы создать один файл новой версии. Измените свойство `versionId`, чтобы обозначить новую объединенную версию. Импортируйте эту версию в исходное приложение. 

Этот метод позволяет иметь одну активную версию, одну промежуточную версию и одну опубликованную версию. Вы можете сравнить результаты активной версии с опубликованной версией (этап или рабочая) на [панели интерактивного тестирования](luis-interactive-test.md).

### <a name="manage-multiple-versions-as-apps"></a>Управление несколькими версиями как приложениями

[Экспортируйте](luis-how-to-manage-versions.md#export-version) базовую версию. Каждый разработчик импортирует версию. Человек, который импортирует приложение, является владельцем версии. Когда разработчики завершат вносить изменения в приложение, экспортируйте версию. 

Экспортированные приложения представляют собой файлы формата JSON, которые можно сравнивать с базовой версией. Объедините файлы, чтобы создать один JSON-файл новой версии. Измените свойство **versionId** в JSON-файле для обозначения новой объединенной версии. Импортируйте эту версию в исходное приложение.

Узнайте больше о создании вкладов из [участников совместной работы](luis-how-to-collaborate.md).

## <a name="review-endpoint-utterances-to-begin-the-new-iterative-cycle"></a>Проверка конечной точки фразы продолжительностью для начала нового цикла итерации

По завершении цикла итерации можно повторить процесс. Начните с [проверки конечной точки прогнозирования фразы продолжительностью](luis-how-to-review-endpoint-utterances.md) Luis, помеченной с низким уровнем достоверности. Проверьте эти фразы продолжительностью и правильность прогнозируемого намерения и правильность и полноту извлеченных сущностей. После просмотра и принятия изменений список проверки должен быть пустым.  

## <a name="next-steps"></a>Дополнительная информация

Узнайте о принципах [совместной работы](luis-concept-keys.md).
