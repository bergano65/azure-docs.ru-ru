---
title: Добавление примеров высказываний в приложения LUIS
titleSuffix: Azure Cognitive Services
description: Сведения о добавлении фрагментов речи в приложения службы "Распознавание речи" (LUIS).
services: cognitive-services
author: diberry
manager: cgronlun
ms.service: cognitive-services
ms.component: language-understanding
ms.topic: article
ms.date: 10/24/2018
ms.author: diberry
ms.openlocfilehash: caf8628569481149ee41e8253f4759e15e49150f
ms.sourcegitcommit: 0f54b9dbcf82346417ad69cbef266bc7804a5f0e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/26/2018
ms.locfileid: "50139129"
---
# <a name="add-an-entity-to-example-utterances"></a>Добавление сущности к примерам высказываний 

Примеры высказываний являются примерами текста пользовательских вопросов или команд. Для обучения службы "Распознавание речи"(LUIS) необходимо добавить [примеры фрагментов речи](luis-concept-utterance.md) в [намерение](luis-concept-intent.md).

Как правило, сначала следует добавить пример высказывания в намерение, а затем создать сущности и помеченные высказывания на странице намерений. Если вам нужно сначала создать сущности, см. [этот](luis-how-to-add-entities.md) раздел.

## <a name="marking-entities-in-example-utterances"></a>Маркировка сущностей в примерах высказываний

При выборе текста в примере высказываний для маркировки сущности появится контекстное меню на месте. Используйте это меню для создания или выбора сущности. 

Некоторые типы сущностей, например предварительно созданные сущности и сущности регулярного выражения, невозможно отметить в примере высказываний, так как они отмечены автоматически. 

## <a name="add-a-simple-entity"></a>Добавление простой сущности

В следующей процедуре создайте и отметьте настраиваемую сущность для следующего высказывания на странице намерений.

```text
Does John Smith work in Seattle?
```

1. Выберите `Seattle` в высказывании, чтобы отметить его как простую сущность.

    [![Снимок экрана, на котором продемонстрировано выделение текста в высказывании для простой сущности](./media/luis-how-to-add-example-utterances/hr-create-simple-1.png)](./media/luis-how-to-add-example-utterances/hr-create-simple-1.png)

    > [!NOTE]
    > Во время выбора слов, которые нужно отметить в качестве сущностей, выполните следующие действия.
    > * Если это одно слово — просто выберите его. 
    > * Если это словосочетание — выделите всю фразу от начала до конца.

1. В окне раскрывающего списка сущностей можно выбрать имеющийся объект или добавить новую сущность. Чтобы добавить новую сущность, введите ее имя в текстовое поле и выберите **Create new entity** (Создать сущность). 

    ![Снимок экрана ввода имени сущности](./media/luis-how-to-add-example-utterances/hr-create-simple-2.png)

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) проверьте имя сущности, выберите **Простой** тип сущности и щелкните **Done** (Готово).

    Обычно [список фраз](luis-concept-feature.md) используют для усиления сигнала простой сущности.

## <a name="add-a-list-entity"></a>Добавление сущности списка

Сущности списка представляют собой фиксированный, закрытый набор (точные текстовые совпадения) связанных слов в системе. 

Для списка отделов компании у вас могут быть обыкновенные значения: `Accounting` и `Human Resources`. Каждое нормализованное название имеет синонимы. Для отдела эти синонимы могут включать любые аббревиатуры, числа и сленговые выражения отдела. При создании сущности не нужно знать все значения. Вы можете добавить больше значений после просмотра высказываний реального пользователя с синонимами.

1. В списке примеров высказываний выберите слово или фразу для конкретного высказывания, которые вам нужны в новом списке. Введите имя списка в верхнем текстовом поле, а затем выберите **Create new entity** (Создать сущность).   

    ![Снимок экрана ввода имени сущности списка](./media/luis-how-to-add-example-utterances/hr-create-list-1.png)


1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) выберите **Список** в качестве типа. Добавьте синонимы данного элемента списка, а затем выберите **Done** (Готово). 

    ![Снимок экрана ввода синонимов сущности списка](./media/luis-how-to-add-example-utterances/hr-create-list-2.png)

    Вы можете добавить дополнительные элементы списка или синонимы элемента, отметив другие высказывания или изменив сущность на панели навигации **Сущности** слева. [Редактирование](luis-how-to-add-entities.md#add-list-entities) сущностей предоставляет варианты ввода дополнительных элементов с соответствующими синонимами или импорта списка. 

## <a name="add-composite-entity"></a>Добавление составной сущности

Составные сущности создаются с помощью превращения существующих **Сущностей** в родительскую сущность. 

Если высказывание — `Does John Smith work in Seattle?`, составное высказывание может возвращать сведения сущности о имени сотрудника и местоположение в родительском объекте. 

Имя сотрудника — Джон Смит — является предварительно созданной сущностью [personName](luis-reference-prebuilt-person.md). Расположение — Сиэтл — определяется простой настраиваемой сущностью. После того как эти две сущности созданы и отмечены в примере высказывания, они могут быть заключены в составную сущность. 

1. Чтобы создать программу-оболочку для отдельных сущностей в составной сущности, выберите **первую** помеченную сущность (крайнюю слева) в высказывании составной сущности. Отображается раскрывающийся список с вариантами для этого раздела.

1. Выберите **Wrap composite entity** (Создать программу-оболочку составной сущности) из раскрывающегося списка. 

    ![Снимок экрана выбора "Wrap in composite entity" (Заключить в составную сущность)](./media/luis-how-to-add-example-utterances/hr-create-composite-1.png)

1. Выберите последнее слово составной сущности (крайнее справа). Обратите внимание, что зеленая линия следует за составной сущностью.

1. Введите название составной сущности в раскрывающем списке.

    ![Снимок экрана ввода имени сущности](./media/luis-how-to-add-example-utterances/hr-create-composite-2.png)

    Если правильно создать программу-оболочку сущности, зеленая линия находится под всей этой фразой.

1. Проверьте сведения о составной сущности во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?), затем выберите **Done** (Готово).

    ![Снимок экрана сведений о сущности во всплывающем окне](./media/luis-how-to-add-example-utterances/hr-create-composite-3.png)

1. Составная сущность отображается с помощью синей подсветки для отдельных сущностей и зеленой линии для всей составной сущности. 

    ![Снимок экрана страницы сведений о намерении с составной сущностью](./media/luis-how-to-add-example-utterances/hr-create-composite-4.png)

## <a name="add-hierarchical-entity"></a>Добавление иерархической сущности

Иерархическая сущность — это категория контекстно-зависимых обученных и концептуально связанных сущностей. В следующем примере сущность содержит исходное и конечное расположения. 

В высказывании `Move John Smith from Seattle to Cairo` "Сиэтл" является исходным, а "Каир" — конечным расположением. Каждое расположение контекстуально отличается и получается на основе порядка и выбора слов в высказывании.

1. На странице намерений в высказывании выберите `Seattle`, а затем введите имя сущности `Location` и нажмите ВВОД на клавиатуре.

    ![Снимок экрана диалогового окна Create Hierarchical Entity Labeling (Создание меток иерархических сущностей)](./media/luis-how-to-add-example-utterances/hr-hier-1.png)

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) выберите _Иерархический_ для параметра **Тип сущности**, затем добавьте `Origin` и `Destination` как дочерние элементы и выберите **Done** (Готово).

    ![Снимок экрана страницы сведений о намерениях с выделенной сущностью ToLocation](./media/luis-how-to-add-example-utterances/create-location-hierarchical-entity.png)

1. Слово в высказывании было помечено иерархической родительской сущностью. Необходимо назначить слово дочерней сущности. Вернитесь к высказыванию на странице сведений о намерении. Выделите слово, а затем из раскрывающегося списка выберите имя сущности, которую вы создали, и перейдите в меню справа, чтобы выбрать необходимую дочернюю сущность.

    ![Снимок экрана страницы сведений о намерениях с выделенной сущностью ToLocation](./media/luis-how-to-add-example-utterances/hr-hier-3.png)

    >[!CAUTION]
    >Имена дочерних сущностей должны быть уникальными для всех сущностей в одном приложении. Две разные иерархические сущности не могут содержать дочерние элементы с тем же именем. 

## <a name="entity-status-predictions"></a>Прогнозирование состояния сущности

При вводе нового фрагмента речи на портале LUIS для него возможны ошибки прогнозирования сущности. Ошибка прогноза — это различие между тем, как сущность помечается, и прогнозом LUIS для нее. 

Такое различие визуально представлено на портале LUIS с помощью красного подчеркивания во фрагменте речи. Красное подчеркивание может отображаться в квадратных скобках сущности или за их пределами. 

![Снимок экрана с несоответствием прогноза состояния сущности](./media/luis-how-to-add-example-utterances/entity-prediction-error.png)

Выберите слова, подчеркнутые красным цветом во фрагменте речи. 

При наличии несоответствия прогноза в поле сущности отображается **Состояние сущности** с красным восклицательным знаком. Чтобы просмотреть состояние сущности с информацией о различиях между помеченной и спрогнозированной сущностями, выберите **Состояние сущности**, а затем элемент справа.

![Снимок экрана с несоответствием прогноза состояния сущности](./media/luis-how-to-add-example-utterances/entity-status.png)

Красная линия может отображаться в любом из следующих случаев:

   * При вводе фрагмента речи, но перед пометкой сущности
   * При применении метки сущности
   * При удалении метки сущности
   * При прогнозировании более одной метки сущности для этого текста 

Следующие решения помогают устранить расхождение прогнозов сущностей:

|Сущность|Визуальный индикатор|Прогнозирование|Решение|
|--|--|--|--|
|Фрагмент речи введен, сущность еще не помечена.|красное подчеркивание|Прогноз верен.|Пометка сущности прогнозированным значением.|
|Текст без метки|красное подчеркивание|Неправильный прогноз|Текущие фрагменты речи, использующие эту неверную сущность, нужно проверить для всех намерений. Текущие фрагменты речи имеют неправильно обученную LUIS, так что этот текст представляет собой спрогнозированную сущность.
|Правильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Неправильный прогноз|Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. Текущих фрагментов речи недостаточно для обучения LUIS тому, что это — сущность, либо похожие сущности отображаются в том же контексте. Аналогичные сущности следует объединить в одну сущность, чтобы не вносить в LUIS путаницу. Другим решением является добавление списка фраз для повышения значимости слов. |
|Неправильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Правильный прогноз| Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. 

## <a name="other-actions"></a>Другие действия

Можно выполнять действия на примерах высказываний в качестве выбранной группы и отдельного элемента. Группы выбранных примеров высказываний меняют контекстные меню над списком. Для одиночных элементов можно использовать и контекстные меню над списком, и отдельное контекстное многоточие в конце каждой строки высказываний. 

### <a name="remove-entity-labels-from-utterances"></a>Удаление меток сущности из высказываний

Вы можете удалить прошедшие машинное обучение метки сущностей из высказывания на странице намерений. Если сущность не прошла машинное обучение, ее нельзя удалить из высказывания. Если необходимо удалить сущность, которая не прошла машинное обучение, необходимо удалить ее из всего приложения. 

Чтобы удалить из высказывания метку сущности, прошедшей машинное обучение, выберите необходимую сущность в высказывании. Затем выберите **Remove Label** (Удалить метку) в появившемся поле раскрывающегося списка сущностей.

![Снимок экрана страницы сведений о намерении с выделенным пунктом удаления метки](./media/luis-how-to-add-example-utterances/remove-label.png) 

### <a name="add-prebuilt-entity-label"></a>Добавление предварительно созданной сущности

При добавлении предварительно созданных сущностей в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о предварительно созданных сущностях и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-prebuilt-entity).

### <a name="add-regular-expression-entity-label"></a>Добавление метки сущности регулярного высказывания

При добавлении сущностей регулярного выражения в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о сущностях регулярного высказывания и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-regular-expression-entities).


### <a name="create-a-pattern-from-an-utterance"></a>Создание шаблона на основе высказывания

Дополнительные сведения см. в разделе [Добавление шаблона на основе существующего фрагмента речи на странице сущности или намерения](luis-how-to-model-intent-pattern.md#add-pattern-from-existing-utterance-on-intent-or-entity-page).


### <a name="add-patternany-entity"></a>Добавление сущности pattern.any

При добавлении сущностей pattern.any в приложение LUIS невозможно отметить высказывания этими сущностями. Они действительны только в шаблонах. Дополнительные сведения о сущностях pattern.any и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-patternany-entities).

## <a name="train-your-app-after-changing-model-with-utterances"></a>Обучение приложения после изменения модели с высказываниями

После добавления, изменения и удаления высказываний выполните [обучение](luis-how-to-train.md) и [публикацию](luis-how-to-publish-app.md) приложения, чтобы применить изменения к запросам конечной точки. 

## <a name="next-steps"></a>Дополнительная информация

Отметив высказывания в намерениях, можно создать [составную сущность](luis-how-to-add-entities.md).
