---
title: Типы сущностей — LUIS
description: Сущность извлекает данные из пользователя, utterance в среде выполнения прогнозирования. _Необязательно_, вторичное назначение — увеличение прогноза намерения или других сущностей с помощью сущности в качестве функции.
ms.topic: conceptual
ms.date: 05/17/2020
ms.openlocfilehash: a5e4812eab84650401dd19b0f8d7b361a5135dd3
ms.sourcegitcommit: 50673ecc5bf8b443491b763b5f287dde046fdd31
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2020
ms.locfileid: "83682169"
---
# <a name="extract-data-with-entities"></a>Извлечение данных с помощью сущностей

Сущность извлекает данные из пользователя, utterance в среде выполнения прогнозирования. _Необязательно_, вторичное назначение — увеличение прогноза намерения или других сущностей с помощью сущности в качестве функции.

Существует несколько типов сущностей.

* [сущность машинного обучения](reference-entity-machine-learned-entity.md) — это основная сущность. Перед использованием других сущностей необходимо спроектировать схему с этим типом сущности.
* Немашинное обучение используется в качестве обязательного [компонента](luis-concept-feature.md) для точного соответствия текста, соответствия шаблону или обнаружения предварительно созданными сущностями.
* [Pattern. Any](#patternany-entity) — для извлечения текста в свободной форме, например названий книг из [шаблона](reference-entity-pattern-any.md) .

сущности машинного обучения обеспечивают широкий спектр вариантов извлечения данных. Сущности, не предназначенные для машинного обучения, работают с сопоставлением текста и используются в качестве [обязательной функции](#design-entities-for-decomposition) для сущностей или намерений машинного обучения.

## <a name="entities-represent-data"></a>Сущности представляют данные

Сущности — это данные, которые необходимо извлечь из utterance, такие как имена, даты, названия продуктов или любая значительная группа слов. Фраза может содержать много сущностей или вообще ни одной. Клиентское приложение _может_ потребовать данные для выполнения задачи.

Сущности должны помечаться одинаково во всех фразы продолжительностьюах обучения для каждой цели в модели.

 Вы можете определить собственные сущности или использовать готовые объекты, чтобы сэкономить время для таких распространенных концепций, как [datetimeV2](luis-reference-prebuilt-datetimev2.md), [Ordinal](luis-reference-prebuilt-ordinal.md), [e-mail](luis-reference-prebuilt-email.md)и [номер телефона](luis-reference-prebuilt-phonenumber.md).

|Фраза|Сущность|Данные|
|--|--|--|
|Купить 3 билета в Нью-Йорк|Предварительно созданная сущность number<br>Назначение|3<br>Нью-Йорк|


### <a name="entities-are-optional-but-recommended"></a>Сущности являются необязательными, но рекомендуется

Хотя для [целей](luis-concept-intent.md) требуются намерения, сущности являются необязательными. Вам не нужно создавать сущности для каждого понятия в приложении, но только для тех, где клиентское приложение нуждается в данных, или сущность выступает в качестве подсказки или сигнала другой сущности или намерению.

По мере разработки приложения и определения новой потребности в данных вы можете добавить соответствующие сущности в модель LUIS позже.

## <a name="entity-compared-to-intent"></a>Сущность по сравнению с намерением

Сущность представляет концепцию данных в _utterance_. Цель классифицирует _весь utterance_.

Рассмотрим следующие четыре фразы продолжительностью:

|Фраза|Прогнозирование намерения|Извлеченные сущности|Объяснение|
|--|--|--|--|
|Справка|help|-|Нет для извлечения.|
|Отправить что-нибудь|сендсомесинг|-|Нет для извлечения. В модели отсутствует обязательный компонент для извлечения `something` в этом контексте, и получатель не указан.|
|Отправить Бобу|сендсомесинг|`Bob`, `present`|Модель извлекается `Bob` путем добавления обязательной функции предварительно созданной сущности `personName` . Для извлечения используется сущность машинного обучения `present` .|
|Отправить Бобу поле шоколада|сендсомесинг|`Bob`, `box of chocolates`|Два важных фрагмента данных, `Bob` и, были `box of chocolates` извлечены сущностями машинного обучения.|

## <a name="design-entities-for-decomposition"></a>Проектирование сущностей для декомпозиции

сущности машинного обучения позволяют спроектировать схему приложения для декомпозиции, разбивая большую концепцию на подсущности.

Проектирование для декомпозиции позволяет LUIS вернуть в клиентское приложение глубокий уровень разрешения сущности. Это позволяет клиентскому приложению сосредоточиться на бизнес-правилах и оставить разрешение данных LUIS.

Сущность машинного обучения активируется на основе контекста, полученного в примере фразы продолжительностью.

[**объекты машинного обучения**](tutorial-machine-learned-entity.md) — это средства извлечения верхнего уровня. Вложенные сущности — это дочерние сущности сущностей машинного обучения.

## <a name="effective-machine-learned-entities"></a>Действующие сущности, полученные с компьютера

Чтобы эффективно создать сущности, полученные от компьютера:

* Метки должны быть согласованы по каждому из целей. Сюда входит даже фразы продолжительностью, которые вы предоставляете в качестве цели **None** , включающей эту сущность. В противном случае модель не сможет эффективно определять последовательности.
* При наличии сущности, полученной от компьютера с подсущностями, убедитесь, что различные заказы и варианты сущности и вложенных сущностей представлены в помеченном фразы продолжительностью. Пример фразы продолжительностью должен включать все допустимые формы и включать сущности, которые отображаются и отсутствуют, а также переупорядочиваются в utterance.
* Следует избегать перегонки сущностей до очень фиксированного набора. **Перегонка** происходит, когда модель не подготавливается к обобщению и является распространенной проблемой в моделях машинного обучения. Это означает, что приложение не будет работать с новыми данными надлежащим образом. В свою очередь, вы должны изменить помеченный пример фразы продолжительностью, чтобы приложение могло обобщаться по сравнению с предоставленными вами примерами. Вы должны изменить различные вложенные сущности с достаточным изменением для модели, чтобы представить больше концепции, а не только приведенные примеры.

<a name="composite-entity"></a>
<a name="list-entity"></a>
<a name="patternany-entity"></a>
<a name="prebuilt-entity"></a>
<a name="regular-expression-entity"></a>
<a name="simple-entity"></a>

## <a name="types-of-entities"></a>Типы сущностей

Подсущность для родителя должна быть сущностью машинного обучения. Подсущность может использовать сущность, не предназначенную для машинного обучения, в качестве [функции](luis-concept-feature.md).

Выберите сущность на основе способа извлечения данных и их представления после извлечения.

|Тип сущности|Назначение|
|--|--|
|[**Полученные компьютером**](tutorial-machine-learned-entity.md)|Извлекайте вложенные сложные данные, полученные из помеченных примеров. |
|[**Числ**](reference-entity-list.md)|Список элементов и их синонимов, извлеченных с **точным совпадением текста**.|
|[**Pattern. Any**](#patternany-entity)|Сущность, где не удается найти конец сущности, трудно определить, так как сущность является свободной формой. Доступно только в [шаблонах](luis-concept-patterns.md).|
|[**Предварительно созданная**](luis-reference-prebuilt-entities.md)|Уже обучено извлечение конкретного вида данных, таких как URL-адрес или электронная почта. Некоторые из этих предварительно созданных сущностей определены в проекте [Recognizers-Text](https://github.com/Microsoft/Recognizers-Text) с открытым исходным кодом. Если в настоящее время определенный язык и региональные параметры или сущность не поддерживается, примите участие в добавлении материалов в проект.|
|[**Регулярное выражение**](reference-entity-regular-expression.md)|Использует регулярное выражение для **точного совпадения текста**.|


## <a name="extraction-versus-resolution"></a>Извлечение и разрешение

Сущности извлекают данные, так как данные появляются в utterance. Сущности не изменяют и не разрешают данные. Сущность не будет предоставлять разрешение, если текст является допустимым значением для сущности.

Существует несколько способов решения проблемы при извлечении, но следует иметь в виду, что это ограничивает возможности приложения независимыми от вариаций и ошибок.

Список сущностей и регулярных выражений (текстовых) сущностей можно использовать в качестве [обязательных функций](luis-concept-feature.md#required-features) для подсущности, которая выступает в качестве фильтра для извлечения. Следует внимательно использовать этот подход, чтобы не мешать приложению прогнозировать возможности.

## <a name="extracting-contextually-related-data"></a>Извлечение данных, связанных с контекстом

Utterance может содержать два или более вхождений сущности, где значение данных зависит от контекста в utterance. Примером является utterance для резервирования рейса, имеющего два географических расположения: источник и место назначения.

`Book a flight from Seattle to Cairo`

Необходимо извлечь два расположения таким образом, чтобы клиентское приложение знало тип каждого местоположения, чтобы завершить покупку билетов.

Чтобы извлечь источник и назначение, создайте две вложенные сущности в рамках сущности "машинное обучение" для заказа билетов. Для каждой из вложенных сущностей создайте требуемую функцию, использующую geographyV2.

<a name="using-component-constraints-to-help-define-entity"></a>
<a name="using-subentity-constraints-to-help-define-entity"></a>

### <a name="using-required-features-to-constrain-entities"></a>Использование обязательных функций для ограничения сущностей

Дополнительные сведения о [необходимых функциях](luis-concept-feature.md)

## <a name="patternany-entity"></a>Сущность Pattern.any

Шаблон. Any доступен только в [шаблоне](luis-concept-patterns.md).

<a name="if-you-need-more-than-the-maximum-number-of-entities"></a>
## <a name="exceeding-app-limits-for-entities"></a>Превышение ограничений приложения для сущностей

Если вам требуется больше [ограничений](luis-limits.md#model-limits), обратитесь в службу поддержки. Для этого соберите подробные сведения о системе, откройте веб-сайт [LUIS](luis-reference-regions.md#luis-website), а затем выберите элемент **Поддержка**. Если ваша подписка Azure включает службы поддержки, обратитесь в службу [технической поддержки Azure](https://azure.microsoft.com/support/options/).

## <a name="entity-prediction-status"></a>Состояние прогнозирования сущностей

На портале LUIS показано, когда сущность имеет другой прогноз, чем сущность, выбранная для примера utterance. Эта другая оценка основана на текущей обученной модели. Используйте эти сведения для устранения ошибок обучения, используя один или несколько следующих элементов:
* Создание [функции](luis-concept-feature.md) для сущности, помогающей определить концепцию сущности
* Добавить дополнительные [примеры фразы продолжительностью](luis-concept-utterance.md) и метку с помощью сущности
* [Просмотрите активные варианты обучения](luis-concept-review-endpoint-utterances.md) для всех фразы продолжительностью, полученных на конечной точке прогнозирования, которые могут помочь определить концепцию сущности.

## <a name="next-steps"></a>Следующие шаги

Ознакомьтесь с подходящими [высказываниями](luis-concept-utterance.md).

Дополнительные сведения о добавлении сущностей в приложение LUIS см. в статье [Добавление сущностей](luis-how-to-add-entities.md).

Сведения о том, как извлечь структурированные данные из utterance с помощью сущности машинного обучения, см. [в разделе Учебник. Извлечение структурированных данных из utterance пользователя с сущностями машинного обучения в Language Understanding (Luis)](tutorial-machine-learned-entity.md) .

