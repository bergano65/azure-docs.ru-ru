---
title: Глоссарий советника по метрикам
titleSuffix: Azure Cognitive Services
description: Основные идеи и понятия службы Advisor
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: metrics-advisor
ms.topic: conceptual
ms.date: 09/14/2020
ms.author: aahi
ms.openlocfilehash: 25e5cb6e34624f3272e83e1e7c1cd847b865ae8e
ms.sourcegitcommit: 53acd9895a4a395efa6d7cd41d7f78e392b9cfbe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "90938798"
---
# <a name="metrics-advisor-glossary-of-common-vocabulary-and-concepts"></a>Глоссарий по метрикам общего словаря и концепций

В этом документе объясняются технические термины, используемые в советнике по метрикам. Используйте эту статью, чтобы узнать об общих понятиях и объектах, которые могут возникнуть при использовании службы.

## <a name="data-feed"></a>поток данных

> [!NOTE]
> Несколько метрик могут совместно использовать один и тот же источник данных и даже один и тот же канал данных.

Веб-канал данных — это то, какой из источников данных получает помощник по метрикам, например Cosmos DB или SQL Server. Веб-канал данных содержит строки:
* отметки времени
* ноль или более измерений
* одна или несколько мер. 

## <a name="metric"></a>Метрика

Метрика — это количественная мера, которая используется для отслеживания и оценки состояния конкретного бизнес-процесса. Это может быть сочетание нескольких значений временных рядов, разделенных на измерения. Например, метрика *работоспособности веб-сайта* может содержать измерения для *числа пользователей* и *рынка en-US*.

## <a name="dimension"></a>Измерение

Измерение — это одно или несколько значений категорий. Сочетание этих значений определяет определенный временной ряд унивариате, например "страна", "язык", "клиент" и т. д.

## <a name="multi-dimensional-metric"></a>Многомерная метрика

Что такое метрика с несколькими измерениями? Давайте будем использовать два примера. 

**Доход компании**

Предположим, у вас есть данные о доходах вашего бизнеса. Данные временных рядов могут выглядеть примерно так:

| Отметка времени | Категория | Market | Доход |
| ----------|----------|--------|----- |
| 2020-6-1 | еда; | США | 1000 |
| 2020-6-1 | Одежда | США | 2000 |
| 2020-6-2 | еда; | Великобритания | 800 | 
| ...      | ...  |... | ... |

В этом примере *Категория* и *рыноч* являются измерениями. *Доход* — ключевой показатель эффективности (KPI), который можно разбить на разные категории или рынки, а также выполнить статистическую обработку. Например, доход от *пищи* для всех рынков.
 
**Счетчики ошибок для сложного приложения**

Предположим, что у вас есть данные о количестве ошибок, регистрируемых в приложении. Данные временных рядов могут выглядеть примерно так:

| Отметка времени | Компонент приложения | Регион | Количество ошибок |
| ----------|----------|--------|----- |
| 2020-6-1 | База данных сотрудников | ЗАПАДНАЯ ЧАСТЬ ЕС | 9000 |
| 2020-6-1 | Очередь сообщений | ВОСТОЧНАЯ ЧАСТЬ США | 1000 |
| 2020-6-2 | Очередь сообщений | ВОСТОЧНАЯ ЧАСТЬ США | 8000| 
| ...      | ...           | ...     |  ...|

В этом примере компонент и *область* *приложения* являются измерениями. *Число ошибок* — это ключевой показатель эффективности, который можно разбить на разные категории или рынки, а также выполнить статистическую обработку. Например, число ошибок *очереди сообщений* во всех регионах.

## <a name="measure"></a>Measure

Мера — это фундаментальный термин, зависящий от единицы, и количественное значение метрики.

## <a name="time-series"></a>Временной ряд

Временные ряды — это ряды точек данных, индексируемых (или отображенных на диаграмме) в хронологическом порядке. Чаще всего временные ряды — это последовательность, которая выполняется на последовательных, равномерно заданных точках во времени. Это последовательность дискретных данных.

В помощнике по метрикам значения одной метрики в определенной комбинации измерений называются одним рядом.

## <a name="granularity"></a>Степень детализации данных

Степень гранулярности указывает, как часто будут создаваться точки данных в источнике данных. Например, ежедневно, каждый час.

## <a name="start-time"></a>Время начала

Время начала — это время, в течение которого помощник по метрикам должен начать прием данных из источника данных. Источник данных должен иметь данные в указанное время начала.

## <a name="confidence-boundaries"></a>Границы достоверности

> [!NOTE]
> Границы достоверности не являются единственным измерением, используемым для поиска аномалий. Можно помечать точки данных за пределами этой границы как обычные с помощью модели обнаружения. 

В помощнике по метрикам доверительные границы представляют чувствительность используемого алгоритма и используются для фильтрации нечувствительных к ней аномалий. На веб-портале доверительные границы отображаются в виде прозрачной синей полосы. Все точки в пределах диапазона обрабатываются как обычные точки.

Помощник по метрикам предоставляет средства для настройки чувствительности используемых алгоритмов. См. раздел [как настроить метрики и выполнить тонкую настройку обнаружения конфигурации](how-tos/configure-metrics.md) для получения дополнительных сведений.

![Ограничения достоверности](media/confidence-bounds.png)


## <a name="hook"></a>Ключ

Помощник по метрикам позволяет создавать оповещения в режиме реального времени и подписываться на них. Эти оповещения отправляются через Интернет [с помощью обработчика](how-tos/alerts.md).

## <a name="anomaly-incident"></a>Инцидент аномалии

После применения конфигурации обнаружения к метрикам инциденты создаются всякий раз, когда в каждом из них есть аномалия. В больших наборах данных это может быть огромным, поэтому помощник по метрикам группирует ряд аномалий в пределах метрики в инцидент. Служба также оценивает серьезность и предоставляет средства для [диагностики инцидента](how-tos/diagnose-incident.md).

### <a name="incident-tree"></a>Дерево инцидента

В помощнике по метрикам можно применить обнаружение аномалий на метриках, а затем помощник по метрикам автоматически отслеживает все временные ряды всех комбинаций измерений. При обнаружении аномалий помощник по метрикам объединяет аномалии в инциденты.
После возникновения инцидента помощник по метрикам предоставит дерево инцидентов с иерархией участвующих аномалий и выявляет их с наибольшим влиянием. У каждого инцидента есть основная причина аномалии, которая является верхним узлом дерева.

### <a name="anomaly-grouping"></a>Группирование аномалий

Помощник по метрикам предоставляет возможность поиска связанных временных рядов с похожими шаблонами. Он также может предоставить более подробные сведения о влиянии на другие измерения и соотнесение аномалий.

### <a name="time-series-comparison"></a>Сравнение временных рядов

Можно выбрать несколько временных рядов, чтобы сравнить тенденции в одной визуализации. Это обеспечивает четкий и подробный способ просмотра и сравнения связанных рядов.

## <a name="detection-configuration"></a>Конфигурация обнаружения

>[!Note]
>Конфигурации обнаружения применяются только в пределах отдельной метрики.

На веб-портале помощника по метрикам при просмотре метрики на левой панели отображается конфигурация обнаружения (например, чувствительность, автоматическая откладывание и направление). Параметры можно настраивать и применять ко всем рядам в этой метрике.

Для каждого временного ряда требуется настройка обнаружения, и определяет, является ли точка во временном ряде неаномалией. Помощник по метрикам настроит конфигурацию по умолчанию для всей метрики при первом подключении данных. 

Кроме того, можно уточнить конфигурацию, применяя параметры настройки для группы рядов или определенного типа. К ряду времени будет применена только одна конфигурация:
* Конфигурации, примененные к определенному ряду, будут перезаписывать конфигурации для группы.
* Конфигурации для группы будут перезаписывать конфигурации, применяемые ко всей метрике.

Помощник по метрикам предоставляет несколько [методов обнаружения](how-tos/configure-metrics.md#anomaly-detection-methods), и их можно комбинировать с помощью логических операторов.

### <a name="smart-detection"></a>Интеллектуальное обнаружение

Обнаружение аномалий с использованием нескольких алгоритмов машинного обучения.

**Чувствительность**: числовое значение для настройки допуска обнаружения аномалий. Визуально, чем выше значение, тем более узкие верхние и нижние границы вокруг временных рядов.

### <a name="hard-threshold"></a>Жесткое пороговое значение

Значения, находящиеся за пределами верхней или нижней границы, являются аномалиями.

**Min**: Нижняя граница

**Max**: Верхняя граница

### <a name="change-threshold"></a>Изменить порог

Используйте значение предыдущей точки, чтобы определить, является ли эта точка аномалией.

**Изменение процента**. в сравнении с предыдущим моментом текущая точка является аномалией, если процент изменений больше, чем этот параметр.

**Изменить перенаправленные точки**: количество точек для обратного просмотра.

### <a name="common-parameters"></a>Общие параметры

**Направление**. точка — это аномалия, только если отклонение происходит в направлении *вверх*, *вниз*или в *обоих*направлениях.

**Недействительная аномалия до**: точка данных является только аномалией, если заданный процент предыдущих точек также является аномалией.

## <a name="alert-settings"></a>Параметры оповещений

Параметры оповещений определяют, какие аномалии должны активировать оповещение. Можно задать несколько предупреждений с разными параметрами. Например, можно создать оповещение об аномалиях с меньшим влиянием на бизнес, а другое — для более важных оповещений.

Можно также создать оповещение по метрикам. Например, оповещение активируется только в том случае, если у двух указанных метрики есть аномалии.

### <a name="alert-scope"></a>Область оповещений

Область оповещений относится к области, к которой относится оповещение. У вас есть четыре варианта.

**Аномалии всех рядов**: оповещения будут активированы для аномалий во всех рядах в пределах метрики.

**Аномалии в группе рядов**. оповещения будут активироваться только для аномалий в конкретных измерениях группы рядов. Число указанных измерений должно быть меньше, чем общее число измерений.

**Аномалии в избранном ряде**: оповещения будут активироваться только для аномалий, добавленных в избранное. Можно выбрать группу рядов в качестве избранного для каждого определения конфигурации.

**Аномалии в первых n всех рядах**: оповещения будут активироваться только для аномалий в n первых сериях. Можно задать параметры, определяющие количество отметок времени, которое следует учитывать, и количество аномалий, которые должны быть в них для отправки предупреждения.

### <a name="severity"></a>Уровень серьезности

Серьезность — это показатель, который помощник по метрикам использует для описания серьезности инцидента, включая *высокий*, *средний*и *низкий*.

В настоящее время помощник по метрикам использует следующие факторы для измерения серьезности предупреждения:
1. Значение пропорционально количеству и пропорции аномалий в метрике.
1. Уверенность в аномалиях.
1. Предпочтительные параметры также влияют на серьезность.

### <a name="auto-snooze"></a>Автоматическая отсрочка

Некоторые аномалии являются временными проблемами, особенно для мелких метрик детализации. Вы можете *отложить* оповещение на определенное количество точек времени. Если в течение указанного количества точек обнаружены аномалии, предупреждение не будет запущено. Поведение автоматической откладывание может быть задано на уровне метрики или в рядах.

Режим отсрочки может быть установлен на уровне метрики или в виде рядов.

## <a name="data-feed-settings"></a>Параметры веб-канала данных

### <a name="ingestion-time-offset"></a>Смещение времени приема

По умолчанию данные принимаются в соответствии с детализацией (например, *ежедневно*). Используя положительное целое число, можно отложить прием данных по заданному значению. Используя отрицательное число, можно переместить прием на указанное значение.

### <a name="max-ingestion-per-minute"></a>Максимальное число приемов в минуту

Задайте этот параметр, если источник данных поддерживает ограниченный параллелизм. В противном случае оставьте значения по умолчанию.

### <a name="stop-retry-after"></a>Прерывать Повтор через

В случае сбоя приема данных помощник по метрикам повторит попытку автоматически через некоторое время. Начало периода — это время, когда произошло первое получение данных. Длина периода повтора определяется в соответствии с гранулярностью. Если используется значение по умолчанию ( `-1` ), то период повтора будет определен в соответствии с гранулярностью:

| Степень детализации данных       | Прерывать Повтор через           |
| :------------ | :--------------- |
| Ежедневно, настраиваемый (>= 1 день), еженедельно, ежемесячно, ежегодно     | 7 дней          |
| Ежечасно, настраиваемый (< 1 день)       | 72 ч |

### <a name="min-retry-interval"></a>Минимальный интервал повторных попыток

Можно указать минимальный интервал при попытке извлечь данные из источника. Если используется значение по умолчанию ( `-1` ), то интервал повтора будет определяться в соответствии с детализацией.

| Степень детализации данных       | Минимальный интервал повторных попыток           |
| :------------ | :--------------- |
| Ежедневно, настраиваемое (>= 1 день), еженедельно, ежемесячно     | 30 минут          |
| Ежечасно, настраиваемый (< 1 день)      | 10 минут. |
| Ежегодно | 1 день          |

### <a name="grace-period"></a>Льготный период

> [!Note]
> Льготный период начинается с обычного времени приема, а также указанного смещения времени приема.
    
Льготный период — это период времени, в течение которого помощник по метрикам будет продолжать выборку данных из источника данных, но не будет вызывать никаких предупреждений. Если по истечении льготного периода данные не были приняты, то будет активировано оповещение о *недоступности веб-канала данных* .

### <a name="snooze-alerts-in"></a>Отложить оповещения в

Если этот параметр имеет значение 0, то каждая метка времени с *недоступным* будет активировать предупреждение. Если задано значение, отличное от нуля, то указанное число *недоступных* оповещений будет отложено, если данные не были получены.

## <a name="data-feed-permissions"></a>Разрешения веб-канала данных

Существует две роли для управления разрешениями веб-канала данных: *Администратор*и *средство просмотра*. 

* *Администратор* имеет полный контроль над веб-каналом данных и метриками в нем. Они могут активировать, приостанавливать, удалять веб-канал данных и вносить изменения в веб-каналы и конфигурации. *Администратор* , как правило, является владельцем метрик.

* *Средство просмотра* может просматривать веб-канал данных или метрики, но не может вносить изменения. 

## <a name="next-steps"></a>Дальнейшие действия
- [Общие сведения о Помощнике по метрикам](overview.md)
- [Попробуйте демонстрационный сайт](quickstarts/explore-demo.md)
- [Использование веб-портала](quickstarts/web-portal.md)