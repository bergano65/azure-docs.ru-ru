---
title: Общие сведения об управлении функциями с помощью конфигурации приложений Azure
description: Включение и отключение функций с помощью конфигурации приложения Azure
author: AlexandraKemperMS
ms.author: alkemper
ms.service: azure-app-configuration
ms.custom: devx-track-dotnet
ms.topic: conceptual
ms.date: 02/20/2020
ms.openlocfilehash: cfd676092bcaede58909a3ec1eefeabb4c80f86b
ms.sourcegitcommit: 1756a8a1485c290c46cc40bc869702b8c8454016
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "96930234"
---
# <a name="feature-management-overview"></a>Общие сведения об управлении функциями

Традиционно внедрение новой функции приложения требует полного повторного развертывания приложения. Для тестирования компонента часто требуется несколько развертываний приложения.  Каждое развертывание может изменить функцию или предоставить функцию различным клиентам для тестирования.  

Управление функциями — современная методика разработки программного обеспечения, которая отделяет выпуск функций от развертывания кода и позволяет быстро вносить изменения в доступность функций по требованию. Она использует методику, называемую *флагами функций* (также известную как *ротация функций*, *коммутатор функций* и т д.), чтобы динамически управлять жизненным циклом функций.

Управление функциями помогает разработчикам решать следующие проблемы:

* **Управление ветвью кода**. Использование флагов функций для переноса новых функциональных возможностей приложения в настоящее время в разработке. Такая функция по умолчанию скрыта. Вы можете безопасно внедрить функцию, хотя она и не завершена, и она будет находится в неактивном состоянии в рабочей среде. При таком подходе, который называется *темным развертыванием*, вы можете выпускать весь свой код в конце каждого цикла развертывания. Больше не требуется поддерживать ветви кода в нескольких циклах разработки, поскольку для выполнения данной функции требуется более одного цикла.
* **Тестирование в рабочей среде**. Используйте флаги функций, чтобы предоставить ранний доступ к новым функциональным возможностям в рабочей среде. Например, можно ограничить доступ к членам группы или внутренним бета-тестерам. Эти пользователи будут испытывать полную рабочую среду, а не имитацию или частичную работу в тестовой среде.
* **Рейсing**: используйте флаги функций для постепенного развертывания новых функций для конечных пользователей. Вы можете ориентироваться на небольшой процент заполнения пользователей и постепенно увеличивать этот процент со временем.
* **Параметр мгновенного уничтожения**. флаги компонентов обеспечивают безопасность сети для освобождения новых функций. Вы можете включать и отключать функции приложения без повторного развертывания кода. При необходимости можно быстро отключить функцию, не выполняя повторную сборку и развертывание приложения.
* **Выборочная активация**. Используйте флаги компонентов для сегментирования пользователей и предоставления определенного набора функций каждой группе. У вас может быть функция, которая работает только в определенном веб-браузере. Вы можете определить флаг функции таким образом, чтобы только пользователи этого браузера могли видеть и использовать данную функцию. С помощью этого подхода вы можете легко расширить список поддерживаемых браузеров позднее, не внося изменения в код.

## <a name="basic-concepts"></a>Основные понятия

Ниже приведено несколько новых терминов, связанных с управлением функциями.

* **Флаг компонента**: флаг функции — это переменная с двоичным состоянием *On* или *Off*. С флагом функции также связан блок кода. Состояние флага функции активирует, выполняется ли блок кода.
* **Диспетчер компонентов**. Диспетчер компонентов — это пакет приложений, который обрабатывает жизненный цикл всех флагов функций в приложении. Диспетчер компонентов также предоставляет дополнительные функциональные возможности, включая кэширование флагов функций и обновление их состояний.
* **Фильтр**: фильтр — это правило для оценки состояния флага функции. К потенциальным фильтрам относятся группы пользователей, типы устройств или браузеров, географические расположения и окна времени.

Эффективная реализация управления функциями характеризуется по крайней мере двумя компонентами, которые работают вместе.

* Приложение, которое использует флаги функций.
* Отдельный репозиторий, в котором хранятся флаги функций и их текущее состояние.

## <a name="using-feature-flags-in-your-code"></a>Использование флагов компонентов в коде

Базовый шаблон для реализации флагов функций в приложении прост. Флаг функции — это логическая переменная состояния, управляющая условным оператором в коде:

```csharp
if (featureFlag) {
    // Run the following code
}
```

Значение можно задать `featureFlag` статически.

```csharp
bool featureFlag = true;
```

Состояние флага можно оценить на основе определенных правил:

```csharp
bool featureFlag = isBetaUser();
```

Можно расширить условную работу, чтобы задать поведение приложения для любого состояния:

```csharp
if (featureFlag) {
    // This following code will run if the featureFlag value is true
} else {
    // This following code will run if the featureFlag value is false
}
```

## <a name="feature-flag-repository"></a>Репозиторий флагов функций

Чтобы эффективно использовать их, необходимо переместить все флаги функций, используемые в приложении, во внешнее хранилище. Это позволяет изменять состояния флагов компонентов без изменения и повторного развертывания самого приложения.

Конфигурация приложений Azure предоставляет централизованный репозиторий для флагов функций. Вы можете использовать ее, чтобы определить различные типы флагов функций и быстро и легко управлять их состоянием. Затем вы можете легко получить доступ к этим флагам функций из своего приложения с помощью библиотек Конфигурации приложений для различных платформ языков программирования.

В руководстве по [использованию флагов функций в приложении ASP.NET Core](./use-feature-flags-dotnet-core.md) показано, как поставщик Конфигурации приложений для .NET Core и библиотеки управления функциями используются для реализации флагов функций в веб-приложении ASP.NET.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство по добавлению флагов функций в веб-приложение ASP.NET Core](./quickstart-feature-flag-aspnet-core.md)  
