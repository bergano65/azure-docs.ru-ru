---
title: Общие сведения об управлении рабочей нагрузкой Kubernetes на устройстве Azure Stack ребра Pro | Документация Майкрософт
description: Описывает, как можно управлять рабочими нагрузками Kubernetes на устройстве Azure Stack ребра Pro.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: conceptual
ms.date: 09/22/2020
ms.author: alkohli
ms.openlocfilehash: d9e0da9e24a0bd32047d029879c4f0e110dc0c16
ms.sourcegitcommit: 32c521a2ef396d121e71ba682e098092ac673b30
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91320801"
---
# <a name="kubernetes-workload-management-on-your-azure-stack-edge-pro-device"></a>Управление рабочей нагрузкой Kubernetes на устройстве Pro Azure Stack

На устройстве Azure Stack пограничной Pro создается кластер Kubernetes при настройке роли вычислений. После создания кластера Kubernetes контейнерные приложения можно развернуть в кластере Kubernetes в модулях Pod. Существует несколько различных способов развертывания рабочих нагрузок в кластере Kubernetes. 

В этой статье описываются различные методы, которые можно использовать для развертывания рабочих нагрузок на устройстве Azure Stack пограничной Pro.

## <a name="workload-types"></a>Типы рабочих нагрузок

Двумя распространенными типами рабочих нагрузок, которые можно развернуть на устройстве Azure Stack пограничной Pro, являются приложения без отслеживания состояния или приложения с отслеживанием состояния.

- **Приложения без отслеживания состояния** не сохраняют свое состояние и не сохраняют данные в постоянном хранилище. Все данные пользователя и сеанса остаются в клиенте. Некоторые примеры приложений без отслеживания состояния включают в себя веб-интерфейсы, такие как nginx, и другие веб-приложения.

    Вы можете создать развертывание Kubernetes, чтобы развернуть в кластере приложение без отслеживания состояния. 

- Для **приложений с отслеживанием состояния** необходимо сохранить их состояние. Приложения с отслеживанием состояния используют постоянное хранилище, например постоянные тома, для сохранения данных, которые могут использоваться сервером или другими пользователями. Примеры приложений с отслеживанием состояния включают в себя такие базы данных, как [Azure SQL Server](../azure-sql-edge/overview.md) и MongoDB.

    Вы можете создать развертывание Kubernetes для развертывания приложения с отслеживанием состояния. 

## <a name="deployment-flow"></a>Рабочий поток развертывания

Чтобы развернуть приложения на устройстве Azure Stack пограничной Pro, выполните следующие действия. 
 
1. **Настройка доступа**. Во-первых, вы будете использовать пространство выполнения PowerShell для создания пользователя, создания пространства имен и предоставления пользователю доступа к этому пространству имен.
2. **Настройка хранилища**: Далее вы будете использовать ресурс Azure Stack ребра в портал Azure для создания постоянных томов с помощью статической или динамической подготовки для развертываемых приложений с отслеживанием состояния.
3. **Настройка сети**. Наконец, вы будете использовать службы для внешнего доступа к приложениям извне и в кластере Kubernetes.
 
## <a name="deployment-types"></a>Типы развертывания

Существует три основных способа развертывания рабочих нагрузок. Каждая из этих методологий развертывания позволяет подключаться к отдельному пространству имен на устройстве, а затем развертывать приложения без отслеживания состояния или с отслеживанием состояния.

![Развертывание рабочей нагрузки Kubernetes](./media/azure-stack-edge-gpu-kubernetes-workload-management/kubernetes-workload-management-1.png)

- **Локальное развертывание**. это развертывание осуществляется с помощью средства доступа из командной строки, такого как `kubectl` , которое позволяет развертывать Kubernetes `yamls` . Доступ к кластеру Kubernetes можно получить на Azure Stack пограничных Pro с помощью `kubeconfig` файла. Дополнительные сведения см. в подразделах [доступ к кластеру Kubernetes через kubectl](azure-stack-edge-gpu-create-kubernetes-cluster.md).

- **Развертывание IOT Edge**. это осуществляется с помощью IOT EDGE, который подключается к центру Интернета вещей Azure. Вы подключаетесь к кластеру Kubernetes на устройстве Azure Stack пограничной Pro через `iotedge` пространство имен. Агенты IoT Edge, развернутые в этом пространстве имен, отвечают за подключение к Azure. Вы применяете `IoT Edge deployment.json` конфигурацию с помощью Azure DEVOPS CI/CD. Управление пространствами имен и IoT Edge осуществляется с помощью оператора облака.

- **Kubernetes развертывание Azure с включенной**службой ARC. Kubernetes — это гибридное средство управления, которое позволит развертывать приложения в кластерах Kubernetes. Вы подключаетесь к кластеру Kubernetes на устройстве Azure Stack пограничной Pro через `azure-arc namespace` . Агенты, развернутые в этом пространстве имен, отвечают за подключение к Azure. Конфигурация развертывания применяется с помощью управления конфигурацией на основе Гитопс. 
    
    Kubernetes с поддержкой дуги Azure также позволяет использовать Azure Monitor для контейнеров для просмотра и мониторинга кластера. Дополнительные сведения см. в разделе [что такое служба "Azure Arc Enabled Kubernetes?](https://docs.microsoft.com/azure/azure-arc/kubernetes/overview)".

## <a name="choose-the-deployment-type"></a>Выбор типа развертывания

При развертывании приложений учитывайте следующие сведения.

- **Один или несколько типов**: можно выбрать один вариант развертывания или сочетание различных вариантов развертывания.
- **Локальное облако**. в зависимости от ваших приложений вы можете выбрать локальное развертывание с помощью kubectl или облачного развертывания с помощью IOT EDGE и дуги Azure. 
    - При выборе локального развертывания вы можете использовать только ту сеть, в которой развернуто устройство Azure Stack погранично Pro.
    - Если у вас есть облачный агент, который можно развернуть, следует развернуть оператор облака и использовать управление облаком.
- **Центр Интернета вещей и дуга Azure**. Выбор развертывания также зависит от цели вашего сценария продукта. Если вы развертываете приложения или контейнеры, которые имеют более глубокую интеграцию с IoT или экосистемой IoT, выберите IoT Edge, чтобы развернуть приложения. Если у вас есть развертывания Kubernetes, предпочтительнее выбрать Azure ARC.


## <a name="next-steps"></a>Дальнейшие действия

Сведения о локальном развертывании приложения с помощью kubectl см. в следующих статьях:

- [Развертывание приложения без отслеживания состояния на Azure Stack пограничной Pro через kubectl](azure-stack-edge-j-series-deploy-stateless-application-kubernetes.md).

Сведения о развертывании приложения с помощью IoT Edge см. в следующих статьях:

- [Развертывание примера модуля на Azure Stack крае Pro с помощью IOT Edge](azure-stack-edge-gpu-deploy-sample-module.md).

Сведения о развертывании приложения с помощью дуги Azure см. в следующих статьях:

- [Развертывание приложения с помощью дуги Azure](azure-stack-edge-gpu-deploy-arc-kubernetes-cluster.md).
