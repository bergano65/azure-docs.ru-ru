---
title: Расширение политики Azure для Visual Studio Code
description: Узнайте, как использовать расширение политики Azure для Visual Studio Code поиска псевдонимов диспетчер ресурсов.
author: DCtheGeek
ms.author: dacoulte
ms.date: 11/04/2019
ms.topic: conceptual
ms.service: azure-policy
ms.openlocfilehash: 20af29c40ec13add90294e28d64f0166acc95319
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73514814"
---
# <a name="use-azure-policy-extension-for-visual-studio-code"></a>Использование расширения политики Azure для Visual Studio Code

> Применяется к расширению политики Azure версии **0.0.21** и более поздних версий

Узнайте, как использовать расширение политики Azure для Visual Studio Code поиска [псевдонимов](../concepts/definition-structure.md#aliases) и проверки ресурсов и политик. Сначала мы расскажем, как установить расширение политики Azure в Visual Studio Code. Затем мы рассмотрим, как искать псевдонимы.

Расширение политики Azure для Visual Studio Code можно установить на всех платформах, поддерживаемых Visual Studio Code. Эта поддержка включает в себя Windows, Linux и macOS.

> [!NOTE]
> Изменения, внесенные локально в политики, просмотренные в расширении политики Azure для Visual Studio Code, не синхронизируются с Azure.

## <a name="prerequisites"></a>Технические условия

Для выполнения действий в этом руководстве необходимы такие компоненты:

- Подписка Azure. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/), прежде чем начинать работу.
- [Visual Studio Code](https://code.visualstudio.com).

## <a name="install-azure-policy-extension"></a>Установка расширения политики Azure

После выполнения необходимых условий можно установить расширение политики Azure для Visual Studio Code, выполнив следующие действия.

1. Откройте Visual Studio Code.

1. В строке меню перейдите к **просмотру** > **расширения**.

1. В поле поиска введите " **Политика Azure**".

1. В результатах поиска выберите пункт **Политика Azure** и нажмите кнопку **установить**.

1. При необходимости выберите **перезагрузить** .

## <a name="set-the-azure-environment"></a>Настройка среды Azure

Для пользователя национального облака выполните следующие действия, чтобы сначала настроить среду Azure:

1. Выберите **филе\преференцес\сеттингс**.

1. Выполните поиск по следующей строке: _Azure: Cloud_

1. Выберите облако для страны из списка:

   ![Настройка входа в облако Azure по умолчанию для Visual Studio Code](../media/extension-for-vscode/set-default-azure-cloud-sign-in.png)

## <a name="connect-to-an-azure-account"></a>Подключение к учетной записи Azure

Чтобы оценить ресурсы и псевдонимы поиска, необходимо подключиться к учетной записи Azure. Выполните следующие действия, чтобы подключиться к Azure из Visual Studio Code.

1. Войдите в Azure с помощью расширения политики Azure или палитры команд.

   - Расширение политики Azure

     В расширении политики Azure выберите вход в **Azure**.

     ![Вход в облако Azure для Visual Studio Code из расширения политики Azure](../media/extension-for-vscode/azure-cloud-sign-in-policy-extension.png)

   - Палитра команд

     В строке меню перейдите в **представление** > **Палитра команд**и введите **Azure: вход**.

     ![Вход в облако Azure для Visual Studio Code из палитры команд](../media/extension-for-vscode/azure-cloud-sign-in-command-palette.png)

1. Следуйте инструкциям по входу, чтобы войти в Azure. После подключения имя учетной записи Azure отобразится в строке состояния в нижней части окна Visual Studio Code.

## <a name="select-subscriptions"></a>Выбор пункта "Подписки"

При первом входе в расширение политики Azure загружаются только ресурсы и политики подписки по умолчанию. Чтобы добавить или удалить подписки для отображения ресурсов и политик, выполните следующие действия.

1. Запустите команду Subscription из палитры команд или нижнего колонтитула окна.

   - Палитра команд: 

     В строке меню перейдите в **представление** > **Палитра команд**и введите **"политика Azure": выберите подписки**.

   - Нижний колонтитул окна

     В нижнем колонтитуле окна в нижней части экрана выберите сегмент, который соответствует **Azure: \<учетной записи\>** .

1. Используйте поле фильтра для быстрого поиска подписок по имени. Затем проверьте или удалите проверку каждой подписки, чтобы задать подписки, отображаемые расширением политики Azure. По завершении добавления или удаления подписок для показа нажмите кнопку **ОК**.

## <a name="search-for-and-view-resources"></a>Поиск и просмотр ресурсов

Расширение политики Azure Перечисляет ресурсы в выбранных подписках по поставщику ресурсов и по группе ресурсов в области **ресурсы** . TreeView содержит следующие группы ресурсов в выбранной подписке или на уровне подписки.

- **Поставщики ресурсов**
  - Каждый зарегистрированный поставщик ресурсов с ресурсами и связанными дочерними ресурсами, имеющими псевдонимы политик
- **Группы ресурсов**
  - Все ресурсы по группе ресурсов, в которой они находятся

По умолчанию расширение фильтрует часть "поставщик ресурсов" по существующим ресурсам и ресурсам, имеющим псевдонимы политик. Измените это поведение в разделе **параметры** > **расширения** > **Политика Azure** , чтобы просмотреть все поставщики ресурсов без фильтрации.

Клиенты с сотнями или тысячами ресурсов в одной подписке могут предпочесть способ поиска своих ресурсов. Расширение политики Azure позволяет выполнять поиск определенного ресурса, выполнив следующие действия.

1. Запустите интерфейс поиска из расширения политики Azure или палитры команд.

   - Расширение политики Azure

     В расширении политики Azure наведите указатель мыши на панель **ресурсы** и щелкните многоточие, а затем выберите **Поиск ресурсов**.

   - Палитра команд:

     В строке меню выберите **вид** > **Палитра команд**и введите **ресурсы: Поиск ресурсов**.

1. Если для вывода выбрано более одной подписки, используйте фильтр, чтобы выбрать подписку для поиска.

1. Используйте фильтр, чтобы выбрать группу ресурсов для поиска, которая является частью ранее выбранной подписки.

1. Используйте фильтр, чтобы выбрать отображаемый ресурс. Фильтр работает как для имени ресурса, так и для типа ресурса.

## <a name="discover-aliases-for-resource-properties"></a>Обнаружение псевдонимов для свойств ресурсов

Если выбран ресурс, как через интерфейс поиска, так и путем выбора его в TreeView, расширение политики Azure открывает JSON-файл, представляющий этот ресурс, и все его диспетчер ресурсов значения свойств.

После открытия ресурса при наведении указателя мыши на имя или значение свойства диспетчер ресурсов отображается псевдоним политики Azure, если он существует. В этом примере ресурс является `Microsoft.Compute/virtualMachines` типом ресурса и наведении указателя мыши на свойство **Properties. storageProfile. imageReference. предложение** . При наведении указателя мыши отображаются совпадающие псевдонимы.

![При наведении указателя мыши на расширение политики Azure отображается диспетчер ресурсов псевдоним свойства](../media/extension-for-vscode/extension-hover-shows-property-alias.png)

## <a name="search-for-and-view-policies-and-assignments"></a>Поиск и Просмотр политик и назначений

Расширение политики Azure перечисляет типы политик и назначения политик как TreeView для подписок, выбранных для отображения на панели **политики** . Клиенты с сотнями или тысячами политик или назначений в одной подписке могут предпочесть способ поиска их политик или назначений. Расширение политики Azure позволяет выполнять поиск конкретной политики или назначения, выполнив следующие действия.

1. Запустите интерфейс поиска из расширения политики Azure или палитры команд.

   - Расширение политики Azure

     В расширении политики Azure наведите указатель на панель **политики** и выберите многоточие, а затем выберите **политики поиска**.

   - Палитра команд:

     В строке меню последовательно выберите **вид** > **Палитра команд**и введите **политики: поиск политик**.

1. Если для вывода выбрано более одной подписки, используйте фильтр, чтобы выбрать подписку для поиска.

1. Используйте фильтр, чтобы выбрать тип или назначение политики для поиска, которые являются частью ранее выбранной подписки.

1. Используйте фильтр, чтобы выбрать политику или отображение. Фильтр работает с параметром _DisplayName_ для определения политики или назначения политики.

При выборе политики или назначения, будь то через интерфейс поиска или выбрав его в TreeView, расширение политики Azure открывает JSON, представляющий политику или назначение, а также все значения свойств диспетчер ресурсов. Расширение может проверить открытую схему JSON политики Azure.

## <a name="sign-out"></a>Выход

В строке меню выберите **вид** > **Палитра команд**, а затем введите **Azure: выйти**.

## <a name="next-steps"></a>Дальнейшие действия

- Просмотрите примеры в [примерах политики Azure](../samples/index.md).
- Изучите статью о [структуре определения Политики Azure](../concepts/definition-structure.md).
- Изучите [сведения о действии политик](../concepts/effects.md).
- Узнайте, как [программно создавать политики](programmatically-create.md).
- Узнайте, как [исправлять несоответствующие ресурсы](remediate-resources.md).
- Дополнительные сведения о группе управления см. в статье [Упорядочивание ресурсов с помощью групп управления Azure](../../management-groups/overview.md).