---
title: Обзор примера схемы для оценки системы безопасности Azure
description: Обзор примера схемы для оценки системы безопасности Azure. Этот пример схемы помогает клиентам оценить определенные средства управления.
ms.date: 10/14/2020
ms.topic: sample
ms.openlocfilehash: 6b147ffd4efbf814b6119f5d7e90dc7af2ea2687
ms.sourcegitcommit: 1b47921ae4298e7992c856b82cb8263470e9e6f9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2020
ms.locfileid: "92057592"
---
# <a name="azure-security-benchmark-blueprint-sample"></a>Пример схемы для оценки системы безопасности Azure

Пример схемы для оценки системы безопасности Azure с использованием службы [Политика Azure](../../policy/overview.md) предоставляет средства для обеспечения соответствия требованиям. Это позволяет оценить определенные средства управления для [оценки системы безопасности Azure](../../../security/benchmarks/overview.md). Эта схема поможет клиентам развернуть основной набор политик для любой развернутой в Azure архитектуры, в которой планируется реализовать средства управления для оценки системы безопасности Azure.

## <a name="control-mapping"></a>Сопоставление элементов управления

[Сопоставление средств управления службы "Политика Azure"](../../policy/samples/azure-security-benchmark.md) позволяет получить подробные сведения об определениях политик, включенных в эту схему, и о сопоставлении этих определений с **областями соответствия нормативным требованиям** и **средствами управления** в Azure Security Benchmark. Назначаемые архитектуре ресурсы оцениваются службой "Политика Azure" на предмет соответствия назначенным определениям политик. Дополнительные сведения см. в статье [Что такое служба "Политика Azure"?](../../policy/overview.md)

## <a name="deploy"></a>Развертывание

Чтобы развернуть пример схемы Azure Security Benchmark службы Azure Blueprints, выполните следующие действия:

> [!div class="checklist"]
> - создание схемы на основе примера;
> - установка метки копии образца **Опубликовано**;
> - назначение копии схемы существующей подписке;

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись](https://azure.microsoft.com/free), прежде чем начинать работу.

### <a name="create-blueprint-from-sample"></a>Создание схемы на основе примера

Для начала внедрите пример схемы, создав новую схему в среде на основе этого примера.

1. Выберите **Все службы** в левой области. Найдите и выберите пункт **Схемы**.

1. На странице **Начало работы** с левой стороны в разделе _Создание схемы_ щелкните кнопку **Создать**.

1. В разделе _Другие примеры_ найдите **Azure Security Benchmark** и выберите имя нужного примера.

1. Введите _основные данные_ образца схемы.

   - **Имя схемы**. Укажите имя для своей копии примера схемы Azure Security Benchmark.
   - **Расположение определения**. Используйте кнопку с многоточием и выберите группу управления, в которой нужно сохранить копию примера.

1. В верхней части страницы выберите вкладку _Артефакты_ или внизу страницы щелкните **Далее: Артефакты**.

1. Просмотрите список артефактов, добавленных в образец схемы. Многие артефакты имеют параметры, которые мы определим позднее. После завершения просмотра образца схемы выберите **Сохранить черновик**.

### <a name="publish-the-sample-copy"></a>Публикации копии образца

Теперь в вашей среде создана копия образца схемы. Она создана в режиме **Черновик**, и прежде чем назначить и развернуть эту копию, ее необходимо **опубликовать**. Вы можете изменить параметры своей копии этого примера с учетом среды и требований, но такие изменения могут противоречить рекомендациям Azure Security Benchmark.

1. Выберите **Все службы** в левой области. Найдите и выберите пункт **Схемы**.

1. В меню слева выберите страницу **Определения схем**. Примените фильтры, чтобы найти копию примера схемы, и выберите его.

1. В верхней части страницы выберите **Опубликовать схему**. В правой части новой страницы укажите **версию** для копии примера схемы. Это свойство позволяет вносить изменения позднее. Укажите **сведения об изменениях**, например First version published from the Azure Security Benchmark (Первая версия, опубликованная из примера схемы Azure Security Benchmark). Затем щелкните **Опубликовать** в нижней части страницы.

### <a name="assign-the-sample-copy"></a>Назначение копии образца

После успешной **публикации** копию образца схемы можно назначить подписке в группе управления, в которой ее сохранили. На этом шаге указывают параметры, которые позволяют сделать каждое развертывание образца схемы уникальным.

1. Выберите **Все службы** в левой области. Найдите и выберите пункт **Схемы**.

1. В меню слева выберите страницу **Определения схем**. Примените фильтры, чтобы найти копию примера схемы, и выберите его.

1. В верхней части страницы определения схемы выберите **Назначить схему**.

1. Укажите значения параметра для назначения схемы.

   - Основы

     - **Подписки**. Выберите одну или несколько подписок, которые находятся в группе управления, в которой вы сохранили копию образца схемы. Если вы выберите более одной подписки, для каждой из них будет создано назначение с использованием введенных параметров.
     - **Имя назначения.** Имя автоматически заполняется на основе имени схемы.
       Измените его при желании или сохраните вариант по умолчанию.
     - **Расположение.** Выберите регион, в котором будет создано управляемое удостоверение. Azure Blueprint использует это управляемое удостоверение для развертывания всех артефактов в назначенную схему. Дополнительные сведения см. в статье [Управляемые удостоверения для ресурсов Azure](../../../active-directory/managed-identities-azure-resources/overview.md).
     - **Версия определения схемы**. Выберите **опубликованную** версию копии примера схемы.

   - Блокировка назначения

     Выберите режим блокировки для схемы с учетом своей среды. Дополнительные сведения см. в разделе [Блокировка ресурсов схем](../concepts/resource-locking.md).

   - Управляемое удостоверение

     Сохраните значение по умолчанию _Назначено системой_ для управляемого удостоверения.

   - Параметры артефакта

     Параметры, определенные в этом разделе, применяются к артефакту, под которым они определены. Поскольку эти параметры определяются во время назначения схемы, они являются [динамическими](../concepts/parameters.md#dynamic-parameters). Полный список параметров артефактов с описаниями можно найти в [таблице параметров артефактов](#artifact-parameters-table).

1. После ввода всех параметров в нижней части страницы выберите **Назначить**. Это действие создает назначение схемы и начинает развертывание артефактов. Развертывание занимает около часа. Чтобы проверить состояние развертывания, откройте назначение схемы.

> [!WARNING]
> Служба Azure Blueprints и встроенные примеры схем предоставляются **бесплатно**. Ресурсы Azure оплачиваются согласно [тарифам на продукты](https://azure.microsoft.com/pricing/). С помощью [калькулятора цен](https://azure.microsoft.com/pricing/calculator/) вы можете оценить расходы на выполнение ресурсов, развертываемых этим примером схемы.

### <a name="artifact-parameters-table"></a>Таблица параметров артефактов

Следующая таблица содержит полный список параметров артефактов схемы.

|Имя артефакта|Тип артефакта|Имя параметра|Описание|
|-|-|-|-|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список пользователей, исключенных из группы администраторов виртуальных машин Windows|Список членов, разделенных точкой с запятой, которые требуется исключить из локальной группы администраторов. Например, Administrator; myUser1; myUser2|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список пользователей, которых нужно включить в группу администраторов виртуальных машин Windows|Список членов, разделенных точкой с запятой, которые требуется добавить в локальную группу администраторов. Например, Administrator; myUser1; myUser2|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список пользователей, которые *одни* должны войти в группу администраторов виртуальных машин Windows|Разделенный точками с запятой список всех ожидаемых членов локальной группы "Администраторы". Например, Administrator; myUser1; myUser2|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список регионов, где должен быть включен Наблюдатель за сетями|Список всех регионов можно просмотреть с помощью команды Get-AzLocation|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Виртуальная сеть, к которой должны подключаться виртуальные машины|Пример: /subscriptions/YourSubscriptionId/resourceGroups/YourResourceGroupName/providers/Microsoft.Network/virtualNetworks/Name|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Сетевой шлюз, который должны использовать виртуальные сети|Пример: /subscriptions/YourSubscriptionId/resourceGroups/YourResourceGroup/providers/Microsoft.Network/virtualNetworkGateways/Name|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список идентификаторов рабочих областей, к которым должны подключаться агенты Log Analytics|Разделенный точками с запятой список идентификаторов рабочих областей, к которым должен быть подключен агент Log Analytics|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Список типов ресурсов, для которых должны быть включены журналы диагностики|Аудит параметров диагностики для выбранных типов ресурсов|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Последняя версия PHP|Последняя поддерживаемая версия PHP для служб приложений|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Последняя версия Java|Последняя поддерживаемая версия Java для служб приложений|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Последняя версия Python для Windows|Последняя поддерживаемая версия Python для служб приложений|
|Аудит рекомендаций Azure Security Benchmark и развертывание определенных расширений виртуальных машин для соответствия его требованиям|Назначение политики|Последняя версия Python для Linux|Последняя поддерживаемая версия Python для служб приложений|

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные статьи о схемах и способах их использования:

- Ознакомьтесь со сведениями о [жизненном цикле схем](../concepts/lifecycle.md).
- Узнайте, как использовать [статические и динамические параметры](../concepts/parameters.md).
- Научитесь настраивать [последовательность схемы](../concepts/sequencing-order.md).
- Узнайте, как применять [блокировку ресурсов схемы](../concepts/resource-locking.md).
- Узнайте, как [обновлять существующие назначения](../how-to/update-existing-assignments.md).