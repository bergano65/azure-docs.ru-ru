---
title: Обновление существующего назначения на портале
description: Сведения о механизме обновления существующего назначения схемы на портале в проекте Azure.
ms.date: 08/27/2020
ms.topic: how-to
ms.openlocfilehash: 888ebbf0149f8f75f867bb17115988cb20d25df2
ms.sourcegitcommit: 8a7b82de18d8cba5c2cec078bc921da783a4710e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2020
ms.locfileid: "89051429"
---
# <a name="how-to-update-an-existing-blueprint-assignment"></a>Обновление существующего назначения схемы

Когда схема назначена, это назначение можно обновить. Существуют разные причины для обновления существующего назначения, в том числе:

- добавление или удаление [блокировки ресурсов](../concepts/resource-locking.md);
- изменение значений [динамических параметров](../concepts/parameters.md#dynamic-parameters);
- обновление назначения до новой **опубликованной** версии схемы.

## <a name="updating-assignments"></a>Обновление назначений

1. Выберите **Все службы** в левой области. Найдите и выберите пункт **Схемы**.

1. Выберите **Назначенные схемы** на странице слева.

1. В списке схем выберите назначение схемы. Затем нажмите кнопку " **обновить назначение** " или щелкните правой кнопкой мыши назначение схемы и выберите команду " **обновить назначение**".

   :::image type="content" source="../media/update-existing-assignments/update-assignment.png" alt-text="Обновление существующего назначения схемы" border="false":::

1. Страница **назначение** схемы загружает предварительно заполненные все значения из исходного назначения. Вы можете изменить **версию определения схемы**, состояние **блокировки назначения** и любые динамические параметры в определении схемы. Выберите **назначить** , когда завершится внесение изменений.

1. Просмотрите новое состояние на странице сведений об обновленном назначении. В этом примере мы добавили в назначение **блокировку**.

   :::image type="content" source="../media/update-existing-assignments/updated-assignment.png" alt-text="Изменен режим блокировки для существующего назначения схемы" border="false":::

1. Изучите сведения о других **операциях назначения** с помощью раскрывающегося списка. Таблица обновлений **управляемых ресурсов** по выбранной операции назначения.

   :::image type="content" source="../media/update-existing-assignments/assignment-operations.png" alt-text="Операции присваивания для назначения схемы" border="false":::

## <a name="rules-for-updating-assignments"></a>Правила обновления назначений

Развертывание обновленных назначений выполняется в соответствии с несколькими важными правилами. Эти правила определяют, что происходит с уже развернутыми ресурсами. Выполняемые действия зависят от запрошенного изменения и типа ресурса развертываемого или изменяемого артефакта.

- Назначение ролей
  - Если роль или получатель роли (пользователь, группа или приложение) изменяется, создается новое назначение роли. Ранее развернутые назначения ролей сохраняются.
- Назначения политик
  - Если изменяются параметры назначения политики, существующее назначение обновляется.
  - Если изменяется определение назначения политики, создается новое назначение политики.
    Ранее развернутые назначения политик сохраняются.
  - Если артефакт назначения политики удаляется из схемы, развернутое назначение политики сохраняется.
- Шаблоны Azure Resource Manager (шаблоны ARM)
  - Шаблон обрабатывается с помощью Resource Manager как **PUT**. Так как каждый тип ресурсов обрабатывает это действие по-разному, просмотрите документацию для каждого включенного ресурса, чтобы определить влияние этого действия при его выполнении схемой.

## <a name="possible-errors-on-updating-assignments"></a>Возможные ошибки при обновлении назначений

При обновлении назначений есть шанс внести изменения, выполнение которых будет неудачным. В качестве примера можно привести изменение расположения группы ресурсов после того, как она уже была развернута. Любые изменения, поддерживаемые [Диспетчер ресурсов](../../../azure-resource-manager/management/overview.md) , могут быть сделаны, но любое изменение, которое привело бы к ошибке с помощью Диспетчер ресурсов, также приведет к сбою назначения.

Назначение можно обновлять сколько угодно раз. Если возникает ошибка, определите ее причину и внесите в назначение новое обновление.  Примеры сценариев, приводящих к ошибкам:

- неправильный параметр;
- объект уже существует;
- Изменение не поддерживается диспетчер ресурсов

## <a name="next-steps"></a>Дальнейшие действия

- Ознакомьтесь со сведениями о [жизненном цикле схем](../concepts/lifecycle.md).
- Узнайте, как использовать [статические и динамические параметры](../concepts/parameters.md).
- Научитесь настраивать [последовательность схемы](../concepts/sequencing-order.md).
- Узнайте, как применять [блокировку ресурсов схемы](../concepts/resource-locking.md).
- Устраняйте проблемы, возникающие во время назначения схемы, с помощью [общих инструкций по устранению неполадок](../troubleshoot/general.md).