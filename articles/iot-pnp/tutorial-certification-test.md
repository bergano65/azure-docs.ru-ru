---
title: Сертификация устройства IoT Plug and Play (предварительная версия) | Документация Майкрософт
description: В этом учебнике описывается, как добавить информацию о своем продукте в каталог устройств, сертифицированных по программе Azure Certified for IoT, подключить свое устройство к службе сертификации Azure IoT, а затем запустить сертификационные тесты IoT Plug and Play.
manager: philmea
ms.service: iot-pnp
services: iot-pnp
ms.topic: tutorial
ms.author: koichih
author: konichi3
ms.date: 06/21/2019
ms.openlocfilehash: 1516a132372a81d06d82de2409c48220f27b8d87
ms.sourcegitcommit: b3bad696c2b776d018d9f06b6e27bffaa3c0d9c3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/21/2019
ms.locfileid: "69878735"
---
# <a name="tutorial-certify-your-iot-plug-and-play-preview-device"></a>Руководство по Сертификация устройства IoT Plug and Play (предварительная версия)

Чтобы опубликовать устройство IoT Plug and Play (предварительная версия) в [каталоге устройств, сертифицированных по программе Azure Certified for IoT](https://aka.ms/iotdevcat), оно должно пройти ряд сертификационных тестов. Отправьте свое устройство на сертификацию на портале [Azure Certified for IoT](https://aka.ms/ACFI). [Служба сертификации Azure IoT](https://aka.ms/azure-iot-aics) выполняет сертификационные тесты.

Из этого руководства вы узнаете:

> [!div class="checklist"]
> * Каковы требования к сертификации IoT Plug and Play.
> * Как добавить название продукта и информацию на портал.
> * Как подключить и обнаружить интерфейсы IoT Plug and Play.
> * Как проверить интерфейсы IoT Plug and Play и выполнить сертификационные тесты.
> * Как опубликовать в каталоге сертифицированное устройство IoT Plug and Play.

## <a name="prerequisites"></a>Предварительные требования

Для работы с этим учебником необходимы указанные ниже компоненты.

* Учетная запись Центра партнеров Майкрософт.
* Идентификатор партнерской сети Microsoft Partner Network.

Дополнительные сведения см. в статье [Onboard to the Azure Certified for IoT portal](howto-onboard-portal.md) (Подключение к порталу Azure Certified for IoT).

## <a name="certification-requirements"></a>Требования к сертификации

Для сертификации устройства IoT Plug and Play оно должно соответствовать следующим требованиям:

* Код устройства IoT Plug and Play установлен на вашем устройстве.
* Код вашего устройства IoT Plug and Play создан с помощью пакета SDK для Azure IoT.
* Код вашего устройства поддерживает [Службу подготовки устройств к добавлению в Центр Интернета вещей](../iot-dps/about-iot-dps.md).
* Код вашего устройства реализует [интерфейс со сведениями об устройстве](concepts-common-interfaces.md).
* Модель возможностей и код устройства работают с IoT Central.

Все устройства, представленные в каталоге, считаются предварительно сертифицированными устройствами IoT Plug and Play. Это не гарантирует качество и соответствие конечного продукта программным компонентам IoT Plug and Play, таким как пакеты SDK и язык Digital Twin Definition Language.

Все предварительно сертифицированные устройства IoT Plug and Play должны пройти повторную сертификацию после выхода общедоступной версии IoT Plug and Play в соответствии с окончательной версией требований сертификации и программных компонентов, предоставленных корпорацией Майкрософт.

## <a name="add-product-name"></a>Добавление названия продукта

**Название продукта** — это понятное имя модели продукта, которую клиент может приобрести. Чтобы добавить продукт, выполните следующие действия.

1. Войдите на портал [Azure Certified for IoT](https://aka.ms/ACFI).
1. На портале в левом меню перейдите на страницу **Продукты** и выберите **+ Создать**.
1. Введите понятное имя продукта и щелкните **Создать**. Введенное здесь имя отличается от имени, отображаемого в каталоге устройств.

## <a name="add-product-information"></a>Добавление сведений о продукте

После того как вы успешно создали продукт на портале, продукт будет отображаться на странице **Продукты**. Чтобы добавить сведения о продукте:

1. Выберите ссылку на созданный продукт на странице **Продукт** в столбце продуктов. Продукт должен находиться в состоянии черновика.
1. Щелкните ссылку **​​Изменить** рядом с заголовком **Сведения о продукте**. Введите сведения о продукте на странице сведений, заполнив все обязательные поля.
1. Щелкните **Сохранить**. Кнопка **Сохранить** появляется только после заполнения всех обязательных полей. Если поля не заполнены, на кнопке будет отображаться надпись **Save and finish later** (Сохранить и завершить позже).
1. Просмотрите введенное содержимое. Заполните все обязательные поля, чтобы опубликовать устройство в каталоге устройств. Вы всегда можете вернуться и внести изменения в сведения о продукте на странице сведений, щелкнув ссылку **Изменить** рядом с заголовком **Сведения о продукте**.

## <a name="connect-and-discover-interfaces"></a>Подключение и обнаружение интерфейсов

Чтобы запустить сертификационные тесты, подключите устройство к [службе сертификации Azure IoT](https://aka.ms/azure-iot-aics) (AICS), которая доступна на портале.

Эти шаги выполняются однократно для сертификационных тестов. Изменять код устройства вашего продукта не нужно. Для начала выполните следующие действия для подключения к AICS:

1. Войдите на портал, используя свою учетную запись в Центре партнеров.
1. Нажмите **Connect + test** (Подключить и тестировать), чтобы начать процесс сертификации.
1. Выберите [метод проверки подлинности](../iot-dps/concepts-security.md#attestation-mechanism), чтобы подготовить свое устройство для AICS с помощью [Службы подготовки устройств к добавлению в Центр Интернета вещей Azure](../iot-dps/about-iot-dps.md).
   * Если вы используете [сертификат X.509](../iot-hub/iot-hub-security-x509-get-started.md#prerequisites), отправьте созданный сертификат X.509. Вы можете просмотреть пример кода, где показано, как использовать сертификаты X.509: [C](https://github.com/Azure/azure-iot-sdk-c/blob/master/iothub_client/samples/iothub_ll_client_x509_sample/iothub_ll_client_x509_sample.c), [C#](../iot-hub/iot-hub-security-x509-get-started.md).
   * Если вы используете [симметричный ключ](../iot-dps/concepts-symmetric-key-attestation.md), скопируйте и вставьте его в код вашего устройства.
   * Метод проверки подлинности с помощью TPM в настоящее время не поддерживается.
1. Скопируйте и вставьте следующие созданные идентификаторы в код вашего устройства:
   * [Идентификатор регистрации](../iot-dps/use-hsm-with-sdk.md).
   * [идентификатор DPS](../iot-dps/tutorial-set-up-device.md#create-the-device-registration-software);
   * [конечная точка DPS](../iot-dps/tutorial-set-up-device.md#create-the-device-registration-software).
1. Когда код вашего устройства будет создан и развернут на устройстве, щелкните **Подключить**, чтобы обнаружить интерфейсы IoT Plug and Play.
1. После установки подключения к AICS нажмите кнопку **Далее**, чтобы просмотреть обнаруженные интерфейсы IoT Plug and Play.

## <a name="run-tests-and-publish-the-device"></a>Выполнение тестов и публикация устройства

На странице проверки вы можете просмотреть обнаруженные интерфейсы IoT Plug and Play. На этой странице можно проверить правильность отображения примитивов, реализованных в интерфейсе. Вы также можете проверить расположение интерфейса.

1. Убедитесь, что в обязательных полях введены полезные данные. Эти поля включают в себя полезную информацию для командного примитива указанного интерфейса.
1. Указав все необходимые сведения, нажмите кнопку **Далее**.
1. Чтобы запустить тесты для реализованных интерфейсов IoT Plug and Play, выберите **Выполнить тесты**.
1. Все тесты выполняются автоматически. Если какой-либо тест не пройден, щелкните **Просмотреть журналы**, чтобы просмотреть сообщения об ошибках от AICS и необработанную телеметрию, отправленную в Центр Интернета вещей Azure.
1. Для завершения сертификационных тестов нажмите кнопку **Готово**.
1. Опубликуйте в каталоге сертифицированное устройство IoT Plug and Play. Чтобы добавить сертифицированное устройство в каталог, щелкните **Add to catalog** (Добавить в каталог) на панели инструментов. Если элемент **Add to catalog** (Добавить в каталог) отображается серым цветом, это означает, что либо информация о продукте неполная, либо тесты не пройдены. 
1. Щелкните ссылку CERTIFIED AND IN THE CATALOG (СЕРТИФИЦИРОВАНО И В КАТАЛОГЕ), чтобы просмотреть опубликованное устройство в каталоге устройств.

## <a name="next-steps"></a>Дополнительная информация

Теперь, когда вы ознакомились с сертификацией устройств IoT Plug and Play, узнайте больше об управлении моделями возможностей:

> [!div class="nextstepaction"]
> [Manage models in the repository](./howto-manage-models.md) (Управление моделями в репозитории)
