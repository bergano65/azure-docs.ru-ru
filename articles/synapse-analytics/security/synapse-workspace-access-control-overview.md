---
title: Общие сведения об управлении доступом для рабочей области Synapse
description: В этой статье описаны механизмы, используемые для управления доступом к рабочей области Synapse, а также содержащимся в ней ресурсам и артефактам кода.
services: synapse-analytics
author: billgib
ms.service: synapse-analytics
ms.topic: overview
ms.subservice: security
ms.date: 12/03/2020
ms.author: billgib
ms.reviewer: jrasnick
ms.openlocfilehash: 36c4ce34d6b0c4df119d5531cda725605cfd0bc1
ms.sourcegitcommit: 84e3db454ad2bccf529dabba518558bd28e2a4e6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "96523725"
---
# <a name="synapse-access-control"></a>Управление доступом к Synapse 

В этой статье представлен обзор механизмов, которые позволяют управлять доступом к вычислительным ресурсам и данным Synapse.  

## <a name="overview"></a>Обзор

Synapse предоставляет комплексную и детализированную систему контроля доступа, которая объединяет следующие компоненты: 
- **роли Azure** для управления ресурсами и доступом к данным в хранилище; 
- **роли Synapse** для управления динамическим доступом к коду и исполнению; 
- **роли SQL** для доступа к данным в пулах SQL плоскости данных; 
- **разрешения Git** для управления исходным кодом, включая поддержку механизмов непрерывной интеграции и развертывания.  

Роли Synapse предоставляют наборы разрешений, которые можно применять в разных областях. Такая детализация упрощает предоставление администраторам, разработчикам, персоналу обеспечения безопасности и операторам нужного уровня доступа к вычислительным ресурсам и данным.

Управление доступом можно упростить, применяя группы безопасности, которые согласованы с рабочими ролями пользователей.  Для управления доступом в этом случае достаточно добавить пользователя в нужную группу безопасности или удалить его из нее.

## <a name="access-control-elements"></a>Элементы управления доступом

### <a name="creating-and-managing-synapse-resources"></a>Создание ресурсов Synapse и управление ими

Роли Azure используются для управления доступом к следующим элементам: 
- выделенные пулы SQL; 
- пулы Apache Spark; 
- среды выполнения интеграции. 

Чтобы создать эти ресурсы, необходимо быть владельцем или участником Azure в группе ресурсов.  Для управления ими необходимо быть владельцем или участником Azure либо в группе ресурсов, либо в конкретных ресурсах. 

### <a name="developing-and-executing-code-in-synapse"></a>Разработка и исполнение кода в Synapse 

Synapse поддерживает две модели разработки.

- **Активная разработка Synapse.**  Разработка и отладка кода выполняются в Synapse Studio, а затем вы **публикуете** код для сохранения и выполнения.  Служба Synapse считается единственным допустимым источником для редактирования и выполнения кода.  При закрытии Synapse Studio все неопубликованные данные теряются.  
- **Разработка с поддержкой Git.** Разработка и отладка кода выполняются в Synapse Studio, а затем вы **фиксируете** изменения в рабочей ветви репозитория Git. Работа, сохраняемая в одной или нескольких ветвях, интегрируется в ветвь совместной работы, из которой вы **публикуете** код в службе.  Репозиторий Git считается единственным допустимым источником для редактирования кода, а служба — для его выполнения. Перед закрытием Synapse Studio необходимо зафиксировать изменения в репозитории Git или опубликовать в службе. [Дополнительные сведения](https://go.microsoft.com/fwlink/?linkid=2150100) об использовании Synapse Analytics с Git.

В обоих режимах разработки артефакты кода может создавать любой пользователь, у которого есть доступ к Synapse Studio.  Но вам потребуются дополнительные разрешения для публикации артефактов в службе, чтения опубликованных артефактов, фиксации изменений в Git, выполнения кода и доступа к связанным данным, защищенным учетными данными.

### <a name="synapse-roles"></a>Роли Synapse

Роли Synapse позволяют управлять доступом к службе Synapse для выполнения следующих операций: 
- получение списка опубликованных артефактов кода; 
- публикация артефактов кода, связанных служб и определений учетных данных;
- выполнение кода или конвейеров, которые используют вычислительные ресурсы Synapse;
- выполнение кода или конвейеров, которые обращаются к связанным данным, защищенным с помощью учетных данных;
- просмотр выходных данных, связанных с опубликованными артефактами кода;
- мониторинг состояния вычислительных ресурсов и просмотр журналов среды выполнения.

Роли Synapse можно назначать в области рабочей области или более детализированно, что позволяет ограничить предоставляемые разрешения конкретными ресурсами Synapse.

### <a name="git-permissions"></a>Разрешения Git

При разработке с поддержкой Git в режиме Git возможность чтения и фиксации изменений в артефактах кода, в том числе в определениях связанных служб и учетных данных, определяется разрешениями Git.   
   
### <a name="accessing-data-in-sql"></a>Доступ к данным в SQL

При работе с выделенными и бессерверными пулами SQL управление доступом к плоскости данных определяется разрешениями SQL. 

Создатель рабочей области назначается администратором Active Directory для этой рабочей области.  После создания эту роль можно назначить другому пользователю или группе безопасности с помощью портала Azure.

**Бессерверные пулы SQL.** Администраторам Synapse предоставляются разрешения `db_owner` (`DBO`) в стандартном бессерверном пуле SQL "Built-in". Чтобы предоставить другим пользователям доступ к бессерверным пулам SQL, администраторам Synapse необходимо выполнить специальные скрипты SQL для каждого бессерверного пула.  

**Выделенные пулы SQL.** Создателю рабочей области и MSI-файла рабочей области предоставляется разрешение администратора Active Directory.  Другие автоматические механизмы для разрешения доступа к выделенным пулам SQL не применяются. Чтобы предоставить другим пользователям или группам доступ к выделенным пулам SQL, администратору Active Directory нужно выполнить специальные скрипты SQL для каждого выделенного пула SQL.

Примеры скриптов SQL для предоставления разрешений SQL в пулах SQL см. в статье о [настройке управления доступом в Synapse](./how-to-set-up-access-control.md).  

 ### <a name="accessing-system-managed-data-in-storage"></a>Доступ к управляемым системой данным в хранилище

Данные бессерверных пулов SQL и таблиц Apache Spark хранятся в контейнере ADLS 2-го поколения, связанном с рабочей областью.  Пользователям и MSI рабочей области необходимо предоставить доступ уровня "Участник данных BLOB-объектов хранилища" к этому контейнеру хранилища ADLS 2-го поколения.  

## <a name="using-security-groups-as-a-best-practice"></a>Рекомендации по использованию групп безопасности

Чтобы упростить управление доступом, вы можете использовать группы безопасности для назначения ролей отдельным пользователям и группам. Группы безопасности могут соответствовать определенным сотрудникам или должностям в организации, которым необходим доступ к ресурсам или артефактам Synapse.  Таким группам безопасности для определенных сотрудников можно назначить одну или несколько ролей Azure, ролей Synapse, разрешений SQL или разрешений Git. Если группы безопасности выбраны правильно, будет очень легко назначать пользователю необходимые разрешения, просто добавляя его в соответствующую группу безопасности. 

>[!Note]
>Если вы используете для управления доступом группы безопасности, изменения вступают в силу с некоторой задержкой, вызванной действиями Azure Active Directory. 

## <a name="access-control-enforcement-in-synapse-studio"></a>Применение управления доступом в Synapse Studio

Synapse Studio будет вести себя по-разному в зависимости от ваших разрешений и выбранного режима работы:
- **Активный режим Synapse.** Synapse Studio не позволит просматривать опубликованное содержимое, публиковать новое содержимое или выполнять другие действия, если у вас нет необходимых разрешений.  В некоторых случаях вы даже не сможете создать артефакты кода, если у вас нет прав на их использование и сохранение. 
- **Режим Git.** Если у вас есть разрешения Git, позволяющие зафиксировать изменения в текущей ветви, то действие фиксации будет разрешено, даже если у вас нет разрешения на публикацию изменений в активной службе.  

В некоторых случаях вы сможете создавать артефакты кода даже без разрешения на публикацию или фиксацию.  Это позволяет выполнять код (если есть разрешения на его выполнение). [Ознакомьтесь с дополнительными сведениями](./synapse-workspace-understand-what-role-you-need.md) о ролях, необходимых для выполнения стандартных задач. 

Если функция отключена в Synapse Studio, появится подсказка с информацией о требуемом разрешении.  Воспользуйтесь [руководством по ролям RBAC Synapse](./synapse-workspace-synapse-rbac-roles.md#synapse-rbac-actions-and-the-roles-that-permit-them), чтобы узнать, какая роль необходима для предоставления отсутствующего разрешения.


## <a name="next-steps"></a>Дальнейшие действия

- Ознакомьтесь с дополнительными сведениями о [RBAC в Synapse](./synapse-workspace-synapse-rbac.md).
- Ознакомьтесь с дополнительными сведениями о [ролях RBAC в Synapse](./synapse-workspace-synapse-rbac-roles.md).
- Узнайте, [как настроить управление доступом](./how-to-set-up-access-control.md) для рабочей области Synapse с помощью групп безопасности.
- Сведения о том, как [просматривать назначения ролей RBAC Synapse](./how-to-review-synapse-rbac-role-assignments.md)
- Сведения о том, как [управлять назначениями ролей RBAC Synapse](./how-to-manage-synapse-rbac-role-assignments.md)