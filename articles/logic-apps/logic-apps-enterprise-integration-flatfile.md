---
title: Кодирование или декодирование неструктурированных файлов
description: Кодирование или декодирование неструктурированных файлов для интеграции Enterprise в Azure Logic Apps с помощью Пакет интеграции Enterprise
services: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, logicappspm
ms.topic: article
ms.date: 05/09/2020
ms.openlocfilehash: aebce8f284ed4bb21d99efffc8dd6d0c51b39533
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "87001491"
---
# <a name="encode-and-decode-flat-files-in-azure-logic-apps-by-using-the-enterprise-integration-pack"></a>Кодирование и декодирование неструктурированных файлов в Azure Logic Apps с использованием Пакета интеграции Enterprise

Перед отправкой XML-содержимого бизнес-партнеру в сценарии B2B необходимо сначала закодировать это содержимое. Создавая приложение логики, можно кодировать и декодировать неструктурированные файлы с помощью соединителя **неструктурированных файлов** . Приложение логики может получать это XML-содержимое из различных источников, таких как триггер запроса, другое приложение или другие [соединители, поддерживаемые Azure Logic Apps](../connectors/apis-list.md). Дополнительные сведения см. в разделе [что такое Azure Logic Apps](logic-apps-overview.md)?

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас нет ее, вы можете [зарегистрироваться для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Приложение логики, в котором вы хотите использовать соединитель **неструктурированных файлов** , и триггер, который запускает рабочий процесс приложения логики. Соединитель **неструктурированных файлов** предоставляет только действия, а не триггеры. Вы можете использовать триггер или другое действие, чтобы передать XML-содержимое в приложение логики для кодирования или декодирования. Если вы пока не знакомы с приложениями логики, ознакомьтесь со статьей [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).

* [Учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md) , связанная с подпиской Azure и [связанная с приложением логики](./logic-apps-enterprise-integration-create-integration-account.md#link-account) , где планируется использовать соединитель **неструктурированных файлов** . Как приложение логики, так и учетная запись интеграции должны находиться в одном расположении или регионе Azure.

* [Схема](logic-apps-enterprise-integration-schemas.md) неструктурированного файла, отправленная в учетную запись интеграции для кодирования или декодирования XML-содержимого.

* По крайней мере два [торговых партнера](logic-apps-enterprise-integration-partners.md) , которые уже определены в учетной записи интеграции.

## <a name="add-flat-file-encode-action"></a>Добавление действия кодирования неструктурированного файла

1. Откройте приложение логики в конструкторе приложений логики на [портале Azure](https://portal.azure.com).

1. В разделе триггер или действие в приложении логики выберите **новый шаг**  >  **Добавить действие**. В этом примере используется триггер запроса, который называется **при получении HTTP-запроса**, и обрабатывает входящие запросы извне приложения логики.

   > [!TIP]
   > Указывать схему JSON необязательно. Если у вас есть пример полезных данных из входящего запроса, выберите **использовать образец полезных данных для создания схемы**, введите Пример полезных данных и нажмите кнопку **Готово**. Схема отображается в поле **схема JSON текста запроса** .

1. В разделе **Выбор действия**введите `flat file` . В списке действия выберите это действие: **Кодировка неструктурированных файлов** .

   ![Выберите действие "кодировка неструктурированного файла"](./media/logic-apps-enterprise-integration-flatfile/select-flat-file-encoding.png)

1. Щелкните внутри поля **содержимого** , чтобы появился список динамического содержимого. В списке в разделе **при получении HTTP-запроса** выберите свойство **Body** , содержащее выходные данные текста запроса из триггера и содержимое для кодирования.

   ![Выберите содержимое для кодирования из списка динамического содержимого](./media/logic-apps-enterprise-integration-flatfile/select-content-to-encode.png)

   > [!TIP]
   > Если свойство **Body** не отображается в списке динамическое содержимое, выберите пункт **Дополнительные сведения** рядом с заголовком раздела **Получение HTTP-запроса** .
   > Можно также непосредственно ввести содержимое для декодирования в поле **содержимое** .

1. В списке **имя схемы** выберите схему, которая находится в связанной учетной записи интеграции для использования в кодировке, например:

   ![Выберите схему, используемую для кодирования](./media/logic-apps-enterprise-integration-flatfile/select-schema-for-encoding.png)

   > [!NOTE]
   > Если в списке нет схемы, ваша учетная запись интеграции не будет содержать файлы схемы, используемые для кодирования. Передайте схему, которую вы хотите использовать, в учетную запись интеграции.

1. Сохраните приложение логики. Чтобы протестировать соединитель, выполните запрос к конечной точке HTTPS, которая отображается в свойстве **HTTP POST URL-адреса** триггера запроса, и включите XML-содержимое, которое необходимо закодировать в тексте запроса.

Теперь вы выполнили настройку действия по кодированию неструктурированных файлов. В реальных приложениях вам может потребоваться хранить закодированные данные в бизнес-приложении, например в Salesforce. Вы также можете отправить закодированные данные торговому партнеру. Чтобы отправить выходные данные действия кодирования в Salesforce или торговому партнеру, используйте другие [соединители, доступные в Azure Logic Apps](../connectors/apis-list.md).

## <a name="add-flat-file-decode-action"></a>Добавление действия декодирования неструктурированного файла

1. Откройте приложение логики в конструкторе приложений логики на [портале Azure](https://portal.azure.com).

1. В разделе триггер или действие в приложении логики выберите **новый шаг**  >  **Добавить действие**. В этом примере используется триггер запроса, который называется **при получении HTTP-запроса**, и обрабатывает входящие запросы извне приложения логики.

   > [!TIP]
   > Указывать схему JSON необязательно. Если у вас есть пример полезных данных из входящего запроса, выберите **использовать образец полезных данных для создания схемы**, введите Пример полезных данных и нажмите кнопку **Готово**. Схема отображается в поле **схема JSON текста запроса** .

1. В разделе **Выбор действия**введите `flat file` . В списке действия выберите это действие: **декодирование неструктурированного файла** .

   ![Выберите действие "декодирование неструктурированного файла"](./media/logic-apps-enterprise-integration-flatfile/select-flat-file-decoding.png)

1. Щелкните внутри поля **содержимого** , чтобы появился список динамического содержимого. В списке в разделе **при получении HTTP-запроса** выберите свойство **Body** , которое содержит выходные данные текста запроса от триггера и содержимое для декодирования.

   ![Выберите содержимое для декодирования из списка динамического содержимого](./media/logic-apps-enterprise-integration-flatfile/select-content-to-decode.png)

   > [!TIP]
   > Если свойство **Body** не отображается в списке динамическое содержимое, выберите пункт **Дополнительные сведения** рядом с заголовком раздела **Получение HTTP-запроса** . Можно также непосредственно ввести содержимое для декодирования в поле **содержимое** .

1. В списке **имя схемы** выберите схему, которая находится в связанной учетной записи интеграции, которую нужно использовать для декодирования, например:

   ![Выберите схему, используемую для декодирования](./media/logic-apps-enterprise-integration-flatfile/select-schema-for-decoding.png)

   > [!NOTE]
   > Если в списке нет схемы, ваша учетная запись интеграции не будет содержать файлы схемы, используемые для декодирования. Передайте схему, которую вы хотите использовать, в учетную запись интеграции.

1. Сохраните приложение логики. Чтобы протестировать соединитель, выполните запрос к конечной точке HTTPS, которая отображается в свойстве **HTTP POST URL-адреса** триггера запроса, и включите XML-содержимое, которое необходимо декодировать, в тексте запроса.

Теперь вы выполнили настройку действия декодирования неструктурированного файла. В реальных приложениях можно хранить декодированные данные в бизнес-приложении, таком как Salesforce (LOB). Вы также можете отправить декодированные данные торговому партнеру. Чтобы отправить выходные данные действия декодирования Salesforce или торговому партнеру, используйте другие [соединители, доступные в Azure Logic Apps](../connectors/apis-list.md).

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о [пакет интеграции Enterprise](logic-apps-enterprise-integration-overview.md)
