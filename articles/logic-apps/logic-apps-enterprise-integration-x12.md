---
title: Отправка и получение сообщений X12 для B2B
description: Обмен сообщениями X12 для сценариев интеграции с предприятием B2B в Azure Logic Apps с помощью Пакета интеграции Enterprise
services: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, logicappspm
ms.topic: article
ms.date: 04/29/2020
ms.openlocfilehash: 9398b40763e8226cedf788f9cefbf5ed28cd649d
ms.sourcegitcommit: 493b27fbfd7917c3823a1e4c313d07331d1b732f
ms.contentlocale: ru-RU
ms.lasthandoff: 05/21/2020
ms.locfileid: "83739538"
---
# <a name="exchange-x12-messages-for-b2b-enterprise-integration-in-azure-logic-apps-with-enterprise-integration-pack"></a>Обмен сообщениями X12 для интеграции с предприятием B2B в Azure Logic Apps с помощью Пакета интеграции Enterprise

Для работы с сообщениями X12 в Azure Logic Apps можно использовать соединитель X12, который предоставляет триггеры и действия для управления связью X12. Дополнительные сведения о сообщениях EDIFACT см. в разделе [Обмен сообщениями EDIFACT](logic-apps-enterprise-integration-edifact.md).

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [получите бесплатную учетную запись Azure](https://azure.microsoft.com/free/).

* Приложение логики, из которого требуется использовать соединитель X12, и триггер, который запускает рабочий процесс приложения логики. Соединитель X12 предоставляет только действия, а не триггеры. Если вы не знакомы с приложениями логики, ознакомьтесь со статьями [Что такое Azure Logic Apps](../logic-apps/logic-apps-overview.md) и [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).

* [Учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md), связанная с подпиской Azure и приложением логики, где планируется использовать соединитель X12. Как приложение логики, так и учетная запись интеграции должны находиться в одном расположении или регионе Azure.

* По крайней мере два [торговых партнера](../logic-apps/logic-apps-enterprise-integration-partners.md), которые уже определены в учетной записи интеграции, с помощью квалификатора удостоверения X12.

* [Схемы](../logic-apps/logic-apps-enterprise-integration-schemas.md) для использования при проверке XML, которые уже добавлены в учетную запись интеграции. Если вы работаете со схемами Закона об ответственности и переносе данных о страховании здоровья граждан, см. статью [Схемы HIPAA](#hipaa-schemas).

* Прежде чем начать использовать соединитель X12, нужно создать [соглашение X12](../logic-apps/logic-apps-enterprise-integration-agreements.md) между вашими торговыми партнерами и сохранить его в учетной записи интеграции. Если вы работаете со схемами Закона об ответственности и переносе данных о страховании здоровья граждан, к соглашению нужно добавить раздел `schemaReferences`. Дополнительные сведения см. в статье [Схемы HIPAA](#hipaa-schemas).

<a name="receive-settings"></a>

## <a name="receive-settings"></a>"Receive Settings" (Параметры получения)

После определения свойств соглашения вы можете настроить идентификацию и обработку этим соглашением входящих сообщений, полученных от партнера через соглашение.

1. В колонке **Добавить** выберите **Настройки получения**.

1. Настройте эти свойства в соответствии с вашим соглашением с партнером, с которым вы будете обмениваться сообщениями. **Параметры получения** организованы в следующие разделы:

   * [Идентификаторы](#inbound-identifiers)
   * [Подтверждение](#inbound-acknowledgement)
   * [Схемы](#inbound-schemas)
   * [Оболочки](#inbound-envelopes)
   * [Контрольные номера](#inbound-control-numbers)
   * [Validations](#inbound-validations)
   * [Внутренние параметры](#inbound-internal-settings)

   Ниже приведены таблицы с описанием свойств раздела настроек отправки.

1. После выполнения описанных выше действий нажмите кнопку **ОК**, чтобы сохранить заданные параметры.

<a name="inbound-identifiers"></a>

### <a name="receive-settings---identifiers"></a>Параметры получения — идентификаторы

![Свойства идентификаторов для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-identifiers.png)

| Свойство | Описание |
|----------|-------------|
| **ISA1 (квалификатор авторизации)** | Значение квалификатора авторизации, которое вы хотите использовать. Значение по умолчанию — **00 — сведения об авторизации отсутствуют**. <p>**Примечание.** При выборе других значений укажите значение для свойства **ISA2**. |
| **ISA2** | Значение данных авторизации, используемое, если свойство **ISA1** отличается от **00 — сведения об авторизации отсутствуют**. Значение свойства должно включать от 1 до 10 буквенно-цифровых символов. |
| **ISA3 (квалификатор безопасности)** | Значение квалификатора безопасности, которое вы хотите использовать. Значение по умолчанию — **00 — сведения о безопасности отсутствуют**. <p>**Примечание.** При выборе других значений укажите значение для свойства **ISA4**. |
| **ISA4** | Значение сведений о безопасности, используемое, если свойство **ISA3** отличается от **00 — сведения о безопасности отсутствуют**. Значение свойства должно включать от 1 до 10 буквенно-цифровых символов. |
|||

<a name="inbound-acknowledgement"></a>

### <a name="receive-settings---acknowledgement"></a>Параметры получения — подтверждение

![Подтверждение входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-acknowledgement.png)

| Свойство | Описание |
|----------|-------------|
| **Ожидается техническое подтверждение (TA1)** | Возвращает техническое подтверждение (TA1) отправителю сообщения. |
| **Ожидается функциональное подтверждение (FA)** | Возвращает функциональное подтверждение (FA) отправителю сообщения. <p>Для свойства **версия FA** в зависимости от версии схемы выберите подтверждения 997 или 999. <p>Установите этот флажок, чтобы включить создание циклов AK2 в функциональных подтверждениях для принимаемых наборов транзакций, выберите **Включить цикл AK2/IK2**. |
||||

<a name="inbound-schemas"></a>

### <a name="receive-settings---schemas"></a>Параметры получения — схемы

![Схемы для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-schemas.png)

В этом разделе выберите [схему](../logic-apps/logic-apps-enterprise-integration-schemas.md) из [учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-accounts.md) для каждого типа транзакции (ST01) и приложения отправителя (GS02). Конвейер получения EDI будет разбирать входящие сообщения, сопоставляя заданные здесь значения и схему со значениями ST01 и GS02 во входящем сообщении и схемой входящего сообщения. После заполнения каждой строки автоматически будет добавляться новая строка.

| Свойство | Описание |
|----------|-------------|
| **Версия** | Версия X12 для схемы |
| **Тип транзакции (ST01)** | Тип транзакции. |
| **Приложение отправителя (GS02)** | Приложение отправителя. |
| **Схема** | Файл схемы для использования. |
|||

<a name="inbound-envelopes"></a>

### <a name="receive-settings---envelopes"></a>Параметры получения — оболочки

![Разделители, используемые в наборах транзакций для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-envelopes.png)

| Свойство | Описание |
|----------|-------------|
| **Использование ISA11** | Разделитель для использования в наборе транзакций. <p>- **Стандартный идентификатор**: используйте точку (.) для десятичного представления вместо десятичного представления входящего документа в конвейере получения EDI. <p>- **Разделитель повторений**: выберите разделитель для повторяющихся вхождений простых элементов данных или повторяемой структуры данных. Например, в качестве разделителя повторений обычно используется карет (^). Для схем HIPPA можно использовать только карет. |
|||

<a name="inbound-control-numbers"></a>

### <a name="receive-settings---control-numbers"></a>Параметры получения — контрольные номера

![Обработка дубликатов контрольных номеров для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-control-numbers.png) 

| Свойство | Описание |
|----------|-------------|
| **Запретить повторяющиеся контрольные номера обмена** | Запрещает повторяющиеся операции обмена. Сверяет контрольный номер операции обмена (ISA13) с контрольными номерами уже полученных операций. Если они совпадают, то конвейер получения EDI не обрабатывает обмен. <p><p>Чтобы указать длительность периода (в днях), за который выполняется проверка, задайте значение свойства **Проверять наличие повторяющегося ISA13 каждые (дн.)** . |
| **Запретить повторяющиеся контрольные номера групп** | Запрещает операции обмена с повторяющимися контрольными номерами групп. |
| **Запретить повторяющиеся контрольные номера наборов транзакций** | Запрещает операции обмена с повторяющимися контрольными номерами наборов транзакций. |
|||

<a name="inbound-validations"></a>

### <a name="receive-settings---validations"></a>Параметры получения — проверки

![Проверки для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-validations.png)

В строке **По умолчанию** отображаются правила проверки, используемые для типа сообщений EDI. Если необходимо определить иные правила, выберите каждое поле, в котором набор правил должен быть установлен на **true**. После заполнения каждой строки автоматически будет добавляться новая строка.

| Свойство | Описание |
|----------|-------------|
| **Тип сообщений** | Тип сообщений EDI |
| **Проверка EDI** | Выполняет проверку EDI для типов данных в соответствии со свойствами EDI схемы, ограничениями длины, пустыми элементами данных и конечными разделителями. |
| **Расширенная проверка** | Если типом данных не является EDI, то проверка проводится согласно требованиям к элементу данных и разрешены повторы, перечисления и контроль длины элементов данных (минимальная и максимальная длина). |
| **Разрешить начальные и конечные нули** | Сохраняет все дополнительные начальные или конечные нули и пробелы. Не удаляйте эти символы. |
| **Обрезать начальные и конечные нули** | Удаляет все начальные или конечные нули и пробелы. |
| **Политика конечных разделителей** | Создает конечные разделители. <p>- **Не разрешено**: запрещает использование конечных разделителей в получаемом обмене. Если обмен содержит конечные разделители, он будет объявлен недопустимым. <p>- **Необязательно**: разрешает принимать обмен как с конечными разделителями, так и без них. <p>- **Обязательно**: делает обязательным использование конечных разделителей в получаемом обмене. |
|||

<a name="inbound-internal-settings"></a>

### <a name="receive-settings---internal-settings"></a>Параметры получения — внутренние параметры

![Внутренние параметры для входящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-receive-settings-internal-settings.png)

| Свойство | Описание |
|----------|-------------|
| **Преобразовать подразумеваемый десятичный формат Nn в числовое значение с основанием 10** | Преобразует число EDI, которое указано в формате Nn, в числовое значение с основанием 10. |
| **Создать пустые теги XML, если конечные разделители разрешены** | Используется чтобы отправитель при обмене добавлял пустые теги XML для конечных разделителей. |
| **Разделение документа Interchange на наборы транзакций — заблокировать наборы транзакций при ошибке** | Указывает, что каждый набор транзакций в рамках операции обмена нужно анализировать в виде отдельного XML-документа, применяя к этому набору транзакций соответствующую оболочку. Приостанавливаются только те транзакции, для которых происходит сбой проверки. |
| **Разделение документа Interchange на наборы транзакций — заблокировать документ Interchange при ошибке** | Указывает, что каждый набор транзакций в рамках операции обмена нужно анализировать в виде отдельного XML-документа, применяя соответствующую оболочку. Если один или несколько наборов транзакций, входящих в обмен, не проходят проверку, обработка останавливается для всего обмена. |
| **Сохранение документа Interchange — заблокировать наборы транзакций при ошибке** | Сохраняет операцию обмена неделимой и создает XML-документ для всего пакетного обмена. Обработка будет прекращаться только для тех наборов транзакций, которые не прошли проверку, и продолжится для всех остальных наборов транзакций. |
| **Сохранение документа Interchange — заблокировать операцию обмена при ошибке** |Сохраняет операцию обмена неделимой, создавая XML-документ для всего пакетного обмена. Если один или несколько наборов транзакций, входящих в обмен, не проходят проверку, обработка останавливается для всего обмена. |
|||

<a name="send-settings"></a>

## <a name="send-settings"></a>"Send Settings" (Параметры отправки)

После определения свойств соглашения вы можете настроить идентификацию и обработку этим соглашением исходящих сообщений, отправляемых партнеру через это соглашение.

1. В колонке **Добавить** выберите **Настройки отправки**.

1. Настройте эти свойства в соответствии с вашим соглашением с партнером, с которым вы будете обмениваться сообщениями. Ниже приведены таблицы с описанием свойств раздела настроек отправки.

   **Параметры получения** организованы в следующие разделы:

   * [Идентификаторы](#outbound-identifiers)
   * [Подтверждение](#outbound-acknowledgement)
   * [Схемы](#outbound-schemas)
   * [Оболочки](#outbound-envelopes)
   * [Контрольный номер версии](#outbound-control-version-number)
   * [Контрольные номера](#outbound-control-numbers)
   * [Наборы символов и разделители](#outbound-character-sets-separators)
   * [Проверка](#outbound-validation)

1. После выполнения описанных выше действий нажмите кнопку **ОК**, чтобы сохранить заданные параметры.

<a name="outbound-identifiers"></a>

### <a name="send-settings---identifiers"></a>Параметры отправки — идентификаторы

![Свойства идентификаторов для исходящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-send-settings-identifiers.png)

| Свойство | Описание |
|----------|-------------|
| **ISA1 (квалификатор авторизации)** | Значение квалификатора авторизации, которое вы хотите использовать. Значение по умолчанию — **00 — сведения об авторизации отсутствуют**. <p>**Примечание.** При выборе других значений укажите значение для свойства **ISA2**. |
| **ISA2** | Значение данных авторизации, используемое, если свойство **ISA1** отличается от **00 — сведения об авторизации отсутствуют**. Значение свойства должно включать от 1 до 10 буквенно-цифровых символов. |
| **ISA3 (квалификатор безопасности)** | Значение квалификатора безопасности, которое вы хотите использовать. Значение по умолчанию — **00 — сведения о безопасности отсутствуют**. <p>**Примечание.** При выборе других значений укажите значение для свойства **ISA4**. |
| **ISA4** | Значение сведений о безопасности, используемое, если свойство **ISA3** отличается от **00 — сведения о безопасности отсутствуют**. Значение свойства должно включать от 1 до 10 буквенно-цифровых символов. |
|||

<a name="outbound-acknowledgement"></a>

### <a name="send-settings---acknowledgement"></a>Параметры отправки — подтверждение

![Свойства подтверждения исходящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-send-settings-acknowledgement.png)

| Свойство | Описание |
|----------|-------------|
| **Ожидается техническое подтверждение (TA1)** | Возвращает техническое подтверждение (TA1) отправителю сообщения. <p>Этот параметр указывает, что главный партнер, отправляющий сообщение, запрашивает подтверждение от гостевого партнера в соглашении. Эти подтверждения ожидаются главным партнером согласно параметрам получения в соглашении. |
| **Ожидается функциональное подтверждение (FA)** | Возвращает функциональное подтверждение (FA) отправителю сообщения. Для свойства **Версия FA** в зависимости от версии схемы выберите подтверждения 997 или 999. <p>Этот параметр указывает, что главный партнер, отправляющий сообщение, запрашивает подтверждение от партнера-гостя в соглашении. Эти подтверждения ожидаются главным партнером согласно параметрам получения в соглашении. |
|||

<a name="outbound-schemas"></a>

### <a name="send-settings---schemas"></a>Параметры получения — схемы

![Схемы для исходящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-send-settings-schemas.png)

В этом разделе выберите [схему](../logic-apps/logic-apps-enterprise-integration-schemas.md) из [учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-accounts.md) для каждого типа транзакции (ST01). После заполнения каждой строки автоматически будет добавляться новая строка.

| Свойство | Описание |
|----------|-------------|
| **Версия** | Версия X12 для схемы. |
| **Тип транзакции (ST01)** | Тип транзакции для схемы. |
| **Схема** | Файл схемы для использования. Если сначала выбрать схему, версия и тип транзакции будут настроены автоматически. |
|||

<a name="outbound-envelopes"></a>

### <a name="send-settings---envelopes"></a>Параметры отправки — оболочки

![Разделители в наборе транзакций, используемом для исходящих сообщений.](./media/logic-apps-enterprise-integration-x12/x12-send-settings-envelopes.png)

| Свойство | Описание |
|----------|-------------|
| **Использование ISA11** | Разделитель для использования в наборе транзакций. <p>- **Стандартный идентификатор**: Используйте точку (.) для десятичного представления вместо десятичного представления исходящего документа в конвейере отправки EDI. <p>- **Разделитель повторений**: выберите разделитель для повторяющихся вхождений простых элементов данных или повторяемой структуры данных. Например, в качестве разделителя повторений обычно используется карет (^). Для схем HIPPA можно использовать только карет. |
|||

<a name="outbound-control-version-number"></a>

### <a name="send-settings---control-version-number"></a>Параметры отправки — контрольный номер версии

![Контрольный номер версии для исходящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-send-settings-control-version-number.png)

В этом разделе выберите [схему](../logic-apps/logic-apps-enterprise-integration-schemas.md) из [учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-accounts.md) для каждого обмена. После заполнения каждой строки автоматически будет добавляться новая строка.

| Свойство | Описание |
|----------|-------------|
| **Контрольный номер версии (ISA12)** | Версия стандарта X12. |
| **Индикатор использования (ISA15)** | Контекст обмена: **Тестовые** данные, **Информационные** данные или **Рабочие** данные. |
| **Схема** | Схема, используемая для создания сегментов GS и ST для обмена в кодировке X12, которые отправляются в конвейер отправки EDI. |
| **GS1** | (Необязательно.) Выберите функциональный код. |
| **GS2** | (Необязательно.) Укажите отправителя приложения. |
| **GS3** | (Необязательно.) Укажите получателя приложения. |
| **GS4** | (Необязательно.) Выберите формат **CCYYMMDD** или **YYMMDD**. |
| **GS5** | (Необязательно.) Выберите формат **HHMM**, **HHMMSS** или **HHMMSSdd**. |
| **GS7** | (Необязательно.) Выберите значение ответственного агентства. |
| **GS8** | (Необязательно.) Укажите версию документа схемы. |
|||

<a name="outbound-control-numbers"></a>

### <a name="send-settings---control-numbers"></a>Параметры отправки — контрольные номера

![Контрольные номера для исходящих сообщений.](./media/logic-apps-enterprise-integration-x12/x12-send-settings-control-numbers.png)

| Свойство | Описание |
|----------|-------------|
| **Контрольный номер обмена (ISA13)** | Диапазон значений для контрольного номера обмена, который может иметь минимальное значение, равное 1, и максимальное значение 999999999. |
| **Контрольный номер группы (GS06)** | Диапазон значений для контрольного номера группы, который может иметь минимальное значение, равное 1, и максимальное значение 999999999. |
| **Контрольный номер набора транзакций (ST02)** | Диапазон значений для контрольного номера набора транзакций, который может иметь минимальное значение, равное 1, и максимальное значение 999999999. <p>- **Префикс**: необязательное буквенно-цифровое значение. <br>- **Суффикс**: необязательное буквенно-цифровое значение. |
|||

<a name="outbound-character-sets-separators"></a>

### <a name="send-settings---character-sets-and-separators"></a>Параметры отправки — наборы символов и разделители

![Разделители для типов сообщений в исходящих сообщениях](./media/logic-apps-enterprise-integration-x12/x12-send-settings-character-sets-separators.png)

Строка **По умолчанию** показывает набор символов, используемый в качестве разделителей для схемы сообщений. Если вы не хотите использовать набор символов **По умолчанию**, можно ввести отличающийся набор разделителей для каждого типа сообщений. После заполнения каждой строки автоматически будет добавляться новая строка.

> [!TIP]
> Чтобы ввести значения со специальными знаками, откройте соглашение в редакторе как JSON-файл и укажите значение ASCII для специального знака.

| Свойство | Описание |
|----------|-------------|
| **Используемый набор символов** | Набор символов X12, возможные наборы: **Базовый**, **Расширенный** или **UTF8**. |
| **Схема** | Схема для использования. После выбора схемы выберите нужный набор символов на основе приведенных ниже описаний разделителей. |
| **Тип входных данных** | Тип входных данных для набора символов. |
| **Разделитель компонентов** | Одиночный символ, разделяющий составные элементы данных. |
| **Разделитель элементов данных** | Одиночный символ, разделяющий простые элементы данных в составных элементах данных. |
| **Символ-разделитель замены** | Символ замены, которым будут заменены все символы разделителей в полезных данных при создании исходящего сообщения X12. |
| **Признак конца сегмента** | Одиночный символ, обозначающий конец сегмента EDI. |
| **Суффикс** | Символ, который будет использоваться с идентификатором сегмента. Если указать суффикс, элемент данных признака конца сегмента может быть пустым. Если признак конца сегмента оставить пустым, необходимо будет указать суффикс. |
|||

<a name="outbound-validation"></a>

### <a name="send-settings---validation"></a>Параметры отправки — проверка

![Свойства проверки для исходящих сообщений](./media/logic-apps-enterprise-integration-x12/x12-send-settings-validation.png) 

В строке **По умолчанию** отображаются правила проверки, используемые для типа сообщений EDI. Если необходимо определить иные правила, выберите каждое поле, в котором набор правил должен быть установлен на **true**. После заполнения каждой строки автоматически будет добавляться новая строка.

| Свойство | Описание |
|----------|-------------|
| **Тип сообщений** | Тип сообщений EDI |
| **Проверка EDI** | Выполняет проверку EDI для типов данных в соответствии со свойствами EDI схемы, ограничениями длины, пустыми элементами данных и конечными разделителями. |
| **Расширенная проверка** | Если типом данных не является EDI, то проверка проводится согласно требованиям к элементу данных и разрешены повторы, перечисления и контроль длины элементов данных (минимальная и максимальная длина). |
| **Разрешить начальные и конечные нули** | Сохраняет все дополнительные начальные или конечные нули и пробелы. Не удаляйте эти символы. |
| **Обрезать начальные и конечные нули** | Удаляет все начальные или конечные нули и пробелы. |
| **Политика конечных разделителей** | Создает конечные разделители. <p>- **Не разрешено**: запрещает использование конечных разделителей в исходящем обмене. Если обмен содержит конечные разделители, он будет объявлен недопустимым. <p>- **Необязательно**: разрешает отправлять обмен как с конечными разделителями, так и без них. <p>- **Обязательно**: делает обязательным использование конечных разделителей в исходящем обмене. |
|||

<a name="hipaa-schemas"></a>

## <a name="hipaa-schemas-and-message-types"></a>Схемы и типы сообщений HIPAA

При работе со схемами HIPAA и типами сообщений 277 или 837 необходимо выполнить несколько дополнительных действий. [Номера версий документа (GS8)](#outbound-control-version-number) для этих типов сообщений содержат более 9 символов, например "005010X222A1". Кроме того, некоторые номера версий документа сопоставляются с вариантами типов сообщений. Если не сослаться на правильный тип сообщений в схеме и в вашем соглашении, отобразится следующее сообщение об ошибке:

`"The message has an unknown document type and did not resolve to any of the existing schemas configured in the agreement."`

В этой таблице перечислены затронутые типы сообщений, любые их варианты и номера версий документов, которые сопоставляются с этими типами сообщений.

| Тип сообщения или вариант типа |  Описание | Текущий номер версии (GS8) |
|-------------------------|--------------|-------------------------------|
| 277 | Уведомление о состоянии сведений о здоровье | 005010X212 |
| 837_I | Заявка на получение услуг учреждения здравоохранения | 004010X096A1 <br>005010X223A1 <br>005010X223A2 |
| 837_D | Заявка на получение стоматологических услуг | 004010X097A1 <br>005010X224A1 <br>005010X224A2 |
| 837_P | Заявка на получение медицинских услуг специалиста | 004010X098A1 <br>005010X222 <br>005010X222A1 |
|||

Также необходимо отключить проверку EDI при использовании этих номеров версий документа, так как они приводят к ошибке, указывающей на недопустимую длина символа.

Чтобы указать эти номера версий документа и типы сообщений, выполните следующие действия.

1. В схеме HIPAA замените текущий тип сообщения на вариант типа сообщения для номера версии документа, которую хотите использовать.

   Например, предположим, что вы хотите использовать номер версии документа `005010X222A1` с типом сообщений `837`. В схеме вместо этого замените каждое значение `"X12_00501_837"` на `"X12_00501_837_P"`.

   Чтобы обновить схему, выполните следующие действия.

   1. На портале Azure перейдите в свою учетную запись интеграции. Найдите и скачайте свою схему. Замените тип сообщения, переименуйте файл схемы и отправьте измененную схему в учетную запись интеграции. Дополнительные сведения см. в статье [Редактирование схем](../logic-apps/logic-apps-enterprise-integration-schemas.md#edit-schemas).

   1. В параметрах сообщений вашего соглашения выберите измененную схему.

1. В объекте `schemaReferences` соглашения добавьте еще одну запись, указывающую вариант типа сообщения, соответствующий номеру версии документа.

   Например, предположим, что вы хотите использовать номер версии документа `005010X222A1` с типом сообщений `837`. В соглашении имеется раздел `schemaReferences` с этими свойствами и значениями.

   ```json
   "schemaReferences": [
      {
         "messageId": "837",
         "schemaVersion": "00501",
         "schemaName": "X12_00501_837"
      }
   ]
   ```

   В этом разделе `schemaReferences` добавьте еще одну запись со следующими значениями:

   * `"messageId": "837_P"`
   * `"schemaVersion": "00501"`
   * `"schemaName": "X12_00501_837_P"`

   В итоге раздел `schemaReferences` должен выглядеть приблизительно так, как показано в примере ниже.

   ```json
   "schemaReferences": [
      {
         "messageId": "837",
         "schemaVersion": "00501",
         "schemaName": "X12_00501_837"
      },
      {
         "messageId": "837_P",
         "schemaVersion": "00501",
         "schemaName": "X12_00501_837_P"
      }
   ]
   ```

1. В параметрах сообщения в соглашении отключите проверку EDI, сняв флажок **Проверка EDI** флажка для каждого из типов сообщений или для всех типов сообщений, если используются значения **По умолчанию**.

   ![Отключение проверки для всех типов сообщений или каждого типа сообщений](./media/logic-apps-enterprise-integration-x12/x12-disable-validation.png) 

## <a name="connector-reference"></a>Справочник по соединителям

Дополнительные технические сведения об этом соединителе, в том числе о действиях и ограничениях, описываемых файлом Swagger соединителя, см. на [странице справки соединителя](https://docs.microsoft.com/connectors/x12/).

> [!NOTE]
> Для приложений логики в [среде службы интеграции (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md) эта помеченная как ISE версия соединителя [использует ограничения сообщений B2B для ISE](../logic-apps/logic-apps-limits-and-config.md#b2b-protocol-limits).

## <a name="next-steps"></a>Дальнейшие действия

* Узнайте больше о других [соединителях для Logic Apps](../connectors/apis-list.md).
