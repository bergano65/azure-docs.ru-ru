---
title: Мониторинг SAP HANA на крупных экземплярах Azure | Документация Майкрософт
description: Мониторинг SAP HANA на крупных экземплярах Azure
services: virtual-machines-linux
documentationcenter: ''
author: RicksterCDN
manager: jeconnoc
editor: ''
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 09/10/2018
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: e5a5d462be5555090d1dfced5fa07c9b748eb312
ms.sourcegitcommit: af9cb4c4d9aaa1fbe4901af4fc3e49ef2c4e8d5e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2018
ms.locfileid: "44345664"
---
# <a name="how-to-monitor-sap-hana-large-instances-on-azure"></a>Мониторинг SAP HANA на крупных экземплярах Azure

SAP HANA на крупных экземплярах Azure ничем не отличается от любого другого развертывания IaaS — необходимо отслеживать работу ОС и приложений, а также потребление приложениями следующих ресурсов:

- ЦП
- Память
- пропускная способность сети;
- Дисковое пространство

В случае с виртуальными машинами Azure необходимо выяснить, достаточно ли перечисленных выше классов ресурсов или они будут исчерпаны. Ниже представлены подробные сведения о каждом классе.

**Потребление ресурсов ЦП.** Соотношение, определенное SAP для определенной рабочей нагрузки на HANA, применяется для обеспечения достаточного объема ресурсов ЦП, доступных для работы с данными, которые хранятся в памяти. Тем не менее возможны ситуации, когда при выполнении запросов HANA потребляет много ресурсов ЦП из-за отсутствия индексов или подобных проблем. Это означает, что необходимо отслеживать потребление ресурсов ЦП единицами крупных экземпляров HANA, а также ресурсов ЦП, используемых определенными службами HANA.

**Потребление памяти.** Важно выполнять мониторинг единицы как в HANA, так и за ее пределами. В HANA отслеживайте потребление данными выделенной памяти, чтобы выполнялись требования к размеру, установленные SAP. Кроме того, можно отслеживать потребление памяти на уровне крупных экземпляров, чтобы убедиться в том, что дополнительное установленное программное обеспечение, не относящееся к HANA, не потребляет слишком много памяти и, следовательно, не конкурирует с HANA за ресурсы памяти.

**Пропускная способность сети.** Пропускная способность шлюза виртуальной сети Azure при перемещении данных в виртуальную сеть Azure ограничена, поэтому полезно отслеживать данные, полученные виртуальными машинами Azure в виртуальной сети, чтобы выяснить, не превышены ли ограничения выбранного SKU шлюза Azure. В единице крупного экземпляра HANA есть смысл отслеживать входящий и исходящий сетевой трафик, а также время от времени отслеживать обрабатываемые объемы.

**Дисковое пространство.** Потребление дискового пространства обычно увеличивается с течением времени. Самые распространенные причины — увеличение объема данных, создание резервных копий журналов транзакций, хранение файлов трассировки и выполнение моментальных снимков хранилища. Поэтому важно отслеживать использование дискового пространства и управлять дисковым пространством, связанным с единицей крупного экземпляра HANA.

Для **номеров SKU типа II** больших экземпляров HANA сервер поставляется с предварительно загруженными системными инструментами диагностики. Вы можете использовать эти инструменты диагностики для проверки работоспособности системы. Выполните следующую команду для создания файла журнала проверки работоспособности в папке /var/log/health_check.
```
/opt/sgi/health_check/microsoft_tdi.sh
```
При взаимодействии со службой поддержки Майкрософт для устранения проблемы вас также могут попросить предоставить файлы журналов с помощью этих инструментов диагностики. Вы можете заархивировать файл в формате ZIP с помощью следующей команды.
```
tar  -czvf health_check_logs.tar.gz /var/log/health_check
```

**Дальнейшие действия**

- См. статью [Как устранять неполадки и отслеживать работу SAP HANA (крупные экземпляры) в Azure](troubleshooting-monitoring.md).