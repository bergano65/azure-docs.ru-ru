---
title: Развертывание платформы SAP BusinessObjects BI в Azure | Документация Майкрософт
description: Планирование, развертывание и настройка платформы SAP BusinessObjects BI в Azure
services: virtual-machines-windows,virtual-network,storage,azure-netapp-files,azure-files
documentationcenter: saponazure
author: dennispadia
manager: juergent
editor: ''
tags: azure-resource-manager
keywords: ''
ms.service: virtual-machines-windows
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 10/05/2020
ms.author: depadia
ms.openlocfilehash: 9d1759e5b809bc40e63fb6024fb7f107ad347da6
ms.sourcegitcommit: 30505c01d43ef71dac08138a960903c2b53f2499
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/15/2020
ms.locfileid: "92094481"
---
# <a name="sap-businessobjects-bi-platform-planning-and-implementation-guide-on-azure"></a>Рекомендации по планированию и внедрению платформы SAP BusinessObjects BI в Azure

## <a name="overview"></a>Обзор

Цель этого руководства — предоставить рекомендации по планированию, развертыванию и настройке платформы SAP BusinessObjects BI, также известной как платформа SAP Боби в Azure. Это руководством предназначено для охватывают общие службы и функции Azure, относящиеся к платформе SAP Боби. Это не исчерпывающий список всех возможных вариантов конфигурации. Она охватывает решения, общие для типичных сценариев развертывания.

Это руководство не предназначено для замены стандартных руководств по установке и администрированию платформы SAP Боби, а также документации по службам и базам данных.

## <a name="plan-and-implement-sap-businessobjects-bi-platform-on-azure"></a>Планирование и реализация платформы SAP BusinessObjects BI в Azure

Microsoft Azure предлагает широкий спектр служб, включая функции вычислений, хранения, сети и многие другие для предприятий, которые могут создавать свои приложения без длительных циклов закупок. Виртуальные машины Azure помогают компаниям развертывать масштабируемые вычислительные ресурсы для различных приложений SAP, таких как приложения SAP NetWeaver, SAP Hybris, SAP BusinessObjects BI, в зависимости от потребностей бизнеса. Azure также поддерживает подключение между организациями, что позволяет компаниям интегрировать виртуальные машины Azure в свои локальные домены, их частные облака и сетевую альбомную систему SAP.

В этом документе содержатся рекомендации по планированию и реализации для платформы SAP BusinessObjects BI в Azure. Он дополняет документацию по установке SAP и заметки SAP, которые представляют основные ресурсы для установки и развертывания SAP Боби.

### <a name="architecture-overview"></a>Обзор архитектуры

Платформа SAP BusinessObjects BI — это автономная система, которая может существовать на одной виртуальной машине Azure или масштабироваться в кластере многих виртуальных машин Azure, на которых работают разные компоненты. Платформа SAP Боби состоит из шести концептуальных уровней: уровня клиента, веб-уровня, уровня управления, уровня хранилища, уровня обработки и уровня данных. (Дополнительные сведения о каждом уровне см. в руководстве администратора на портале справки по [платформе SAP BusinessObjects бизнес-аналитики](https://help.sap.com/viewer/product/SAP_BUSINESSOBJECTS_BUSINESS_INTELLIGENCE_PLATFORM/4.3/en-US) ). Ниже приведены общие сведения о каждом уровне.

- **Уровень клиента:** Он содержит все клиентские приложения для настольных систем, взаимодействующие с платформой бизнес-аналитики и предоставляющие различные возможности отчетности, аналитики и администрирования.
- **Веб-уровень:** Он содержит веб-приложения, развернутые на серверах веб-приложений JAVA. Веб-приложения предоставляют функции платформы бизнес-аналитики для конечных пользователей через браузер.
- **Уровень управления:** Он координирует и контролирует все компоненты, которые делают платформу бизнес-аналитики. Он включает центральный сервер управления (CMS) и сервер событий и связанные службы.
- **Уровень хранилища:** Он отвечает за обработку файлов, таких как документы и отчеты. Он также обрабатывает кэширование отчетов для сохранения системных ресурсов при создании отчетов о доступе пользователей.
- **Уровень обработки:** Он анализирует данные и создает отчеты и другие типы выходных данных. Это единственный уровень, который обращается к базам данных, содержащим данные отчета.
- **Уровень данных:** Он состоит из серверов баз данных, на которых размещены системные базы данных CMS и данные аудита.

Платформа SAP BI состоит из коллекции серверов, работающих на одном или нескольких узлах. Важно выбрать правильную стратегию развертывания в зависимости от размера, бизнес-потребности и типа среды. Для небольшой установки, например для разработки или тестирования, можно использовать одну виртуальную машину Azure для сервера веб-приложений, сервера базы данных и всех серверов платформы BI. Если вы используете предложение "база данных как услуга" (DBaaS) в Azure, сервер базы данных будет выполняться отдельно от других компонентов. Для средних и крупных установок можно использовать серверы, работающие на нескольких виртуальных машинах Azure.

На рисунке ниже показана архитектура крупномасштабного развертывания платформы SAP Боби на виртуальных машинах Azure, где каждый компонент распространяется и помещается в группы доступности, которые могут поддерживать отработку отказа в случае прерывания работы службы.

![Архитектура платформы SAP BusinessObjects BI в Azure](./media/businessobjects-deployment-guide/businessobjects-architecture-on-azure.png)

#### <a name="architecture-details"></a>Сведения об архитектуре

- Подсистема балансировки нагрузки

  В развертывании с несколькими экземплярами SAP Боби серверы веб-приложений (или веб-уровень) выполняются на двух или более узлах. Для равномерного распределения нагрузки пользователей между веб-серверами можно использовать балансировщик нагрузки между конечными пользователями и веб-серверами. В Azure можно использовать [Azure Load Balancer](../../../load-balancer/load-balancer-overview.md) или [шлюз приложений Azure](../../../application-gateway/overview.md) для управления трафиком на веб-серверах.

- Серверы веб-приложений

  Веб-сервер содержит веб-приложения для платформы SAP Боби, такие как CMC и BI Pad. Чтобы обеспечить высокий уровень доступности для веб-сервера, необходимо развернуть по крайней мере два сервера веб-приложений для управления избыточностью и балансировкой нагрузки. В Azure эти серверы веб-приложений можно разместить в группах доступности или в зонах доступности для повышения доступности.

  Tomcat — это веб-приложение по умолчанию для платформы SAP BI. Чтобы обеспечить высокий уровень доступности для Tomcat, включите репликацию сеанса с помощью [статического перехватчика членства](https://tomcat.apache.org/tomcat-9.0-doc/config/cluster-membership.html#Static_Membership_Attributes) в Azure. Это гарантирует, что пользователь сможет получить доступ к веб-приложению SAP BI даже при нарушении работы службы Tomcat.

  > [!Important]
  > По умолчанию Tomcat использует многоадресный IP и порт для кластеризации, которые не поддерживаются в Azure (Примечание SAP [2764907](https://launchpad.support.sap.com/#/notes/2764907)).

- Серверы платформы бизнес-аналитики

  Серверы платформы бизнес-аналитики включают все службы, которые являются частью приложения SAP Боби (уровень управления, уровень обработки и уровень хранилища). Когда веб-сервер получает запрос, он обнаруживает каждый сервер платформы BI (в частности, все серверы CMS в кластере) и автоматически выполняет балансировку нагрузки своих запросов. Если на одном из узлов платформы бизнес-аналитики произошел сбой, он автоматически отправляет запросы на другой узел.

  Чтобы обеспечить высокий уровень доступности или избыточности для платформы бизнес-аналитики, необходимо развернуть приложение по крайней мере на двух виртуальных машинах Azure. В зависимости от размера вы можете масштабировать платформу бизнес-аналитики для выполнения на нескольких виртуальных машинах Azure.

- Сервер репозитория файлов (FRS)

  Сервер репозитория файлов содержит все отчеты и другие созданные документы бизнес-аналитики. При развертывании с несколькими экземплярами серверы платформы бизнес-аналитики выполняются на нескольких виртуальных машинах, и каждая виртуальная машина должна иметь доступ к этим отчетам и другим документам бизнес-аналитики. Таким образом, файловая система должна быть общей для всех серверов платформы бизнес-аналитики.

  В Azure можно либо использовать [файлы Azure Premium](../../../storage/files/storage-files-introduction.md) , либо [Azure NetApp Files](../../../azure-netapp-files/azure-netapp-files-introduction.md) для сервера репозитория файлов. Обе эти службы Azure имеют встроенную избыточность.

  > [!Important]
  > Протокол SMB для службы "файлы Azure" общедоступен, но поддержка протокола NFS для файлов Azure сейчас доступна в предварительной версии. Дополнительные сведения см. [в разделе Поддержка NFS 4,1 для службы файлов Azure теперь доступна в предварительной версии](https://azure.microsoft.com/en-us/blog/nfs-41-support-for-azure-files-is-now-in-preview/) .

- База данных & аудита CMS
  
  Для платформы SAP Боби требуется база данных для хранения своих системных данных, которая называется базой данных CMS. Он используется для хранения сведений о платформе бизнес-аналитики, таких как сведения о пользователе, сервере, папке, документе, конфигурации и проверке подлинности.

  Azure предлагает предложение базы данных [MySQL](https://azure.microsoft.com/en-us/services/mysql/) и базу данных [SQL Azure](https://azure.microsoft.com/en-us/services/sql-database/) (DBaaS), которые можно использовать для базы данных CMS и базы данных аудита. Так как это предложение PaaS, клиентам не нужно беспокоиться о работе, доступности и обслуживании баз данных. Клиент также может выбрать собственную базу данных для CMS и репозиторий аудита в зависимости от бизнес-потребности.

## <a name="support-matrix"></a>Матрица поддержки

В этом разделе описывается поддержка различных компонентов SAP Боби, таких как SAP BusinessObjects BI версии платформы, операционной системы и баз данных в Azure.

### <a name="sap-businessobjects-bi-platform"></a>Платформа SAP BusinessObjects BI

Azure Infrastructure как услуга (IaaS) позволяет развертывать и настраивать платформу SAP BusinessObjects BI в Azure COMPUTE. Она поддерживает следующую версию SAP Боби Platform-

- SAP BusinessObjects BI Platform 4,3
- SAP BusinessObjects BI Platform 4,2 SP04 +
- SAP BusinessObjects BI Platform 4,1 SP05 +

Платформа SAP BI работает в разных операционных системах и базах данных. Поддержка платформы SAP Боби для операционной системы и версии базы данных можно найти в [матрице доступности продуктов](https://apps.support.sap.com/sap/support/pam) для SAP Боби.

### <a name="operating-system"></a>Операционная система

Azure поддерживает следующие операционные системы для развертывания SAP BusinessObjects BI Platform.

- Microsoft Windows Server
- SUSE Linux Enterprise Server (SLES)
- Red Hat Enterprise Linux (RHEL)
- Oracle Linux (OL)

Версия операционной системы, указанная в [матрице доступности продуктов (PAM) для платформы SAP BUSINESSOBJECTS BI](https://support.sap.com/pam) , поддерживается до тех пор, пока они совместимы для работы в инфраструктуре Azure.

### <a name="databases"></a>Базы данных

Для платформы бизнес-аналитики требуется база данных для CMS и хранилище данных аудита, которое можно установить в любой поддерживаемой базе данных, указанной в [матрице доступности продуктов SAP](https://support.sap.com/pam) , которая включает в себя следующее:

- Microsoft SQL Server

- [База данных SQL Azure](https://azure.microsoft.com/en-us/services/sql-database/) (поддерживаемая база данных только для платформы SAP Боби в Windows)

  Это полностью управляемый SQL Server ядром СУБД на основе новейшего стабильного выпуска Enterprise Edition SQL Server. База данных SQL Azure обрабатывает большинство функций управления базами данных, таких как обновление, установка исправлений и мониторинг без участия пользователя. С помощью Базы данных SQL Azure можно создать высокодоступный и высокопроизводительный уровень хранения данных для приложений и решений в Azure. Дополнительные сведения см. в документации по [базе данных SQL Azure](../../../azure-sql/azure-sql-iaas-vs-paas-what-is-overview.md) .

- [База данных Azure для MySQL](https://azure.microsoft.com/en-us/services/mysql/) (следуйте тем же рекомендациям по совместимости, что и для MySQL AB в SAP PAM)

  Это служба реляционной базы данных на базе MySQL Community Edition. Это полностью управляемое предложение "база данных как услуга" (DBaaS), которое может обслуживать критически важные рабочие нагрузки с прогнозируемой производительностью и динамической масштабируемостью. Она имеет встроенную высокую доступность, автоматическую архивацию, установку исправлений программного обеспечения, автоматическое обнаружение сбоев и восстановление на момент времени до 35 дней, что значительно сокращает количество задач операций. Дополнительные сведения см. в документации по [базе данных Azure для MySQL](../../../mysql/overview.md) .

- SAP HANA

- SAP ASE

- IBM DB2

- Oracle (для версий и ограничений см. Примечание по протоколу SAP [2039619](https://launchpad.support.sap.com/#/notes/2039619))

- MaxDB

В этом документе приведены рекомендации по развертыванию **платформы SAP Боби в Windows с помощью базы данных SQL Azure** и **платформы SAP Боби в Linux с базой данных Azure для MySQL**. Это также рекомендуемый подход к запуску платформы SAP BusinessObjects BI в Azure.

## <a name="sizing"></a>Определение размера

Изменение размера — это процесс определения требований к оборудованию для эффективного запуска приложения. Для платформы SAP Боби необходимо изменить размер с помощью средства изменения размера SAP, которое называется [быстрым размером](https://www.sap.com/about/benchmark/sizing.quick-sizer.html#quick-sizer). Средство предоставляет SAPS на основе входных данных, которые затем должны быть сопоставлены с сертифицированными типами виртуальных машин Azure для SAP. Примечание SAP [1928533](https://launchpad.support.sap.com/#/notes/1928533) содержит список ПОДДЕРЖИВАЕМЫХ продуктов SAP и типов виртуальных машин Azure вместе с SAPS. Дополнительные сведения об изменении размера см. в статье о [настройке размера SAP BI](https://wiki.scn.sap.com/wiki/display/BOBJ/Sizing+and+Deploying+SAP+BusinessObjects+BI+4.x+Platform+and+Add-Ons).

В случае потребности в хранилище для платформы SAP Боби Azure предлагает различные типы [управляемых дисков](../../managed-disks-overview.md). Для каталога установки SAP Боби рекомендуется использовать управляемый диск уровня "Премиум" и для базы данных, работающей на виртуальных машинах, следуйте инструкциям, приведенным в статье [развертывание СУБД для рабочей нагрузки SAP](dbms_guide_general.md).

Azure поддерживает два предложения DBaaS для уровня данных платформы SAP Боби — [база данных SQL Azure](https://azure.microsoft.com/en-us/services/sql-database) (приложение бизнес-аналитики под управлением Windows) и [база данных Azure для MySQL](https://azure.microsoft.com/en-us/services/mysql) (приложение бизнес-аналитики, работающее под управлением Linux и Windows). Поэтому, основываясь на результате изменения размера, можно выбрать модель приобретения, которая наилучшим образом соответствует вашим нуждам.

> [!Tip]
> Для быстрого определения размеров рассмотрите 800 SAPS = 1 виртуальных ЦП при сопоставлении результата SAPS для уровня базы данных платформы SAP Боби с базой данных Azure как службой (база данных SQL Azure или база данных Azure для MySQL).

### <a name="sizing-models-for-azure-sql-database"></a>Модели изменения размера для базы данных SQL Azure

База данных SQL Azure предлагает следующие три модели приобретения:

- на основе виртуальное ядро

  Он позволяет выбрать количество виртуальных ядер, объем памяти, а также объем и скорость хранения. Модель приобретения на основе виртуальных ядер также позволяет применять [Преимущество гибридного использования Azure для SQL Server](https://azure.microsoft.com/pricing/hybrid-benefit/), чтобы добиться снижения затрат. Эта модель подходит для клиентов, которые возвышают гибкость, управление и прозрачность.

  В модели Виртуальное ядро есть три [варианта уровня служб](../../../azure-sql/database/service-tiers-vcore.md#service-tiers) , которые включают-общего назначения, критически важный для бизнеса и масштабирование. Уровень служб определяет архитектуру хранилища, пространство, ограничения ввода-вывода и параметры непрерывности бизнес-процессов, связанные с доступностью и аварийным восстановлением. Ниже приведены общие сведения о каждом параметре уровня службы.

  1. **Общего назначения** уровня служб лучше всего подходит для рабочих нагрузок предприятия. Он предлагает бюджетные, сбалансированные и масштабируемые варианты вычислений и хранения. Дополнительные сведения см. в разделе [Параметры и ограничения ресурсов](../../../azure-sql/database/resource-limits-vcore-single-databases.md#general-purpose---provisioned-compute---gen5).
  2. **Критически важный для бизнеса** уровень служб предоставляет бизнес-приложениям наивысшую устойчивость к сбоям с помощью нескольких изолированных реплик и обеспечивает наивысшую производительность ввода-вывода на реплику базы данных. Дополнительные сведения см. в разделе [Параметры и ограничения ресурсов](../../../azure-sql/database/resource-limits-vcore-single-databases.md#business-critical---provisioned-compute---gen5).
  3. Уровень службы " **горизонтальное масштабирование** " лучше подходит для рабочих нагрузок с высоким уровнем масштабируемости и требованиями для чтения и масштабирования. Она обеспечивает более высокую устойчивость к сбоям, позволяя настраивать более одной изолированной реплики базы данных. Дополнительные сведения см. в разделе [Параметры и ограничения ресурсов](../../../azure-sql/database/resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen5).

- На основе DTU

  Модель приобретения на основе DTU предлагает сочетание ресурсов вычислений, памяти и операций ввода-вывода на трех уровнях служб для поддержки интенсивных рабочих нагрузок баз данных. Для каждого объема вычислительных ресурсов на всех уровнях обслуживания предусмотрено отдельное сочетание этих ресурсов, к которым можно добавить ресурсы хранилища. Он лучше всего подходит для клиентов, которым требуются простые, предварительно настроенные параметры ресурсов.

  [Уровни служб](../../../azure-sql/database/service-tiers-dtu.md#compare-the-dtu-based-service-tiers) в модели приобретения на основе DTU отличаются диапазоном размеров вычислений с фиксированным объемом включенного хранилища, фиксированным сроком хранения резервных копий и фиксированной ценой.

- Бессерверные приложения

  В бессерверной модели вычислительные ресурсы автоматически масштабируются в соответствии с потребностями в рабочей нагрузке, а счета выставляются за количество использованных вычислительных ресурсов в секунду. Уровень вычислений "бессерверный" автоматически приостанавливает базы данных в течение неактивных периодов, когда оплачивается только хранилище, и автоматически возобновляет базы данных при возврате действия. Дополнительные сведения см. в разделе [Параметры и ограничения ресурсов](../../../azure-sql/database/resource-limits-vcore-single-databases.md#general-purpose---serverless-compute---gen5).
  
  Он более подходит для периодического непредсказуемого использования с низким средним использованием вычислений с течением времени. Поэтому эту модель можно использовать для непроизводственного развертывания SAP Боби.

> [!Note]
> Для SAP Боби удобно использовать модель на основе виртуальное ядро и выбрать общего назначения или критически важный для бизнеса уровня служб в зависимости от потребности бизнеса.

### <a name="sizing-models-for-azure-database-for-mysql"></a>Модели изменения размера для базы данных Azure для MySQL

База данных Azure для MySQL поставляется с тремя различными ценовыми категориями. Они отличаются объемом вычислений в виртуальных ядер, памятью на виртуальное ядро и технологией хранения, используемой для хранения даты. Ниже приведены общие сведения о параметрах и дополнительные сведения о различных атрибутах см. в разделе [ценовая](../../../mysql/concepts-pricing-tiers.md) Категория для базы данных Azure для MySQL.

- Basic

  Он используется для целевых рабочих нагрузок, требующих высокой производительности вычислений и ввода-вывода.

- Общего назначения

  Он подходит для большинства рабочих нагрузок, требующих сбалансированного вычислений и памяти с масштабируемой пропускной способностью ввода-вывода.

- С оптимизацией для операций в памяти

  Для высокопроизводительных рабочих нагрузок баз данных, требующих производительности в памяти для ускорения обработки транзакций и более высокого параллелизма.

> [!Note]
> Для SAP Боби удобно использовать общего назначения или ценовую категорию, оптимизированную для памяти, на основе рабочей нагрузки предприятия.

## <a name="azure-resources"></a>Ресурсы Azure

### <a name="choosing-regions"></a>Выбор регионов

Регион Azure — это одна или коллекция центров обработки данных, которая содержит инфраструктуру для запуска и размещает различные службы Azure. Эта инфраструктура включает большое количество узлов, которые работают как расчетные узлы или узлы хранилища, или выполняют сетевые функции. Не все регионы предлагают одни и те же службы.

Платформа SAP BI содержит различные компоненты, которые могут требовать определенных типов виртуальных машин, таких как файлы Azure или Azure NetApp Files или базы данных в качестве службы (DBaaS), для уровня данных, который может быть недоступен в определенных регионах. Вы можете узнать точную информацию о типах виртуальных машин, типах хранилищ Azure или других службах Azure в [продуктах, доступных для сайта региона](https://azure.microsoft.com/en-us/global-infrastructure/services/) . Если вы уже используете системы SAP в Azure, возможно, вы определили свой регион. В этом случае необходимо сначала изучить, что необходимые службы доступны в этих регионах, чтобы выбрать архитектуру платформы SAP BI.

### <a name="availability-zones"></a>Зоны доступности

Зоны доступности — это физически разделенные расположения в пределах одного региона Azure. Каждая зона доступности состоит из одного или нескольких центров обработки данных, оснащенных независимой мощностью, охлаждением и сетью.

Чтобы обеспечить высокий уровень доступности на каждом уровне для платформы SAP BI, можно распределить виртуальные машины в пределах зоны доступности, реализовав инфраструктуру высокого уровня доступности, которая может обеспечить наилучшее соглашение об уровне обслуживания в Azure. Для соглашения об уровне обслуживания для виртуальной машины в Azure проверьте последнюю версию [SLA для виртуальных машин](https://azure.microsoft.com/support/legal/sla/virtual-machines/).

Для уровня данных служба "база данных Azure как услуга" (DBaaS) по умолчанию предоставляет платформу высокой доступности. Вам нужно просто выбрать регион и обеспечить высокий уровень доступности, избыточности и устойчивости, чтобы уменьшить время простоя базы данных от запланированных и незапланированных простоев, не требуя настройки каких либо дополнительных компонентов. Дополнительные сведения о соглашении об уровне обслуживания для поддерживаемого предложения DBaaS в Azure см. в этой службе, а также в базе данных SQL Azure [для MySQL](../../../mysql/concepts-high-availability.md) и [высокой доступности](../../../azure-sql/database/high-availability-sla.md).

### <a name="availability-sets"></a>Группы доступности

Группа доступности — это логическая функция группирования для изоляции ресурсов виртуальной машины (ВМ) друг от друга при развертывании. Azure гарантирует, что виртуальные машины, размещенные в группе доступности, будут выполняться на нескольких физических серверах, в средах вычислений, в единицах хранения и сетевых коммутаторах. В случае сбоя оборудования или программного обеспечения затрагивается только подмножество виртуальных машин, и общее решение остается работоспособным. Если виртуальные машины помещены в группы доступности, контроллер структуры Azure распределяет виртуальные машины по разным доменам [сбоя](https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/virtual-machines/workloads/sap/planning-guide.md#fault-domains) и [обновления](https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/virtual-machines/workloads/sap/planning-guide.md#upgrade-domains) , чтобы предотвратить недоступность всех виртуальных машин из-за обслуживания или сбоя в пределах одного домена сбоя.

Платформа SAP BI содержит множество различных компонентов и при проектировании архитектуры необходимо убедиться, что каждый из этих компонентов устойчив к сбоям. Это можно сделать, разместив виртуальные машины Azure для каждого компонента в группах доступности. Помните, что при смешении виртуальных машин из разных семейств виртуальных машин в одной группе доступности могут возникнуть проблемы, которые не позволяют включить определенный тип виртуальной машины в такую группу доступности. Таким образом, для веб-приложения, приложения BI для платформы SAP BI будет выбрана отдельная группа доступности, выделенная в разделе Общие сведения об архитектуре.

Кроме того, число доменов обновления и сбоя, которые могут использоваться в группе доступности Azure в рамках единицы масштабирования Azure, ограничено. Таким образом, если вы добавляете виртуальные машины в одну группу доступности, то в конечном итоге две или более виртуальные машины будут находиться в одном и том же домене сбоя или обновления. Дополнительные сведения см. в разделе [группы доступности Azure](https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/virtual-machines/workloads/sap/planning-guide.md#azure-availability-sets) статьи Планирование и внедрение виртуальных машин Azure для SAP.

Сведения о концепциях групп доступности Azure и способах связи групп доступности с доменами сбоя и обновления см. в статье [Управление доступностью](../../manage-availability.md) .

> [!Important]
> Понятия Зон доступности Azure и групп доступности Azure являются взаимоисключающими. Это означает, что пару или несколько виртуальных машин можно развернуть либо в определенной Зоне доступности, либо в группе доступности Azure. Но не в обоих расположениях.

### <a name="virtual-machines"></a>Виртуальные машины

Виртуальная машина Azure — это предложение услуги, которое позволяет развертывать пользовательские образы в Azure как экземпляры инфраструктуры как услуги (IaaS). Это упрощает обслуживание и эксплуатацию приложений. Платформа по запросу выделяет вычислительные ресурсы и хранилище для размещения и масштабирования веб-приложений и подключенных приложений, а также управления ими.

Azure предлагает разнообразные виртуальные машины для всех потребностей вашего приложения. Но для рабочей нагрузки SAP Azure сводит выбор к различным семействам виртуальных машин, которые подходят для рабочей нагрузки SAP и SAP HANA рабочей нагрузки более конкретно. Для получения дополнительных сведений проверьте, [что программное обеспечение SAP поддерживается для развертываний Azure](sap-supported-product-on-azure.md).

В зависимости от размера платформы SAP BI необходимо сопоставлять требования к виртуальной машине Azure, которая поддерживается в продукте Azure для SAP. Примечание SAP [1928533](https://launchpad.support.sap.com/#/notes/1928533) — это хорошая отправная точка, в которой перечислены поддерживаемые типы виртуальных машин Azure для продуктов SAP в Windows и Linux. Кроме того, следует помнить о том, что помимо выбора только типов виртуальных машин, которые поддерживаются, также необходимо проверить доступность этих типов виртуальных машин в определенном регионе. Вы можете проверить доступность типа виртуальной машины на странице [Доступные продукты по регионам](https://azure.microsoft.com/global-infrastructure/services/) . Чтобы выбрать модель ценообразования, можно обратиться к [виртуальным машинам Azure для рабочей нагрузки SAP](planning-guide.md#azure-virtual-machines-for-sap-workload) .

### <a name="storage"></a>Хранилище

Хранилище Azure — это управляемая Azure облачная служба, которая предоставляет высокодоступные, безопасные, устойчивые, масштабируемые и избыточные хранилища. Некоторые типы хранилищ имеют ограниченный объем использования в сценариях SAP. Но несколько типов хранилища Azure хорошо подходят или оптимизированы для конкретных сценариев рабочей нагрузки SAP. Дополнительные сведения см. в руководстве по [типам хранилищ Azure для рабочих нагрузок SAP](planning-guide-storage.md) , так как в нем выделены различные варианты хранения, которые подходят для SAP.

Хранилище Azure имеет различные типы хранилищ, доступные для клиентов, и сведения для них можно прочитать в статье [какие типы дисков доступны в Azure?](../../disks-types.md) Платформа SAP Боби использует для сборки приложения следующую службу хранилища Azure.

- Диски, управляемые Azure

  Это том хранилища на уровне блоков, управляемый Azure. Диски для серверов приложений и баз данных платформы SAP Боби можно использовать при установке на виртуальных машинах Azure. Доступны различные типы [управляемых дисков Azure](../../managed-disks-overview.md) , но для приложения и базы данных SAP Боби Platform рекомендуется использовать службы SSDS уровня " [премиум](../../disks-types.md#premium-ssd) ".

  В приведенном ниже примере для каталога установки платформы Боби используются расширенные твердотельные накопители. Для базы данных, установленной на виртуальной машине, можно использовать управляемые диски для данных и журналов в соответствии с рекомендациями. Базы данных CMS и Audit обычно являются небольшими и не имеют тех же требований к производительности хранилища, что и другие базы данных SAP OLTP/OLAP.

- Файлы Azure Premium или Azure NetApp Files

  На платформе SAP Боби сервер репозитория файлов (FRS) относится к каталогам на диске, где хранятся такие содержимое, как отчеты, Вселенной и подключения, используемые всеми серверами приложений этой системы. [Файлы Azure Premium](../../../storage/files/storage-files-introduction.md) или хранилище [Azure NetApp Files](../../../azure-netapp-files/azure-netapp-files-introduction.md) можно использовать в качестве общей файловой системы для SAP Боби Applications FRS. Так как это предложение хранилища недоступно для всех регионов, ознакомьтесь с актуальными сведениями на сайте [доступность продуктов по регионам](https://azure.microsoft.com/en-us/global-infrastructure/services/) .

  Если служба недоступна в вашем регионе, можно создать сервер NFS, на котором можно предоставить общий доступ к файловой системе для приложения SAP Боби. Но также необходимо учитывать высокий уровень доступности.

![Структура хранилища платформы SAP BusinessObjects BI в Azure](media/businessobjects-deployment-guide/businessobjects-storage-layout.png)

### <a name="networking"></a>Сеть

SAP Боби — это платформа для создания отчетов и аналитики, которая не содержит бизнес-данных. Таким образом, система подключается к другим серверам баз данных, откуда она извлекает все данные и предоставляет пользователю подробные сведения. Azure предоставляет сетевую инфраструктуру, которая позволяет сопоставлять все сценарии, которые могут быть реализованы с помощью платформы SAP BI, например подключение к локальной системе, системы в другой виртуальной сети и т. д. Дополнительные сведения см. в [подMicrosoft Azure сети для рабочей нагрузки SAP](https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/virtual-machines/workloads/sap/planning-guide.md#microsoft-azure-networking).

Для предложения "база данных как услуга" любая вновь созданная база данных (база данных SQL Azure или база данных Azure для MySQL) имеет брандмауэр, который блокирует все внешние подключения. Чтобы разрешить доступ к службе DBaaS из виртуальных машин платформы бизнес-аналитики, необходимо указать одно или несколько правил брандмауэра на уровне сервера, чтобы разрешить доступ к серверу DBaaS. Дополнительные сведения см. в разделе [правила брандмауэра](../../../mysql/concepts-firewall-rules.md) для базы данных Azure для MySQL и [управления доступом к сети](../../../azure-sql/database/network-access-controls-overview.md) для базы данных SQL Azure.

## <a name="next-steps"></a>Дальнейшие действия

- [Развертывание платформы SAP BusinessObjects BI в Linux](businessobjects-deployment-guide-linux.md)
- [SAP NetWeaver на виртуальных машинах Windows. Руководство по планированию и внедрению](planning-guide.md)
- [Развертывание виртуальных машин Azure для SAP NetWeaver](deployment-guide.md)
- [SAP NetWeaver на виртуальных машинах Azure. Руководство по развертыванию СУБД SQL Server](dbms-guide.md)