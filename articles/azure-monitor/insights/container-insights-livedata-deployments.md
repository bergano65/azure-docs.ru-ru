---
title: Просмотр Azure Monitor для развертываний контейнеров (Предварительная версия) | Документация Майкрософт
description: В этой статье описывается представление развертываний Kubernetes в режиме реального времени без использования kubectl в Azure Monitor для контейнеров.
services: azure-monitor
documentationcenter: ''
author: mgoedtel
ms.service: azure-monitor
ms.topic: conceptual
ms.date: 10/15/2019
ms.author: magoedte
ms.openlocfilehash: c7135aec98936b5247b39ae659e21735168bd289
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73514385"
---
# <a name="how-to-view-deployments-preview-in-real-time"></a>Просмотр развертываний (Предварительная версия) в режиме реального времени

При использовании Azure Monitor для контейнеров функция представления развертывания (Предварительная версия) эмулирует прямой доступ к объектам развертывания Kubernetes в режиме реального времени, предоставляя команды `kubeclt get deployments` и `kubectl describe deployment {your deployment}`. 

>[!NOTE]
>Кластеры AKS, включенные в качестве [частных кластеров](https://azure.microsoft.com/updates/aks-private-cluster/) , не поддерживаются этой функцией. Эта функция зависит от прямого доступа к API Kubernetes через прокси-сервер из браузера. Включение сетевой безопасности для блокировки интерфейса API Kubernetes от этого прокси-сервера приведет к блокировке этого трафика. 

>[!NOTE]
>Эта функция доступна во всех регионах Azure, включая Azure для Китая. Сейчас она недоступна в Azure для государственных организаций США.

Дополнительные сведения см. в документации по Kubernetes о [развертываниях](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/). 

## <a name="how-it-works"></a>Принцип работы

Функция интерактивных данных (Предварительная версия) напрямую обращается к API Kubernetes, а дополнительные сведения о модели проверки подлинности можно найти [здесь](https://kubernetes.io/docs/concepts/overview/kubernetes-api/). 

Функция развертывания (Предварительная версия) выполняет однократную (обновляемую) загрузку для конечной точки развертывания `/apis/apps/v1/deployments`. Он позволяет выбрать заданное развертывание и загрузить подробные сведения об этом конкретном развертывании относительно конечной точки развертывания `/apis/apps/v1/namespaces/${nameSpace}/deployments/${deploymentName}`. 

При выборе пункта **Обновить** в левом верхнем углу страницы обновляется список развертывания. Это имитирует повторное выполнение команды `kubectl`. 

>[!IMPORTANT]
>При работе этой функции данные не сохраняются навсегда. Все сведения, захваченные во время сеанса, удаляются при закрытии браузера или переходе от него.  

>[!NOTE]
>Вы не можете закреплять данные в режиме реального времени из консоли на панель мониторинга Azure.

## <a name="deployments-describe"></a>Развертывания описывают

Чтобы просмотреть описание развертывания, которое эквивалентно `kubectl describe deployment`, выполните следующие действия.

1. В портал Azure перейдите к группе ресурсов кластера AKS и выберите ресурс AKS.

2. На панели мониторинга кластера AKS в разделе **мониторинг** на левой стороне выберите **аналитика**. 

3. Перейдите на вкладку **развертывания (Предварительная версия)** .

    ![Представление "развертывания" в портал Azure](./media/container-insights-livedata-deployments/deployment-view.png)

В представлении отображается список всех запущенных развертываний, а также пространство имен и другие подробные сведения, имитирующие выполнение команды `kubectl get deployments –all-namespaces`. Результаты можно отсортировать, выбрав один из столбцов. 

![Сведения о панели свойств развертываний](./media/container-insights-livedata-deployments/deployment-properties-pane-details.png)

При выборе развертывания из списка в правой части страницы автоматически отображается область свойств. В нем отображаются сведения, относящиеся к выбранному развертыванию, которое можно просмотреть при выполнении команды `kubectl describe deployment {deploymentName}`. Возможно, вы заметили, что в описаниях отсутствуют некоторые сведения. Особенно, **шаблон** отсутствует. При выборе вкладки **необработанные** данные можно переходить к подробному описанию.  

![Необработанные сведения области свойств развертываний](./media/container-insights-livedata-deployments/deployment-properties-pane-raw.png)

При просмотре сведений о развертывании можно просматривать журналы контейнеров и события в режиме реального времени. Установите флажок **Показать динамическую консоль** и в области консоли в режиме реального времени (Предварительная версия) отображается под сеткой данных развертывания, где можно просматривать данные журнала в непрерывном потоке. Если в индикаторе состояния выборки отображается зеленая галочка, расположенная справа от панели, это означает, что данные можно получить и начать потоковую передачу в консоль.

Также можно выполнять фильтрацию по событиям пространства имен или уровня кластера. Дополнительные сведения о просмотре данных в режиме реального времени в консоли см. в разделе [Просмотр динамических данных (Предварительная версия) с помощью Azure Monitor для контейнеров](container-insights-livedata-overview.md). 

![Развертывания просмотр динамических данных в консоли](./media/container-insights-livedata-deployments/deployments-console-view-events.png)

## <a name="next-steps"></a>Дальнейшие действия

- Чтобы продолжить изучение способов использования Azure Monitor и отслеживать другие аспекты кластера AKS, ознакомьтесь со статьей [Общие сведения о мониторинге производительности кластера AKS с помощью Azure Monitor для контейнеров (предварительная версия)](container-insights-analyze.md).

- Просмотрите [примеры запросов журналов](container-insights-log-search.md#search-logs-to-analyze-data) , чтобы просмотреть предопределенные запросы и примеры для создания предупреждений, визуализаций или выполнения дальнейшего анализа кластеров.