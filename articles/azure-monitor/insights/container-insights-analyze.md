---
title: Мониторинг производительности кластера Kubernetes с помощью Azure Monitor для контейнеров | Документация Майкрософт
description: В этой статье описывается, как можно просматривать и анализировать производительность и данные журналов с помощью Azure Monitor для контейнеров.
ms.service: azure-monitor
ms.subservice: ''
ms.topic: conceptual
author: mgoedtel
ms.author: magoedte
ms.date: 10/15/2019
ms.openlocfilehash: 8bb3ac1905167989e27d47304ae539e49a1412e8
ms.sourcegitcommit: 2d3740e2670ff193f3e031c1e22dcd9e072d3ad9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2019
ms.locfileid: "74132350"
---
# <a name="understand-kubernetes-cluster-performance-with-azure-monitor-for-containers"></a>Общие сведения о производительности кластера Kubernetes с Azure Monitor для контейнеров

С помощью Azure Monitor для контейнеров можно использовать диаграммы производительности и состояние работоспособности для мониторинга рабочей нагрузки кластеров Kubernetes, размещенных в службе Kubernetes Azure (AKS), Azure Stack или в другой среде с двух точек зрения. Вы можете отслеживать непосредственно из кластера или просматривать все кластеры в подписке с Azure Monitor. Просматривать экземпляры контейнеров Azure также можно при наблюдении за конкретным кластером AKS.

Эта статья поможет вам разобраться в двух перспективах, а также о том, как Azure Monitor помогает быстро оценивать, исследовать и устранять обнаруженные проблемы.

Сведения о том, как включить Azure Monitor для контейнеров, см. в разделе подключение [Azure Monitor для контейнеров](container-insights-onboard.md).

Azure Monitor предоставляет представление с несколькими кластерами, в котором отображается состояние работоспособности всех наблюдаемых кластеров Kubernetes под управлением Linux и Windows Server 2019, развернутых в группах ресурсов в подписках. В нем отображаются кластеры, обнаруженные во всех средах, которые не отслеживаются решением. Вы можете сразу же понять работоспособность кластера и перейти к странице "производительность узла и контроллера" или просмотреть диаграмму производительности кластера. Для кластеров AKS, которые были обнаружены и идентифицированы как Неотслеживаемые, можно включить мониторинг для них в любое время. 

Ниже приведены основные различия в мониторинге кластера Windows Server с Azure Monitor для контейнеров по сравнению с кластером Linux.

- Метрика RSS в памяти недоступна для узлов и контейнеров Windows.
- Сведения о емкости хранилища диска недоступны для узлов Windows.
- Поддержка Live Logs доступна за исключением журналов контейнеров Windows.
- Отслеживаются только среды Pod, а не среды DOCKER.
- В предварительной версии поддерживается не более 30 контейнеров Windows Server. Это ограничение не распространяется на контейнеры Linux. 

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Войдите на [портале Azure](https://portal.azure.com). 

## <a name="multi-cluster-view-from-azure-monitor"></a>Мультикластерное представление из Azure Monitor

Чтобы просмотреть состояние работоспособности всех развернутых кластеров Kubernetes, выберите **монитор** в левой области в портал Azure. В разделе **Аналитика** выберите **Контейнеры**. 

![Пример мультикластерной панели мониторинга Azure Monitor](./media/container-insights-analyze/azmon-containers-multiview.png)

Вы можете ограничить результаты, представленные в сетке, чтобы отобразить следующие кластеры:

* Кластеры **Azure** -AKS и AKS-Engine, размещенные в службе Kubernetes Azure
* **Azure Stack (Предварительная версия)** — кластеры AKS-Engine, размещенные на Azure Stack
* **Не Azure (Предварительная версия)** — кластеры Kubernetes, размещенные локально
* **Все** — Просмотр всех кластеров Kubernetes, размещенных в Azure, Azure Stack и локальных средах, подключенных к Azure Monitor для контейнеров.

Чтобы просмотреть кластеры из определенной среды, выберите ее в области **среды** пилюля в левом верхнем углу страницы.

![Пример селектора пилюля среды](./media/container-insights-analyze/clusters-multiview-environment-pill.png)

На вкладке **наблюдаемые кластеры** вы узнаете следующее:

- Количество кластеров в критическом или неработоспособном состоянии, а также Количество работоспособных или не переданных отчетов (называемое неизвестным состоянием).
- Являются ли все развертывания [подсистемы Azure Kubernetes Engine (AKS-Engine)](https://github.com/Azure/aks-engine) работоспособными.
- Количество узлов и пользовательских и системных модулей, развернутых для каждого кластера.
- Сколько места на диске доступно и в случае проблемы с емкостью.

Здесь используются следующие состояния работоспособности: 

* **Работоспособность**: для виртуальной машины не обнаружены проблемы и она работает, как требуется. 
* **Критические**: обнаружены одна или несколько критических проблем, которые должны быть решены для восстановления нормального операционного состояния, как и ожидалось.
* **Предупреждение**: обнаружены одна или несколько проблем, которые должны быть решены, или состояние работоспособности может стать критическим.
* **Неизвестно**. Если служба не смогла установить соединение с узлом или модулем Pod, состояние изменится на неизвестное.
* **Не найдено**: Рабочая область, Группа ресурсов или подписка, содержащая рабочую область для этого решения, была удалена.
* Не **авторизовано**: у пользователя нет необходимых разрешений для чтения данных в рабочей области.
* **Ошибка**: произошла ошибка при попытке чтения данных из рабочей области.
* Неправильно **настроено: Azure Monitor**для контейнеров в указанной рабочей области задано неверно.
* **Нет данных**: данные не переданы в рабочую область за последние 30 минут.

Состояние работоспособности вычисляет общее состояние кластера как *наихудшее из* трех состояний с одним исключением. Если какое-либо из трех состояний неизвестно, общее состояние кластера отображается как **неизвестное**. 

В следующей таблице представлена декомпозиция вычисления, которое управляет состоянием работоспособности наблюдаемого кластера в представлении с несколькими кластерами.

| |Состояние |Доступность |  
|-------|-------|-----------------|  
|**Пользовательский модуль**| | |  
| |Healthy |100 % |  
| |Предупреждение |90–99 % |  
| |критические ошибки. |<90 % |  
| |Unknown |Если данные не предоставляются в течение последних 30 минут |  
|**Системный модуль**| | |  
| |Healthy |100 % |
| |Предупреждение |Недоступно |
| |критические ошибки. |<100 % |
| |Unknown |Если данные не предоставляются в течение последних 30 минут |
|**Node** | | |
| |Healthy |>85 % |
| |Предупреждение |60–84 % |
| |критические ошибки. |<60 % |
| |Unknown |Если данные не предоставляются в течение последних 30 минут |

В списке кластеров можно выполнить детализацию до страницы **кластера** , выбрав имя кластера. Затем перейдите на страницу "производительность **узлов** ", выбрав свертку узлов в столбце **узлы** для этого конкретного кластера. Вы также можете перейти на страницу производительности **контроллеров** , выбрав сводный показатель столбца " **пользовательские** модули" или " **системные** модули".

## <a name="view-performance-directly-from-a-cluster"></a>Просмотр производительности непосредственно из кластера

Доступ к Azure Monitor для контейнеров доступен непосредственно из кластера AKS. для этого выберите **аналитика** > **кластер** в левой области или при выборе кластера в представлении с несколькими кластерами. Сведения о кластере организованы в четыре перспективы:

- HDInsight
- Nodes 
- Controllers; 
- Контейнеры

>[!NOTE]
>Опыт, описанный в оставшейся части этой статьи, также подходит для просмотра производительности и состояния работоспособности кластеров Kubernetes, размещенных в Azure Stack или другой среде, при выборе в представлении с несколькими кластерами. 

Откроется страница по умолчанию с четырьмя линейными диаграммами производительности, отображающими ключевые метрики производительности кластера. 

![Пример диаграммы производительности на вкладке "Кластер"](./media/container-insights-analyze/containers-cluster-perfview.png)

На диаграммах производительности отображаются четыре метрики производительности.

- Загрузка **ЦП узла&nbsp;%** : совокупная перспектива использования ЦП для всего кластера. Чтобы отфильтровать результаты для диапазона времени, выберите **AVG**, **min**, **50**, **90**, **95 процентиль**или **Max** в селекторе процентили над диаграммой. Фильтры можно использовать как по отдельности, так и в сочетании. 
- **Node memory utilization&nbsp;%** (Доля использования памяти узла): статистическая перспектива использования памяти для всего кластера. Чтобы отфильтровать результаты для диапазона времени, выберите **AVG**, **min**, **50**, **90**, **95 процентиль**или **Max** в селекторе процентили над диаграммой. Фильтры можно использовать как по отдельности, так и в сочетании. 
- **Число узлов**: число узлов и сведения о состоянии, полученные из Kubernetes. Все представленные состояния узлов кластера являются общими, готовыми и не готовыми. Они могут быть отфильтрованы по отдельности или объединены в селектор над диаграммой. 
- **Число активных**модулей: количество и состояние Pod из Kubernetes. Состояние всех представленных модулей Pod: общее, ожидание, выполнение, неизвестно, успешно или сбой. Они могут быть отфильтрованы по отдельности или объединены в селектор над диаграммой. 

Используйте клавиши со стрелками влево и вправо для перемещения по каждой точке данных на диаграмме. Используйте клавиши со стрелками вверх и вниз для прохода по линиям процентиля. Щелкните значок закрепления в правом верхнем углу любой диаграммы, чтобы закрепить выбранную диаграмму на последней просмотренной панели мониторинга Azure. На панели мониторинга можно изменить размер и расположение диаграммы. Выбор диаграммы на панели мониторинга перенаправляет вас на Azure Monitor для контейнеров и загружает правильную область и представление.

Azure Monitor для контейнеров также поддерживает [Обозреватель метрик](../platform/metrics-getting-started.md)Azure Monitor, где можно создавать собственные диаграммы графиков, сопоставлять и исследовать тенденции, а также закреплять на панелях мониторинга. В обозревателе метрик можно также использовать критерии, заданные для визуализации метрик в качестве основания для [правила генерации оповещений на основе метрик](../platform/alerts-metric.md). 

## <a name="view-container-metrics-in-metrics-explorer"></a>Просмотр метрик контейнера в обозревателе метрик

В обозревателе метрик можно просматривать агрегированные метрики использования узла и Pod из Azure Monitor для контейнеров. В следующей таблице представлены сведения, которые помогут понять, как использовать диаграммы метрик для визуализации метрик контейнера.

|Пространство имен | Метрика | ОПИСАНИЕ | 
|----------|--------|-------------|
| Аналитика. контейнеры и узлы | |
| | кпуусажемилликорес | Совокупное измерение загрузки ЦП в кластере. Это ядро ЦП, разбитое на единицы 1000 (т. е. 1000). Используется для определения использования ядер в контейнере, где многие приложения могут использовать одно ядро.| 
| | кпуусажеперцентаже | Агрегированная средняя загрузка ЦП в процентах между кластером.|
| | меморирссбитес | Используемая в байтах память контейнера RSS.| 
| | меморирссперцентаже | Используемая в процентах память контейнера RSS.|
| | мемориворкингсетбитес | Используемая память рабочего набора контейнера.| 
| | мемориворкингсетперцентаже | Объем используемой памяти рабочего набора контейнера в процентах. | 
| | нодескаунт | Число узлов из Kubernetes.|
| Аналитика. контейнеры и модули | |
| | подкаунт | Число Pod из Kubernetes.|

Можно [разделить](../platform/metrics-charts.md#apply-splitting-to-a-chart) метрику, чтобы просмотреть ее по измерению, и визуализировать способ сравнения разных сегментов. Для узла можно сегментировать диаграмму по измерению *узла* . Из Pod можно разбить его на следующие измерения:

* Controller
* Пространство имен Kubernetes
* Узел
* Этап

## <a name="analyze-nodes-controllers-and-container-health"></a>Анализ узлов, контроллеров и работоспособности контейнеров

При переключении на вкладки **узлы**, **контроллеры**и **контейнеры** в правой части страницы автоматически отображается панель свойств. В нем отображаются свойства выбранного элемента, включая метки, определенные для организации объектов Kubernetes. При выборе узла Linux в разделе **емкость локального диска** также отображается свободное место на диске и процент, используемый для каждого диска, представленного для узла. На панели щелкните ссылку **>>** , чтобы просмотреть или скрыть панель.

При развертывании объектов в иерархии панель свойств обновляется на основе выбранного объекта. На панели вы также можете просмотреть журналы контейнеров Kubernetes (stdout/stderr), события и метрики Pod, выбрав ссылку **Просмотреть динамические данные (Предварительная версия)** в верхней части области. Дополнительные сведения о конфигурации, необходимой для предоставления и контроля доступа для просмотра этих данных, см. [в разделе Настройка динамических данных (Предварительная версия)](container-insights-livedata-setup.md). При просмотре ресурсов кластера эти данные можно просмотреть из контейнера в режиме реального времени. Дополнительные сведения об этой функции см. [в разделе Просмотр журналов Kubernetes, событий и метрик Pod в режиме реального времени](container-insights-livedata-overview.md). Чтобы просмотреть данные журнала Kubernetes, хранящиеся в рабочей области, на основе предварительно определенных поисков по журналам, выберите **Просмотреть журналы контейнеров** в раскрывающемся списке **представление в аналитике** . Дополнительные сведения об этом разделе см. [в разделе Поиск журналов для анализа данных](container-insights-log-search.md#search-logs-to-analyze-data).

Используйте параметр **+ Добавить фильтр** в верхней части страницы, чтобы отфильтровать результаты для представления по **службе**, **узлу**, **пространству имен**или **пулу узлов**. После выбора области фильтра выберите одно из значений, отображаемых в поле **Выбор значений** . После настройки фильтра он применяется глобально при просмотре перспективы кластера AKS. Формула поддерживает только знак равенства. Поверх первого фильтра можно добавить дополнительные фильтры, чтобы сузить диапазон результатов. Например, если указать фильтр по **узлу**, то можно выбрать только **службу** или **пространство имен** для второго фильтра.

При выборе другого параметра фильтр на одной вкладке будет применен. Он удаляется после выбора символа **x** рядом с указанным фильтром. 

Перейдите на вкладку **узлы** , и иерархия строк соответствует объектной модели Kubernetes, которая начинается с узла в кластере. Разверните узел, чтобы просмотреть один или несколько модулей Pod, выполняющихся на узле. Если несколько контейнеров сгруппированы в объект Pod, они отображаются как последняя строка в иерархии. Вы также можете просмотреть, сколько рабочих нагрузок, не связанных с Pod, выполняется на узле, если узел имеет нехватку процессора или памяти.

![Пример иерархии узлов Kubernetes в представлении "производительность"](./media/container-insights-analyze/containers-nodes-view.png)

Контейнеры Windows Server, на которых выполняется ОС Windows Server 2019, отображаются после всех узлов под управлением Linux в списке. При развертывании узла Windows Server можно просмотреть один или несколько модулей Pod и контейнеров, которые выполняются на узле. После выбора узла на панели «Свойства» отображаются сведения о версии. Сведения об агенте исключаются, поскольку на узлах Windows Server не установлен агент. 

![Пример иерархии узлов с указанными узлами Windows Server](./media/container-insights-analyze/nodes-view-windows.png) 

Виртуальные узлы службы "экземпляры контейнеров Azure", которые работают под управлением ОС Linux, отображаются после последнего узла кластера AKS в списке. При развертывании виртуального узла экземпляра контейнера можно просмотреть один или несколько модулей Pod и контейнеров, которые выполняются на узле. Метрики не собираются и не сообщаются для узлов только для модулей Pod.

![Пример иерархии узлов с перечисленными Экземплярами контейнера](./media/container-insights-analyze/nodes-view-aci.png)

На развернутом узле можно выполнить детализацию от модуля Pod или контейнера, который выполняется на узле, с контроллером, чтобы просмотреть данные производительности, отфильтрованные для этого контроллера. Выберите значение в столбце **контроллер** для конкретного узла.
 
![Пример перехода из узла к контроллеру в представление производительности](./media/container-insights-analyze/drill-down-node-controller.png)

Выберите Controllers or Containers (контроллеры или контейнеры) в верхней части страницы, чтобы проверить состояние и использование ресурсов для этих объектов. Чтобы просмотреть использование памяти, в раскрывающемся списке **Метрика** выберите RSS- **канал памяти** или **Рабочий набор памяти**. Параметр **Memory RSS** (Память (RSS)) поддерживается только для Kubernetes версии 1.8 и более поздних. В противном случае значения **Min&nbsp;%** отображаются как *NaN&nbsp;%* . Это значение числового типа данных, представляющее неопределенное значение или значение, которое невозможно представить.

![Представление производительности узлов контейнера](./media/container-insights-analyze/containers-node-metric-dropdown.png)

В **рабочем наборе памяти** отображается как резидентная память, так и виртуальная память (кэш), а также общее число используемых приложений. В **RSS-канале памяти** отображается только основная память (что не является ни резидентной памятью другими словами). Эта метрика показывает фактическую емкость доступной памяти. В чем разница между резидентной памятью и виртуальной памятью?

- Резидентная память или основная память — фактический объем памяти компьютера, доступный узлам кластера.

- Виртуальная память резервирует пространство на жестком диске (кэш), используемое операционной системой для переключения данных из памяти на диск при нехватке памяти и последующей их передачи в память при необходимости.

По умолчанию данные о производительности основываются на последних шести часах, но можно изменить окно с помощью параметра **TimeRange** в верхнем левом углу. Вы также можете отфильтровать результаты в диапазоне времени, выбрав **min**, **AVG**, **50**, **90**, **95 процентиль**и **Max** в селекторе процентилей. 

![Выбор процентилей для фильтрации данных](./media/container-insights-analyze/containers-metric-percentile-filter.png)

При наведении указателя мыши на линейчатую диаграмму под столбцом **тенденция** на каждом из них отображается использование ЦП или памяти (в зависимости от выбранной метрики) в течение периода выборки, равного 15 минутам. После выбора диаграммы тренда с помощью клавиатуры используйте сочетание клавиш ALT + Page Up или Alt + Page Down, чтобы циклически переключаться между отдельными полосами. Вы получаете те же сведения, что и при наведении указателя мыши на полосу.

![Пример линейчатой диаграммы тренда с наведением](./media/container-insights-analyze/containers-metric-trend-bar-01.png) 

В следующем примере для первого узла в списке *AKS-nodepool1-* , значение для **контейнеров** равно 9. Это значение представляет собой сводный показатель общего числа развернутых контейнеров.

![Пример свертки контейнеров на узел](./media/container-insights-analyze/containers-nodes-containerstotal.png)

Эти сведения помогут быстро определить, есть ли у вас соответствующий баланс контейнеров между узлами в кластере. 

Сведения, отображаемые при просмотре вкладки **узлы** , описаны в следующей таблице.

| столбец | ОПИСАНИЕ | 
|--------|-------------|
| имя | Имя узла. |
| Состояние | Представление Kubernetes о состоянии узла. |
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;%  | Средний процент для узла на основе процентиля в течение выбранного периода времени. |
| Min, AVG, 50, 90, 95 процентиль, Max | Среднее фактическое значение узлов на основе процентиля в течение выбранного периода времени. Среднее значение измеряется из ограничения ЦП/памяти, установленного для узла. Для модулей Pod и контейнеров это среднее значение, сообщаемое узлом. |
| Контейнеры | Число контейнеров. |
| Время доступности | Представляет время с момента запуска или перезапуска узла. |
| Controller | Только для контейнеров и модулей pod. Он показывает, в каком контроллере он находится. Не все модули pod будут размещаться в контроллере, поэтому для некоторых может отображаться значение **Н/Д**. | 
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;% | Гистограмма тренда представляет средний процент метрики процентиля контроллера. |

Выберите **Контроллеры** в селекторе.

![Выбор представления контроллеров](./media/container-insights-analyze/containers-controllers-tab.png)

Здесь можно просмотреть сведения о работоспособности производительности контроллеров виртуальных узлов или виртуальных узлов, не подключенных к контроллеру.

![представление производительности "имя > контроллеров \<"](./media/container-insights-analyze/containers-controllers-view.png)

Иерархия строк начинается с контроллера. При развертывании контроллера вы просматриваете один или несколько модулей Pod. Разверните pod, и в последней строке отобразится контейнер, сгруппированный в этот pod. Из расширенного контроллера можно выполнить детализацию до узла, на котором он работает, чтобы просмотреть данные о производительности, отфильтрованные для этого узла. Экземпляры контейнеров, не подключенные к контроллеру, перечислены в списке последними.

![Пример иерархии контроллеров с перечисленными модулями pod Экземпляров контейнеров](./media/container-insights-analyze/controllers-view-aci.png)

Выберите значение в столбце **узел** для конкретного контроллера.

![Пример перехода из узла к контроллеру в представление производительности](./media/container-insights-analyze/drill-down-controller-node.png)

Сведения, отображаемые при просмотре контроллеров, описаны в следующей таблице.

| столбец | ОПИСАНИЕ | 
|--------|-------------|
| имя | Имя контроллера.|
| Состояние | Состояние свертки контейнеров после завершения его выполнения с состоянием " *ОК*", " *завершено*", " *сбой*", " *остановлено*" или " *приостановлено*". Если контейнер работает, но состояние не было правильно отображено или не было выбрано агентом и не ответило более 30 минут, состояние *неизвестно*. Дополнительные сведения о значке состояния приведены в следующей таблице.|
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;%| Сводное среднее значение среднего процента каждой сущности для выбранной метрики и процентиля. |
| Min, AVG, 50, 90, 95 процентиль, Max  | Сводное среднее значение производительности ЦП (в миллиардах) или памяти для контейнера для выбранного процентиля. Среднее значение измеряется на основании лимита ресурсов ЦП и памяти, установленного для pod. |
| Контейнеры | Общее число контейнеров для контроллера или pod. |
| "Restarts" (Число перезапусков) | Сводное число перезапусков из контейнеров. |
| Время доступности | Представляет время с момента запуска контейнера. |
| Узел | Только для контейнеров и модулей pod. Он показывает, в каком контроллере он находится. | 
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;% | Гистограмма тренда представляет метрику процентиля контроллера. |

Значки в поле Состояние показывают состояние контейнеров в сети.
 
| Значок | Состояние | 
|--------|-------------|
| ![Значок состояния выполнения (готовности)](./media/container-insights-analyze/containers-ready-icon.png) | Выполняется (готово)|
| ![Значок состояния ожидания или приостановки](./media/container-insights-analyze/containers-waiting-icon.png) | Ожидается или приостановлено|
| ![Значок состояния последнего зарегистрированного выполнения](./media/container-insights-analyze/containers-grey-icon.png) | Последнее сообщение о выполнении, но не ответило более 30 минут|
| ![Значок состояния успешного выполнения](./media/container-insights-analyze/containers-green-icon.png) | Успешно остановлено или не удалось остановить|

Значок состояния отображает число на основе сведений, предоставляемых модулем pod. Он показывает два худших состояния и при наведении указателя мыши на значок показывает сводное состояния всех модулей pod в контейнере. Если это не состояние готовности, отображается значение состояния **(0)** .

Выберите **Контейнеры** в селекторе.

![Выбор представления контейнеров](./media/container-insights-analyze/containers-containers-tab.png)

Здесь можно просмотреть состояние производительности контейнеров Azure Kubernetes и Экземпляров контейнеров Azure. 

![представление производительности "\<имя > контейнеров"](./media/container-insights-analyze/containers-containers-view.png)

Из контейнера можно перейти к сведениям pod или узла, чтобы просмотреть отобранные данные производительности для этого объекта. Выберите значение в столбце **Pod** или **node** для конкретного контейнера.

![Пример детализации из узла в контейнеры в представлении "производительность"](./media/container-insights-analyze/drill-down-controller-node.png)

Сведения, отображаемые при просмотре контейнеров, описаны в следующей таблице.

| столбец | ОПИСАНИЕ | 
|--------|-------------|
| имя | Имя контроллера.|
| Состояние | Состояния контейнеров (при наличии). В таблице ниже приведены дополнительные сведения о значке состояния.|
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;% | Сводное значение среднего процента каждой сущности для выбранной метрики и процентиля. |
| Min, AVG, 50, 90, 95 процентиль, Max | Сводное среднее значение производительности ЦП (в миллиардах) или памяти контейнера для выбранного процентиля. Среднее значение измеряется на основании лимита ресурсов ЦП и памяти, установленного для pod. |
| Pod | Контейнер, в котором находится pod.| 
| Узел |  Узел, на котором размещен контейнер. | 
| "Restarts" (Число перезапусков) | Представляет время с момента запуска контейнера. |
| Время доступности | Представляет время с момента запуска или перезапуска контейнера. |
| Min&nbsp;%, AVG&nbsp;%, 50&nbsp;%, 90&nbsp;%, 95 процентиль&nbsp;%, Max&nbsp;% | Гистограмма тренда представляет средний процент метрики процентиля контроллера. |

Значки в поле Состояние указывают состояние модулей Pod в сети, как описано в следующей таблице.
 
| Значок | Состояние |  
|--------|-------------|  
| ![Значок состояния выполнения (готовности)](./media/container-insights-analyze/containers-ready-icon.png) | Выполняется (готово)|  
| ![Значок состояния ожидания или приостановки](./media/container-insights-analyze/containers-waiting-icon.png) | Ожидается или приостановлено|  
| ![Значок состояния последнего зарегистрированного выполнения](./media/container-insights-analyze/containers-grey-icon.png) | Последнее выполнение зарегистрировано, но ответа нет более 30 минут|  
| ![Значок состояния "Завершено"](./media/container-insights-analyze/containers-terminated-icon.png) | Успешно остановлено или не удалось остановить|  
| ![Значок состояния "Сбой"](./media/container-insights-analyze/containers-failed-icon.png) | Состояние сбоя |  

## <a name="workbooks"></a>Workbooks

Книги объединяют текст, [заносить в журнал запросы](../log-query/query-language.md), [метрики](../platform/data-platform-metrics.md)и параметры в расширенные Интерактивные отчеты. Их могут редактировать другие участники команды с доступом к тому же ресурсу Azure.

Azure Monitor для контейнеров содержат четыре книги, которые помогут вам начать работу:

- **Емкость диска**. представляет диаграммы использования интерактивных дисков для каждого диска, представленного узлу в контейнере, по следующим ракурсам:

    - Процент использования дискового пространства для всех дисков.
    - Освободите место на диске для всех дисков.
    - Сетка, в которой показан диск каждого узла, процент используемого пространства, тенденция процента используемого пространства, свободное место на диске (гиб) и тенденция свободного места на диске (гиб). Если в таблице выбрана строка, то под строкой отображается процент используемого пространства и свободного места на диске (гиб). 

- **Ввод-вывод на диск**: представляет диаграммы использования интерактивных дисков для каждого диска, представленного узлу в контейнере, следующими перспективами.

    - Дисковые операции ввода-вывода, собранные по всем дискам, считываются в байтах/с, записываются байт/с, а для чтения и записи — байт/с.
    - Восемь диаграмм производительности показывают ключевые показатели эффективности, помогающие измерять и определять узкие места дискового ввода-вывода.

- **Kubelet**: включает две сетки, отображающие основные сведения о ключевых узлах.

    - В разделе Общие сведения о сетке узлов показаны общие операции, общее количество ошибок и успешные операции по процентам и тенденциям для каждого узла.
    - Общие сведения о типе операции сводка по каждой операции, общее количество ошибок и успешные операции по процентам и тенденциям.

- **Сеть**: представляет собой интерактивные диаграммы использования сети для каждого сетевого адаптера узла, а сетка представляет ключевые показатели эффективности, помогающие измерять производительность сетевых адаптеров.

Чтобы получить доступ к этим книгам, выберите каждую из раскрывающегося списка **Просмотр книг** .

![Просмотр раскрывающегося списка книг](./media/container-insights-analyze/view-workbooks-dropdown-list.png)

## <a name="next-steps"></a>Дополнительная информация

- Ознакомьтесь с разработкой [оповещений производительности с помощью Azure Monitor для контейнеров](container-insights-alerts.md) , чтобы узнать, как создавать оповещения для высокой загрузки ЦП и памяти для поддержки DevOps или рабочих процессов и процедур.

- Просмотрите [примеры запросов журналов](container-insights-log-search.md#search-logs-to-analyze-data) , чтобы ознакомиться с предопределенными запросами и примерами, чтобы оценить, визуализировать или проанализировать кластеры.

- Просмотрите [Монитор работоспособности кластера](container-insights-health.md) , чтобы узнать о просмотре состояния работоспособности кластера Kubernetes.
