---
title: Обновление Snapshot Debugger Application Insights Azure для приложений .NET | Документация Майкрософт
description: Обновление Snapshot Debugger до последней версии в службах приложений Azure или с помощью пакетов NuGet
ms.service: azure-monitor
ms.subservice: application-insights
ms.topic: conceptual
author: pharring
ms.author: pharring
ms.date: 03/28/2019
ms.reviewer: mbullwin
ms.openlocfilehash: 51642dde3de16f2bed3ca247e573237effb30917
ms.sourcegitcommit: 44c2a964fb8521f9961928f6f7457ae3ed362694
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "73936015"
---
# <a name="upgrading-the-snapshot-debugger"></a>Обновление Snapshot Debugger

Для обеспечения наилучшей безопасности данных корпорация Майкрософт переходит с TLS 1,0 и TLS 1,1, которые были уязвимы для определенных злоумышленников. Если вы используете старую версию расширения сайта, для продолжения работы потребуется обновление. В этом документе описаны действия, необходимые для обновления отладчика моментальных снимков до последней версии. Существует два основных способа обновления в зависимости от того, включен ли Snapshot Debugger с помощью расширения сайта или если вы использовали пакет SDK или NuGet, добавленный в приложение. Ниже описаны оба варианта обновления. 

## <a name="upgrading-the-site-extension"></a>Обновление расширения сайта

> [!IMPORTANT]
> Более старые версии Application Insights использовали расширение частного сайта с именем _Application Insights Extension для службы приложений Azure_. Текущий интерфейс Application Insights включается путем настройки параметров приложения на развертывание предварительно установленного расширения сайта.
> Во избежание конфликтов, которые могут привести к прекращению работы сайта, важно сначала удалить расширение частного сайта. См. шаг 4 ниже.

Если вы включили отладчик моментальных снимков с помощью расширения сайта, можно выполнить обновление с помощью следующей процедуры:

1. Войдите на портал Azure.
2. Перейдите к ресурсу, в котором включен Application Insights и отладчик моментальных снимков. Например, для веб-приложения перейдите к ресурсу службы приложений:

   ![Снимок экрана: отдельный ресурс службы приложений с именем DiagService01](./media/snapshot-debugger-upgrade/app-service-resource.png)

3. После перехода к ресурсу щелкните колонку расширения и дождитесь заполнения списка расширений:

   ![Снимок экрана: расширения службы приложений с установленным расширением Application Insights для службы приложений Azure](./media/snapshot-debugger-upgrade/application-insights-site-extension-to-be-deleted.png)

4. Если установлена какая-либо версия _расширения Application Insights для службы приложений Azure_ , выберите ее и нажмите кнопку Удалить. Подтвердите **Да** , чтобы удалить расширение и дождаться завершения удаления, прежде чем переходить к следующему шагу.

   ![Снимок экрана расширений службы приложений, в котором отображается расширение Application Insights для службы приложений Azure с выделенной кнопкой "Удалить"](./media/snapshot-debugger-upgrade/application-insights-site-extension-delete.png)

5. Перейдите в колонку "Обзор" ресурса и щелкните Application Insights:

   ![Снимок экрана трех кнопок. Кнопка центра с именем Application Insights выбрана](./media/snapshot-debugger-upgrade/application-insights-button.png)

6. Если вы впервые Просмотрели колонку Application Insights для этой службы приложений, вам будет предложено включить Application Insights. Выберите **включить Application Insights**.
 
   ![Снимок экрана при первом запуске колонки Application Insights с выделенной кнопкой "включить Application Insights"](./media/snapshot-debugger-upgrade/turn-on-application-insights.png)

7. Отобразятся текущие параметры Application Insights. Если вы не хотите изменять параметры, вы можете оставить их как есть. Кнопка **Применить** в нижней части колонки не включена по умолчанию, поэтому необходимо переключить один из параметров, чтобы активировать кнопку. Нет необходимости изменять фактические параметры, вместо этого можно изменить параметр, а затем сразу же изменить его обратно. Рекомендуется переключать параметр профилировщика и затем выбрать **Применить**.

   ![Снимок экрана страницы настройки службы приложений Application Insights с кнопкой "Применить", выделенной красным цветом](./media/snapshot-debugger-upgrade/view-application-insights-data.png)

8. После нажатия кнопки **Применить**вам будет предложено подтвердить изменения.

    > [!NOTE]
    > Сайт будет перезапущен в рамках процесса обновления.

   ![Снимок экрана: запрос на применение мониторинга в службе приложений. В текстовом поле отображается сообщение: "теперь мы будем вносить изменения в параметры приложения и устанавливать наши средства для связывания ресурса Application Insights с веб-приложением. Это приведет к перезапуску сайта. Вы действительно хотите продолжить?"](./media/snapshot-debugger-upgrade/apply-monitoring-settings.png)

9. Нажмите кнопку **Да** , чтобы применить изменения и дождаться завершения процесса.

Сайт теперь обновлен и готов к использованию.

## <a name="upgrading-snapshot-debugger-using-sdknuget"></a>Обновление Snapshot Debugger с помощью пакета SDK или NuGet

Если приложение использует версию `Microsoft.ApplicationInsights.SnapshotCollector` ниже версии 1.3.1, ее необходимо обновить до [более новой версии](https://www.nuget.org/packages/Microsoft.ApplicationInsights.SnapshotCollector) , чтобы продолжить работу.
