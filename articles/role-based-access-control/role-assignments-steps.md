---
title: Действия по добавлению назначения ролей в Azure RBAC
description: Узнайте, как назначать роли Azure пользователям, группам, субъектам-службам или управляемым удостоверениям с помощью управления доступом на основе ролей Azure (Azure RBAC).
services: active-directory
author: rolyon
manager: mtillman
ms.service: role-based-access-control
ms.topic: how-to
ms.workload: identity
ms.date: 09/30/2020
ms.author: rolyon
ms.openlocfilehash: badf10da8af0ed3829deb2498b51b5d5c8ce6a93
ms.sourcegitcommit: ffa7a269177ea3c9dcefd1dea18ccb6a87c03b70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2020
ms.locfileid: "91604413"
---
# <a name="steps-to-add-a-role-assignment"></a>Действия по добавлению назначения ролей

[!INCLUDE [Azure RBAC definition grant access](../../includes/role-based-access-control-definition-grant.md)] В этой статье описываются общие действия по добавлению назначения ролей с помощью [портал Azure](role-assignments-portal.md), [Azure PowerShell](role-assignments-powershell.md), [Azure CLI](role-assignments-cli.md)или [REST API](role-assignments-rest.md).

## <a name="step-1-determine-who-needs-access"></a>Шаг 1. Определение пользователей, которым требуется доступ

Сначала необходимо определить, кому нужен доступ. Роль можно назначить пользователю, группе, субъекту-службе или управляемому удостоверению. Это также называется *субъектом безопасности*.

![Субъект безопасности для назначения роли](./media/shared/rbac-security-principal.png)

- Пользователь — человек, имеющий профиль в Azure Active Directory. Роли можно также назначать пользователям в других клиентах. Сведения о пользователях в других организациях см. в статье [Что такое служба совместной работы Azure AD B2B](../active-directory/b2b/what-is-b2b.md).
- Группа — набор пользователей, созданный в Azure Active Directory. При назначении роли группе ее получают все пользователи в этой группе. 
- Субъект-служба — это идентификатор безопасности, который используется приложениями или службами для доступа к определенным ресурсам Azure. Это что-то вроде *удостоверения пользователя* (имя пользователя и пароль или сертификат) для приложения.
- Управляемое удостоверение — это удостоверение, управление которым осуществляется автоматически в Azure Active Directory. Как правило, [управляемые удостоверения](../active-directory/managed-identities-azure-resources/overview.md) используются при разработке облачных приложений. Эти удостоверения нужны для управления учетными данными, которые используются при проверке подлинности в службах Azure.

## <a name="step-2-find-the-appropriate-role"></a>Шаг 2. поиск соответствующей роли

Разрешения объединяются в *Определение роли*. Обычно это называется *ролью*. Можно выбрать из списка нескольких встроенных ролей. Если встроенные роли не соответствуют потребностям вашей организации, вы можете создать собственные пользовательские роли.

![Определение роли для назначения роли](./media/shared/rbac-role-definition.png)

Ниже перечислены четыре основные встроенные роли. Первые три роли охватывают все типы ресурсов.

- [Владелец](built-in-roles.md#owner) — имеет полный доступ ко всем ресурсам, включая право делегировать доступ другим пользователям.
- [Участник](built-in-roles.md#contributor) — может создавать все типы ресурсов Azure и управлять ими, но не может предоставлять доступ другим пользователям.
- [Читатель](built-in-roles.md#reader) — может просматривать существующие ресурсы Azure.
- [Администратор доступа пользователей](built-in-roles.md#user-access-administrator) — может управлять доступом пользователей к ресурсам Azure.

Остальные встроенные роли разрешают управление определенными ресурсами Azure. Например, роль [Участник виртуальных машин](built-in-roles.md#virtual-machine-contributor) позволяет пользователю создавать виртуальные машины и управлять ими.

1. Для начала ознакомьтесь со статьей [Встроенные роли Azure](built-in-roles.md). Таблица в верхней части статьи является индексом для сведений, приведенных далее в этой статье.

1. В этой статье перейдите к категории служб (например, вычислений, хранилищ и баз данных) для ресурса, которому необходимо предоставить разрешения. Самый простой способ найти искомый объект — это, как правило, искать на странице релевантное ключевое слово, такое как "большой двоичный объект", "виртуальная машина" и т. д.

1. Ознакомьтесь с перечисленными ролями для категории службы и идентифицируйте конкретные необходимые операции. Опять же, всегда начинайте с наиболее ограниченных ролей.

    Например, если субъекту безопасности необходимо считывать большие двоичные объекты в учетной записи хранения Azure, но не требуется доступ для записи, выберите [модуль чтения BLOB-объектов хранилища](built-in-roles.md#storage-blob-data-reader) , а не [участник данных BLOB-объекта хранилища](built-in-roles.md#storage-blob-data-contributor) (и, безусловно, не роль [владельца хранилища больших двоичных объектов хранения](built-in-roles.md#storage-blob-data-owner) на уровне администратора). При необходимости назначения ролей всегда можно обновлять позднее.

1. Если подходящая роль не найдена, можно создать [пользовательскую роль](custom-roles.md).

## <a name="step-3-identify-the-needed-scope"></a>Шаг 3. Определение требуемой области

*Область* — это набор ресурсов, к которым предоставляется доступ. В Azure можно указать область на четырех уровнях: [Группа управления](../governance/management-groups/overview.md), подписка, [Группа ресурсов](../azure-resource-manager/management/overview.md#resource-groups)и ресурс. Структура областей строится на отношениях "родитель-потомок". Каждый уровень иерархии делает область более конкретной. Вы можете назначать роли на любом из этих уровней области. Выбранный уровень определяет, насколько широко применяется роль. Более низкие уровни наследуют разрешения роли от более высоких уровней. 

![Область для назначения ролей](./media/shared/rbac-scope.png)

При назначении роли в родительской области эти разрешения наследуются дочерними областями. Пример:

- При назначении роли [читателя](built-in-roles.md#reader) пользователю в области группы управления этот пользователь может читать все во всех подписках в группе управления.
- При назначении роли [читателя выставления счетов](built-in-roles.md#billing-reader) группе в области действия подписки члены этой группы могут считывать данные о выставлении счетов для каждой группы ресурсов и ресурса в подписке.
- Если вы назначаете роль [Участник](built-in-roles.md#contributor) приложению в области группы ресурсов, оно может управлять ресурсами всех типов в этой группе ресурсов, но не в других группах ресурсов в подписке.

 Дополнительные сведения см. в разделе [Знакомство с областью действия](scope-overview.md).

## <a name="step-4-check-your-prerequisites"></a>Шаг 4. Проверка предварительных требований

Чтобы назначить роли, необходимо войти в систему с помощью пользователя, которому назначена роль с разрешениями на запись, например [владелец](built-in-roles.md#owner) или [администратор доступа пользователей](built-in-roles.md#user-access-administrator) в области, которой вы пытаетесь назначить роль. Аналогично, чтобы удалить назначение ролей, необходимо иметь разрешение Удаление назначений ролей.

- `Microsoft.Authorization/roleAssignments/write`
- `Microsoft.Authorization/roleAssignments/delete`

Если ваша учетная запись пользователя не позволяет назначать роли в вашей подписке, вы увидите сообщение об ошибке о том, что ваша учетная запись не авторизована для выполнения действия Microsoft.Authorization/roleAssignments/write. В этом случае обратитесь к администраторам подписки, так как они могут назначать разрешения от вашего имени.

## <a name="step-5-add-role-assignment"></a>Шаг 5. Добавление назначения роли

Зная субъект безопасности, роль и область, можно назначить роль. Назначения ролей можно добавить с помощью портал Azure, Azure PowerShell, Azure CLI, пакетов SDK для Azure или интерфейсов API. В каждой подписке вы можете назначить до **2000** ролей. Это ограничение распространяется на назначения ролей в пределах подписки, группы ресурсов и ресурсов. В каждой группе управления можно назначить до **500** ролей.

Подробные инструкции по добавлению назначений ролей см. в следующих статьях.

- [Добавление и удаление назначений ролей Azure с помощью портала Azure](role-assignments-portal.md)
- [Добавление и удаление назначений ролей Azure с помощью Azure PowerShell](role-assignments-powershell.md)
- [Добавление или удаление назначений ролей Azure с помощью Azure CLI](role-assignments-cli.md)
- [Добавление или удаление назначений ролей Azure с помощью REST API](role-assignments-rest.md)

## <a name="next-steps"></a>Дальнейшие действия

- [Руководство. Предоставление доступа пользователям к ресурсам Azure с помощью портала Azure](quickstart-assign-role-user-portal.md)
