---
title: Администрирование и мониторинг приложений с помощью Azure Spring Boot Actuator
description: Узнайте, как управлять приложением и отслеживать его с помощью пружинного выключателя.
author: MikeDodaro
ms.author: brendm
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 05/20/2020
ms.custom: devx-track-java
ms.openlocfilehash: 93fd286aa76a0409a515abbf8c9dabd88a9a65c4
ms.sourcegitcommit: 53acd9895a4a395efa6d7cd41d7f78e392b9cfbe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "90904291"
---
# <a name="manage-and-monitor-app-with-azure-spring-boot-actuator"></a>Администрирование и мониторинг приложений с помощью Azure Spring Boot Actuator

**Эта статья относится к:** ✔️ Java

После развертывания нового двоичного файла в приложении может потребоваться проверить функциональные возможности и просмотреть сведения о работающем приложении. В этой статье объясняется, как получить доступ к API из конечной точки теста, предоставляемой с помощью Azure Веснного облака, и предоставить готовые к работе функции для вашего приложения.

## <a name="prerequisites"></a>Предварительные требования
В этой статье предполагается, что у вас есть пружинное приложение 2. x, которое может быть успешно развернуто и загружено в облачной службе Azure весны.  См [. раздел Краткое руководство. Запуск существующего облачного приложения Azure весны с помощью портал Azure](spring-cloud-quickstart.md)

## <a name="verify-app-through-test-endpoint"></a>Проверка приложения с помощью конечной точки теста
1. Перейдите на **панель мониторинга приложений** и щелкните свое приложение, чтобы перейти на страницу обзора приложения.

1. В области **Обзор** отобразится **Конечная точка теста**.  Доступ к этой конечной точке осуществляется из командной строки или браузера и наблюдение за ответом API.

1. Обратите внимание на URI **конечной точки теста** , который будет использоваться в разделе в будущем.

>[!TIP]
> * Если приложение возвращает интерфейсную страницу и ссылается на другие файлы по относительному пути, убедитесь, что конечная точка теста заканчивается косой чертой (/). Это обеспечит правильную загрузку CSS-файла.
> * Если вы просматриваете API из Брауэр (и ваш браузер требует ввести учетные данные для входа для просмотра страницы, используйте [декодирование URL-адреса](https://www.urldecoder.org/) для декодирования конечной точки теста. Декодирование URL-адреса возвращает URL-адрес в формате "https:// \<username> : \<password> @ \<cluster-name> . Test.azureapps.IO/ \<app-name> / \<deployment-name> ".  Используйте эту форму для доступа к конечной точке.

## <a name="add-actuator-dependency"></a>Добавить зависимость для исполнителя

Чтобы добавить инструмент для запуска в проект на основе Maven, добавьте зависимость "начальный":

```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
    </dependency>
</dependencies>
```

Скомпилируйте новый двоичный файл и разверните его в приложении.

## <a name="enable-production-ready-features"></a>Включение компонентов, готовых для производства
Конечные точки исполнителя позволяют отслеживать приложение и взаимодействовать с ним. По умолчанию приложение пружинной загрузки `health` предоставляет `info` конечные точки для отображения произвольных сведений о приложении и сведения о работоспособности.

Для наблюдения за конфигурацией и настраиваемой средой также необходимо включить `env` и `configgrops` конечные точки.

1. Перейдите в область **Обзор** приложения, щелкните **Конфигурация** в меню Настройка, перейдите на страницу Конфигурация **переменных среды** .
1. Добавьте следующие свойства, как в форме "ключ: значение". В этом окружении будет открыта конечная точка весны "env", "работоспособность", "info".

   ```
   management.endpoints.web.exposure.include: env,health,info
   ```
1. Нажмите кнопку **сохранить** . приложение будет автоматически перезапущено и загружать новые переменные среды.

Теперь можно вернуться в область Обзор приложения и подождать, пока состояние подготовки не изменится на "выполнено".  Будет существовать более одного выполняющегося экземпляра.

> [!Note] 
> После того как приложение будет открыто общедоступным, эти конечные точки также будут доступны для общего доступа. Все конечные точки можно скрыть, удалив переменные среды `management.endpoints.web.exposure.include` и задав `management.endpoints.web.exposure.exclude=*`

## <a name="view-the-actuator-endpoint-to-view-application-information"></a>Просмотр конечной точки исполнителя для просмотра сведений о приложении
1. Теперь вы можете получить доступ к URL-адресу, `"<test-endpoint>/actuator/"` чтобы увидеть все конечные точки, предоставляемые в качестве пружинного выключателя.
1. URL-адрес доступа `"<test-endpoint>/actuator/env"` можно просмотреть активные профили, используемые приложением, и все переменные среды, загруженные.
1. Если вы хотите выполнить поиск в определенной среде, можно получить доступ к URL-адресу,  `"<test-endpoint>/actuator/env/{toMatch}"` чтобы просмотреть его.

Чтобы просмотреть все конечные точки встроенные, см. раздел [предоставление конечных точек](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints) .

## <a name="next-steps"></a>Дальнейшие действия

* [Общие сведения о метриках для Azure Веснного облака](spring-cloud-concept-metrics.md)
* [Основные сведения о состоянии приложения в Azure Spring Cloud](spring-cloud-concept-app-status.md)

