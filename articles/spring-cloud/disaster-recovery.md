---
title: Географическое аварийное восстановление в облаке Azure | Документация Майкрософт
description: Узнайте, как защитить приложение с пружинным облаком от региональных простоев
services: spring-cloud
author: jpconnock
manager: gwallace
editor: ''
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 10/24/2019
ms.author: jeconnoc
ms.openlocfilehash: 4752cba6081d376bd006406a154b9b182c6a3a72
ms.sourcegitcommit: 0b1a4101d575e28af0f0d161852b57d82c9b2a7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/30/2019
ms.locfileid: "73164969"
---
# <a name="azure-spring-cloud-disaster-recovery"></a>Аварийное восстановление облака Azure весны

В этой статье объясняются некоторые стратегии, которые можно использовать для защиты облачных приложений Azure весны в течение простоя.  Любой регион или центр обработки данных может столкнуться с простоями, вызванными региональными авариями, но тщательное планирование может снизить влияние на клиентов.

## <a name="plan-your-application-deployment"></a>Планирование развертывания приложения

Облачные приложения Azure "Весна" работают в определенном регионе.  Azure работает в различных странах по всему миру. Географическая территория Azure — это определенная область мира, содержащая по крайней мере один регион Azure. Регион Azure — это область внутри географического элемента, содержащая один или несколько центров обработки данных.  Каждый регион Azure образует пару с другим регионом в пределах той же географической территории. Эти два региона формируют пару регионов. Azure сериализует обновления платформы (плановое обслуживание) по парам региональных стандартов, гарантируя, что в каждый момент времени обновляется только один регион в каждой паре. Если сбой затрагивает несколько регионов, по меньшей мере один регион в каждой паре будет приоритетным для восстановления.

Обеспечение высокой доступности и защиты от аварий требует развертывания приложений с пружинным облаком в нескольких регионах.  Azure предоставляет список [парных регионов](../best-practices-availability-paired-regions.md) , чтобы вы могли планировать облачные развертывания на территориальных парах.  При проектировании архитектуры микрослужбы рекомендуется учитывать три ключевых фактора: доступность региона, парные регионы Azure и доступность службы.

*  Доступность региона. Выберите географическую область, которая будет близка к пользователям для снижения задержки сети и времени передачи.
*  Парные регионы Azure. Выберите парные регионы в выбранной географической области, чтобы обеспечить согласованное обновление платформы и приоритеты при необходимости восстановления.
*  Доступность службы. Определите, должны ли парные регионы запускаться "горячий", "горячий", "горячий", "горячий" или "теплый" или "холодный".

## <a name="use-azure-traffic-manager-to-route-traffic"></a>Использование диспетчера трафика Azure для маршрутизации трафика

[Диспетчер трафика Azure](../traffic-manager/traffic-manager-overview.md) обеспечивает балансировку нагрузки трафика на основе DNS и может распределять сетевой трафик между несколькими регионами.  Используйте диспетчер трафика Azure, чтобы направить клиентам ближайший к нему экземпляр облачной службы Azure весны.  Для повышения производительности и избыточности направляйте весь трафик приложений через диспетчер трафика Azure перед отправкой в облачную службу Azure весны.

Если у вас есть приложения Azure "Весна" в нескольких регионах, используйте диспетчер трафика Azure для управления потоком трафика приложений в каждом из регионов.  Определите конечную точку диспетчера трафика Azure для каждой службы с помощью IP-адреса службы. Клиенты должны подключаться к DNS-имени диспетчера трафика Azure, указывающего на облачную службу Azure весны.  Нагрузка диспетчера трафика Azure распределяет трафик между определенными конечными точками.  Если при аварии центр обработки данных возникнет сбой, диспетчер трафика Azure направляет трафик из этого региона в его пару, гарантируя непрерывность обслуживания.