---
title: Квоты и ограничения служб — пакетная служба Azure | Документация Майкрософт
description: Узнайте о квотах по умолчанию, лимитах и ограничениях пакетной службы Azure, а также о том, как запросить увеличение квоты.
services: batch
documentationcenter: ''
author: laurenhughes
manager: jeconnoc
editor: ''
ms.assetid: 28998df4-8693-431d-b6ad-974c2f8db5fb
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/18/2018
ms.author: lahugh
ms.custom: seodec18
ms.openlocfilehash: f8941f84e85f330713cb4b263f2154acb80b520c
ms.sourcegitcommit: bd15a37170e57b651c54d8b194e5a99b5bcfb58f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2019
ms.locfileid: "57532411"
---
# <a name="batch-service-quotas-and-limits"></a>Квоты и ограничения пакетной службы

Как и в других службах Azure, существуют ограничения на некоторые ресурсы, связанные с пакетной службой. Многие из этих ограничений являются квотами по умолчанию, которые Azure применяет на уровне подписки или учетной записи. В данной статье рассматриваются эти значения по умолчанию и то, как запросить увеличение квот.

Помните об этих квотах при разработке и увеличении масштаба рабочих нагрузок пакетной службы. Например, если в пуле не удается достичь указанного целевого числа вычислительных узлов, возможно, вы достигли основной квоты для учетной записи пакетной службы.

Можно запустить несколько рабочих нагрузок пакетной службы в одной учетной записи пакетной службы. Либо распределить рабочие нагрузки между учетными записями пакетной службы в рамках одной подписки, но в разных регионах Azure.

Если планируется выполнять рабочие нагрузки в производственной среде с использованием пакетной службы, имеет смысл увеличить одну или несколько квот по сравнению со значениями по умолчанию. Для увеличения квоты отправьте (бесплатно) [запрос в службу поддержки клиентов](#increase-a-quota) .

> [!NOTE]
> Квота — это кредитный лимит, а не гарантия наличия ресурсов. Если вам нужны ресурсы в очень большом объеме, обратитесь в службу поддержки Azure.
> 
> 

## <a name="resource-quotas"></a>Квоты ресурсов
[!INCLUDE [azure-batch-limits](../../includes/azure-batch-limits.md)]


### <a name="cores-quotas-in-user-subscription-mode"></a>Квоты на ядра в режиме пользовательской подписки

Если вы создали учетную запись пакетной службы, в которой для режима выделения пула задана **подписка пользователя**, квоты применяются по-другому. В этом режиме, виртуальные машины пакетной службы и другие ресурсы создаются непосредственно в подписке пользователя при создании пула. Квоты на ядра пакетной службы Azure не применяются к учетной записи, созданной в этом режиме. Вместо этого применяются региональные квоты на вычислительные ядра и другие ресурсы в подписке. Вы можете подробнее узнать об этих квотах в статье [Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-subscription-service-limits.md).

## <a name="pool-size-limits"></a>Ограничения размера пула

| **Ресурс** | **Максимальное ограничение** |
| --- | --- |
| **Вычислительные узлы в [пуле с включенной связью между узлами](batch-mpi.md)**  ||
| Режим распределения пула "Пакетная служба" | 100 |
| Режим распределения пула "Пользовательская подписка" | 80 |
| **Вычислительные узлы в [пуле, созданные с помощью пользовательского образа виртуальной машины](batch-custom-images.md)**<sup>1</sup> ||
| Специальные узлы | 2000 |
| Низкоприоритетные узлы | 1000 |

<sup>1</sup> Пулы, для которых не включен обмен данными между узлами.

## <a name="other-limits"></a>Другие ограничения

| **Ресурс** | **Максимальное ограничение** |
| --- | --- |
| [Количество параллельных задач](batch-parallel-node-tasks.md) на один вычислительный узел | В 4 раза больше, чем количество ядер в узле |
| [Количество приложений](batch-application-packages.md) на одну учетную запись пакетной службы | 20 |
| Пакеты приложения на приложение | 40 |
| Максимальное время существования задачи | 180 дней <sup>1</sup> |

<sup>1</sup> Максимальное время существования задачи от ее добавления к заданию до завершения составляет 180 дней. Завершенные задачи сохраняются в течение 7 дней; данные для задач, которые не были завершены в течение максимального времени существования, недоступны.

## <a name="view-batch-quotas"></a>Просмотр квот пакетной службы

Просмотрите квоты своей учетной записи пакетной службы на [портале Azure][portal].

1. Щелкните **Уч. записи пакетной службы** на портале, затем выберите учетную запись пакетной службы, которая вас интересует.
1. Выберите **Свойства** в меню учетной записи пакетной службы.
1. Просмотрите текущие квоты для учетной записи пакетной службы.
   
    ![Квоты для учетной записи пакетной службы][account_quotas]



## <a name="increase-a-quota"></a>Увеличение квоты

Выполните следующие действия, чтобы запросить увеличение квоты для своей учетной записи или подписки на [портале Azure][portal]. Тип увеличения квоты зависит от режима выделения пула в вашей учетной записи пакетной службы.

### <a name="increase-a-batch-cores-quota"></a>Увеличение квоты на ядра в пакетной службе 

1. На панели мониторинга портала выберите элемент **Справка и поддержка** или щелкните вопросительный знак (**?**) в правом верхнем углу портала.
1. Выберите **Новый запрос в службу поддержки** > **Основные**.
1. В разделе **Основные сведения**:
   
    a. **Тип проблемы** > **Квота**.
   
    2. Выберите свою подписку.
   
    c. **Тип квоты** > **Пакетная служба**.
   
    d. **План поддержки** > **Quota support - Included** (Поддержка квоты включена).
   
    Нажмите кнопку **Далее**.
1. В разделе **Проблема**:
   
    a. Выберите **Серьезность** в соответствии с [последствиями для организации][support_sev].
   
    2. В разделе **Сведения**укажите все квоты,которые хотите изменить, имя учетной записи пакетной службы и новые ограничения.
   
    Нажмите кнопку **Далее**.
1. В разделе **Контактные данные**:
   
    a. Выберите **Preferred contact method**(Предпочтительный способ связи).
   
    2. Проверьте и введите необходимые контактные данные.
   
    Щелкните **Создать** , чтобы отправить запрос в службу поддержки.

После отправки запроса служба поддержки Azure свяжется с вами. Обратите внимание, что обработка запроса может занять до 2 рабочих дней.

## <a name="related-quotas-for-vm-pools"></a>Связанные квоты для пулов виртуальных машин

В пулах пакетной службы в конфигурации виртуальной машины, развернутой в виртуальной сети Azure, дополнительные сетевые ресурсы Azure выделяются автоматически. На каждые 50 узлов пула в виртуальной сети требуются следующие ресурсы:

* 1 [группа безопасности сети](../virtual-network/security-overview.md#network-security-groups);
* 1 [общедоступный IP-адрес](../virtual-network/virtual-network-ip-addresses-overview-arm.md);
* 1 [подсистема балансировки нагрузки](../load-balancer/load-balancer-overview.md).

Эти ресурсы выделяются в подписке, которая содержит виртуальную сеть, предоставленную при создании пула пакетной службы. Эти ресурсы ограничены [квотами ресурсов](../azure-subscription-service-limits.md) в подписке. Если вы планируете развертывать большие пулы в виртуальной сети, проверьте квоты в подписке для этих ресурсов. При необходимости запросите увеличение квоты на портале Azure, выбрав **Справка и поддержка**.


## <a name="related-topics"></a>Связанные разделы
* [Создание учетной записи пакетной службы Azure на портале Azure и управление ею](batch-account-create-portal.md)
* [Обзор функций пакетной службы Azure](batch-api-basics.md)
* [Подписка Azure, границы, квоты и ограничения службы](../azure-subscription-service-limits.md)

[portal]: https://portal.azure.com
[portal_classic_increase]: https://azure.microsoft.com/blog/2014/06/04/azure-limits-quotas-increase-requests/
[support_sev]: https://aka.ms/supportseverity

[account_quotas]: ./media/batch-quota-limit/accountquota_portal.png
