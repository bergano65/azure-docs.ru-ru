---
title: Обзор управления устройствами с помощью Центра Интернета вещей Azure | Документация Майкрософт
description: 'Общие сведения об управлении устройствами в Центре Интернета вещей Azure: жизненный цикл корпоративных устройств и шаблоны управления устройствами, такие как перезагрузка, сброс к параметрам по умолчанию, обновление встроенного ПО, настройка, двойники устройства, запросы, задания.'
author: bzurcher
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 08/24/2017
ms.author: briz
ms.openlocfilehash: bdc55af23568b5785a831e81f352400c728c902e
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60400988"
---
# <a name="overview-of-device-management-with-iot-hub"></a>Общие сведения об управлении устройствами с помощью Центра Интернета вещей

Центр Интернета вещей Azure предоставляет возможности и модель расширения, с помощью которых устройство и разработчики серверной части могут создавать надежные решения по управлению устройствами Интернета вещей. Устройства варьируются от ограниченных датчиков и микроконтроллеров узкого назначения до мощных шлюзов, которые выполняют маршрутизацию данных для групп устройств.  Кроме того, варианты использования и требования для операторов устройств Интернета вещей существенно отличаются в разных отраслях.  Несмотря на эти отличия, управление устройствами с помощью Центра Интернета вещей предусматривает возможности, шаблоны и библиотеки кода, предназначенные для различных наборов устройств и пользователей.

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-partial.md)]

Чтобы создать успешное корпоративное решение Интернета вещей, важно разработать стратегию, в соответствии с которой операторы будут выполнять текущие операции управления коллекцией устройств. Для операторов устройств Интернета вещей требуются простые надежные инструменты и приложения, позволяющие им сосредоточиться на более стратегических аспектах работы. Эта статья содержит:

* общие сведения о подходе Центра Интернета вещей Azure к управлению устройствами;
* описание общих принципов управления устройствами;
* описание жизненного цикла устройств;
* обзор общих шаблонов управления устройствами.

## <a name="device-management-principles"></a>Принципы управления устройствами

Использование Интернета вещей сопровождается уникальными задачами управления устройствами, поэтому в каждом решении корпоративного класса должны учитываться следующие принципы:

![Рисунок с принципами управления устройствами](media/iot-hub-device-management-overview/image4.png)

* **Масштабирование и автоматизация**: Решений Интернета вещей требуются простые средства, которые могут автоматизировать рутинные задачи и включить относительно небольшому количеству операторов управлять миллионами устройств. Ежедневно операторам требуется массово обрабатывать операции с устройствами в дистанционном режиме. Таким образом, необходимо, чтобы они получали оповещения только при возникновении проблем, требующих их внимания.

* **Открытость и совместимость**: Экосистема устройств чрезвычайно разнообразна. Средства управления должны поддерживать множество разных классов устройств, а также платформ и протоколов. Операторы должны поддерживать многие типы устройств — от встроенных однопроцессных микросхем с максимальными ограничениями до мощных полнофункциональных компьютеров.

* **Поддержка контекста**: Среды Интернета вещей — это динамический и постоянно меняющиеся. Поэтому надежность службы имеет первостепенную важность. Чтобы перерывы на обслуживание не повлияли на критически важные бизнес-операции и не вызвали опасное состояние, для операций управления устройствами следует учитывать следующие факторы.

    * Периоды обслуживания в рамках соглашения об уровне обслуживания
    * Состояния сети и электропитания
    * Условия использования
    * Географическое расположение устройства

* **Многочисленность ролей службы**: Крайне важна поддержка уникальных рабочих процессов и процессов роли операций Интернета вещей. Операторы должны работать с учетом ограничений внутренних ИТ-отделов.  Им также нужно найти способ предоставлять соответствующие сведения об операциях устройств в реальном времени своим руководителям и другим сотрудникам с важными бизнес-ролями.

## <a name="device-lifecycle"></a>Жизненный цикл устройств
Есть набор этапов управления устройствами, которые являются общими для всех корпоративных проектов Интернета вещей. Центр Интернета вещей Azure предусматривает пять этапов жизненного цикла устройств.

![Пять этапов жизненного цикла устройств в Центре Интернета вещей Azure: планирование, подготовка, настройка, мониторинг, прекращение использования](./media/iot-hub-device-management-overview/image5.png)

На каждом из этих пяти этапов есть ряд требований к оператору устройств, которые необходимо выполнить, чтобы обеспечить комплексное решение.

* **Планирование**: Включить операторы создают схему метаданных устройства, который позволит легко и точно запрашивать и выбрать группу устройств для массового управления операциями. Для хранения метаданных устройства в форме тегов и свойств можно использовать его двойник.
  
    *Дополнительные материалы*: 
    * [Начало работы с двойниками устройств](iot-hub-node-node-twin-getstarted.md)
    * [Основные сведения о двойниках устройств](iot-hub-devguide-device-twins.md)
    * [Руководство. Настройка устройств из внутренней службы](tutorial-device-twins.md)
    * [Рекомендации по настройке устройств в рамках решения Интернета вещей](iot-hub-configuration-best-practices.md)

* **Подготовка**: Безопасно подготавливать новые устройства в центр Интернета вещей и включить операторы могут мгновенно определить возможности устройства.  Реестр удостоверений Центра Интернета вещей позволяет гибко использовать удостоверения устройств и учетные данные. Эти действия можно выполнять в пакетном режиме с помощью задания. На этом этапе также создаются устройства, чтобы формировать сведения об их возможностях и условиях на основе свойств в двойнике устройства.
  
    *Дополнительные материалы*: 
    * [Управление удостоверениями устройств](iot-hub-devguide-identity-registry.md)
    * [Массовое управление удостоверениями устройств](iot-hub-bulk-identity-mgmt.md)
    * [Руководство. Настройка устройств из внутренней службы](tutorial-device-twins.md)
    * [Рекомендации по настройке устройств в рамках решения Интернета вещей](iot-hub-configuration-best-practices.md)
    * [Служба подготовки устройств для Центра Интернета вещей Azure](https://azure.microsoft.com/documentation/services/iot-dps)

* **Настройка**. Упростите массовое изменение конфигурации и обновления встроенного по на устройствах сохранением работоспособности и безопасности. Эти операции управления устройствами выполняются в пакетном режиме с использованием требуемых свойств или прямых методов и трансляции заданий.
  
    *Дополнительные материалы*:
    * [Руководство. Настройка устройств из внутренней службы](tutorial-device-twins.md)
    * [Настройка и мониторинг устройств Центра Интернета вещей в масштабе](iot-hub-auto-device-config.md)
    * [Рекомендации по настройке устройств в рамках решения Интернета вещей](iot-hub-configuration-best-practices.md)

* **Монитор**: Отслеживать общую работоспособность коллекции устройств, состояния текущих операций и оповещения операторы для проблем, требующих их внимания.  Чтобы разрешить устройствам отправлять отчеты об условиях работы в режиме реального времени и состоянии операций обновления, используется двойник устройства. С помощью запросов двойника устройства создаются эффективные отчеты панели мониторинга, которые предоставляют сведения о проблемах, требующих немедленного решения.
  
    *Дополнительные материалы*: 
    * [Руководство. Настройка устройств из внутренней службы](tutorial-device-twins.md)
    * [Язык запросов Центра Интернета вещей для двойников устройств и двойников модулей, заданий и маршрутизации сообщений](iot-hub-devguide-query-language.md)
    * [Настройка и мониторинг устройств Центра Интернета вещей в масштабе](iot-hub-auto-device-config.md)
    * [Рекомендации по настройке устройств в рамках решения Интернета вещей](iot-hub-configuration-best-practices.md)

* **Снятие с учета**: Замена или Списывание устройства после сбоя, цикла обновления или в конце времени существования службы.  При замене, архивации или прекращении использования физического устройства сведения об устройстве сохраняются с помощью двойника устройства. Безопасный отзыв удостоверений и учетных данных устройств выполняется с помощью реестра удостоверений Центра Интернета вещей.
  
    *Дополнительные материалы*: 
    * [Руководство. Настройка устройств из внутренней службы](tutorial-device-twins.md)
    * [Управление удостоверениями устройств](iot-hub-devguide-identity-registry.md)

## <a name="device-management-patterns"></a>Шаблоны управления устройствами

Центр Интернета вещей предусматривает следующий набор шаблонов управления устройствами. В [руководствах по управлению устройствами](iot-hub-node-node-device-management-get-started.md) более подробно рассматривается, как расширить эти шаблоны в соответствии с конкретным сценарием и как создавать новые шаблоны на основе этих базовых шаблонов.

* **Перезагрузите**: Серверное приложение информирует устройство через прямой метод что перезагрузка инициирована.  Устройство использует полученные свойства для обновления состояния перезагрузки устройства.
  
    ![Рисунок шаблона перезагрузки управления устройствами](./media/iot-hub-device-management-overview/reboot-pattern.png)

* **Сброс до заводских настроек**: Серверное приложение информирует устройство через прямой метод что инициирован Сброс. Устройство использует полученные свойства для обновления состояния сброса параметров устройства.
  
    ![Рисунок шаблона сброса к параметрам по умолчанию управления устройствами](./media/iot-hub-device-management-overview/facreset-pattern.png)

* **Конфигурация.** Серверное приложение использует требуемые свойства для настройки программного обеспечения на устройстве. Устройство использует полученные свойства для обновления состояния конфигурации устройства.
  
    ![Рисунок шаблона настройки управления устройствами](./media/iot-hub-device-management-overview/configuration-pattern.png)

* **Обновление встроенного по**: Серверное приложение использует конфигурацию автоматического устройства управления для выбора устройств для получения обновления, чтобы указать на устройствах, где найти обновление, а также отслеживания процесса обновления. Устройство инициирует многоэтапный процесс, включающий скачивание, проверку и применение образа встроенного ПО, а также перезагрузку устройства перед повторным подключением к службе Центра Интернета вещей. На протяжении всего этого многоэтапного процесса устройство использует полученные свойства для обновления хода выполнения и состояния устройства.
  
    ![Рисунок шаблона обновления встроенного ПО управления устройствами](media/iot-hub-device-management-overview/fwupdate-pattern.png)

* **Отчеты о ходе выполнения и состоянии**: Запускает запросы к двойникам серверной части решения на ряде устройств, для создания отчетов о состоянии и ходе выполнения действий на устройствах.
  
    ![Рисунок шаблона отчетов о ходе выполнения и состоянии управления устройства](./media/iot-hub-device-management-overview/report-progress-pattern.png)

## <a name="next-steps"></a>Следующие шаги

С помощью возможностей, шаблонов и библиотек кода, которые предоставляет Центр Интернета вещей для управления устройствами, можно создавать приложения Интернета вещей, отвечающие требованиям корпоративного оператора устройств Интернета вещей на каждом этапе жизненного цикла устройства.

Чтобы продолжить ознакомление с функциями управления устройствами в Центре Интернета вещей, изучите руководство [How to get started with device management (Node)](iot-hub-node-node-device-management-get-started.md) (Приступая к работе с функциями управления устройствами (Node)).