---
title: Запрашивание данных в предварительной версии службы "Аналитика временных рядов Azure" | Документация Майкрософт
description: Запрашивание данных в предварительной версии службы "Аналитика временных рядов Azure".
author: ashannon7
ms.author: anshan
ms.workload: big-data
manager: cshankar
ms.service: time-series-insights
services: time-series-insights
ms.topic: conceptual
ms.date: 12/04/2018
ms.custom: seodec18
ms.openlocfilehash: 48a9a1d0f79a7a36b90fa87651a5283cba87de20
ms.sourcegitcommit: 7fd404885ecab8ed0c942d81cb889f69ed69a146
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2018
ms.locfileid: "53275811"
---
# <a name="data-querying"></a>Запрашивание данных

Служба "Аналитика временных рядов" (предварительная версия) позволяет запрашивать данные о событиях и метаданных, хранящихся в среде, с помощью программных интерфейсов общедоступной области. Эти программные интерфейсы (API) также используются в [обозревателе службы "Аналитика временных рядов" (предварительная версия)](./time-series-insights-update-explorer.md).

Доступны три основные категории API в службе "Аналитика временных рядов":

* **Программные интерфейсы среды**. Позволяют выполнять запросы самой среды службы "Аналитика временных рядов". К примерам запросов относятся перечисление сред, к которым вызывающая сторона имеет доступ, и вывод метаданных среды.

* **Программные интерфейсы запросов модели временных рядов (TSM-Q)**. Позволяют выполнять операции создания, чтения, обновления и удаления в метаданных, хранящихся в модели временных рядов, которая является частью среды. Эти операции могут выполняться с экземплярами, типами и иерархиями.

* **Программные интерфейсы запросов временных рядов (TSQ)**. Позволяют получать данные событий, записанных из поставщика источника. Эти программные интерфейсы могут выполнять операции для преобразования, объединения данных временных рядов и выполнения вычислений в них.

[Язык выражений временных рядов (TSX)](https://docs.microsoft.com/rest/api/time-series-insights/preview-tsx) — это эффективная четвертая категория. Он использует модели временных рядов для обеспечения создания расширенного вычисления.

## <a name="azure-time-series-insights-preview-core-apis"></a>Основные API службы "Аналитика временных рядов Azure" (предварительная версия)

Поддерживаются следующие основные программные интерфейсы.

![tsq][1]

### <a name="environment-apis"></a>Программные интерфейсы среды

Доступны следующие программные интерфейсы среды:

* [API получения списка сред](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-environments-api). Возвращает список сред, к которым вызывающая сторона может получать доступ.
* [API получения доступных событий в среде](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-environment-availability-api). Возвращает распределение количества событий по метке времени для событий `$ts`. Этот API позволяет определить наличие событий для метки времени, возвращая количество событий, если таковые существуют.
* [API получения схемы событий](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-event-schema-api). Возвращает метаданные схемы событий для заданной области поиска. Этот API позволяет получить все метаданные и свойства, доступные в схеме для заданной области поиска.

### <a name="time-series-model-query-tsm-q-apis"></a>API запросов модели временных рядов (TSM-Q)

Доступны следующие программные интерфейсы запросов модели временных рядов:

* [API параметров модели](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#model-settings-api). Позволяет получить и обновить тип по умолчанию и имя модели среды.
* [API типов](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#types-api). Позволяет выполнять операции CRUD с типами временных рядов и связанными с ними переменными.
* [API иерархий](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#hierarchies-api). Позволяет выполнять операции с иерархиями временных рядов и связанными с ними переменными.
* [API экземпляров](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#instances-api). Позволяет выполнять операции с иерархиями временных рядов и связанными с ними полями экземпляра.

### <a name="time-series-query-tsq-apis"></a>API запросов временных рядов (TSQ)

Доступны следующие программные интерфейсы запросов временных рядов:

* [API получения событий](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#get-events-api). Позволяет запрашивать и получать данные Аналитики временных рядов из событий, записываемых в службу "Аналитика временных рядов" из поставщика источника.

* [API получения рядов](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#get-series-api). Позволяет запрашивать и получать данные Аналитики временных рядов из записываемых событий, используя данные, записанные в сети. Возвращаемые значения основаны на встроенных переменных или переменных, которые были определены в модели.

    >[!NOTE]
    > Предложение статистического вычисления игнорируется даже в том случае, если оно указано в модели или встроенное.

  API получения рядов возвращает значение временных рядов для каждой переменной каждого интервала. Значения временных рядов — это формат, который Аналитика временных рядов использует для выходных данных JSON, возвращаемых из запроса. Возвращаемые значения основаны на идентификаторе временного ряда и наборе предоставленных переменных.

* [API статистического вычисления рядов](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#aggregate-series-api). Позволяет запрашивать и получать данные Аналитики временных рядов из записанных событий, используя выборку и вычисление записанных данных.

  API статистического вычисления рядов возвращает значение временных рядов для каждой переменной каждого интервала. Значения основаны на идентификаторе временного ряда и наборе предоставленных переменных. API статистического вычисления рядов обеспечивает сокращение за счет использования переменных, которые хранятся в модели временных рядов или встроены, для статистического вычисления или выборки данных.

  Поддерживаемые типы статистических выражений: `Min`, `Max`, `Sum`, `Count`, `Average`

## <a name="next-steps"></a>Дополнительная информация

См. следующие сведения:

- [Хранилище и входящий трафик в предварительной версии службы "Аналитика временных рядов Azure"](./time-series-insights-update-storage-ingress.md)
- [Моделирование данных](./time-series-insights-update-tsm.md)
- [Лучшие методики при выборе идентификатора временного ряда](./time-series-insights-update-how-to-id.md)

<!-- Images -->
[1]: media/v2-update-tsq/tsq.png
