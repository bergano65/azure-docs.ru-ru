---
title: Обнаружение удаленных ресурсов при сканировании
description: В этой статье объясняется, как учетная запись Azure зрения обнаруживает удаленные ресурсы во время сканирования.
author: yaronyg
ms.author: yarong
ms.service: purview
ms.subservice: purview-data-catalog
ms.topic: conceptual
ms.date: 10/16/2020
ms.openlocfilehash: 9b1515ef00355c831e161c01227678197792cc20
ms.sourcegitcommit: 65db02799b1f685e7eaa7e0ecf38f03866c33ad1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2020
ms.locfileid: "96555385"
---
# <a name="how-scans-detect-deleted-assets"></a>Обнаружение удаленных ресурсов при сканировании

В этой статье описывается, как Azure зрения использует результаты проверки для обнаружения удаленных ресурсов.

## <a name="background-info"></a>Сведения о фоне

Каталог зрения для Azure осведомлен о состоянии хранилища данных только при его сканировании. Чтобы каталог знал об удалении файла, таблицы или контейнера, он сравнивает выходные данные последней проверки с текущим выходом сканирования. Например, предположим, что при последней проверке учетной записи Azure Data Lake Storage 2-го поколения она включала папку с именем *папка1*. Если одна и та же учетная запись снова сканируется, *папка1* отсутствует. Поэтому каталог предполагает, что папка была удалена.

## <a name="detecting-deleted-files"></a>Обнаружение удаленных файлов

Логика обнаружения отсутствующих файлов работает для нескольких проверок одного и того же пользователя, а также для разных пользователей. Например, предположим, что пользователь выполняет однократную проверку на Data Lake Storage 2-го поколения хранилище данных в папках A, B и C. Позже другой пользователь в той же учетной записи выполняет однократную проверку в папках C, D и E того же хранилища данных. Так как папка C сканируется дважды, каталог проверяет его на наличие возможных удалений. Однако папки A, B, D и E были проверены только один раз, и каталог не будет проверять наличие удаленных ресурсов.

Чтобы файлы удалялись из каталога, необходимо регулярно выполнять проверку. Интервал проверки важен, так как каталог не может обнаружить удаленные ресурсы, пока не будет запущено другое сканирование. Таким образом, если сканирование выполняется раз в месяц в определенном магазине, каталог не сможет обнаружить удаленные ресурсы данных в этом хранилище до тех пор, пока вы не запустите следующий Просмотр спустя месяц.

При перечислении больших хранилищ данных, таких как Data Lake Storage 2-го поколения, существует несколько способов (включая ошибки перечисления и пропущенные события) для пропуска информации. Определенная проверка может пропускать создание или удаление файла. Таким образом, если каталог не является уверенным в том, что файл был удален, он не удаляется из каталога. Эта стратегия означает, что могут воздержаться ошибки, когда файл, который не существует в хранилище отсканированных данных, по-прежнему существует в каталоге. В некоторых случаях может потребоваться сканирование хранилища данных в два или три раза перед перехватом определенных удаленных ресурсов.

## <a name="next-steps"></a>Дальнейшие шаги

Чтобы приступить к работе с каталогами Azure зрения, см. раздел [Краткое руководство. Создание учетной записи зрения](create-catalog-portal.md).
